function Fp(o,n){for(var r=0;r<n.length;r++){const l=n[r];if(typeof l!="string"&&!Array.isArray(l)){for(const u in l)if(u!=="default"&&!(u in o)){const h=Object.getOwnPropertyDescriptor(l,u);h&&Object.defineProperty(o,u,h.get?h:{enumerable:!0,get:()=>l[u]})}}}return Object.freeze(Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function r(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function l(u){if(u.ep)return;u.ep=!0;const h=r(u);fetch(u.href,h)}})();function s0(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function ev(o){if(Object.prototype.hasOwnProperty.call(o,"__esModule"))return o;var n=o.default;if(typeof n=="function"){var r=function l(){var u=!1;try{u=this instanceof l}catch{}return u?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};r.prototype=n.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(o).forEach(function(l){var u=Object.getOwnPropertyDescriptor(o,l);Object.defineProperty(r,l,u.get?u:{enumerable:!0,get:function(){return o[l]}})}),r}var Dc={exports:{}},Li={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var um;function tv(){if(um)return Li;um=1;var o=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(l,u,h){var f=null;if(h!==void 0&&(f=""+h),u.key!==void 0&&(f=""+u.key),"key"in u){h={};for(var g in u)g!=="key"&&(h[g]=u[g])}else h=u;return u=h.ref,{$$typeof:o,type:l,key:f,ref:u!==void 0?u:null,props:h}}return Li.Fragment=n,Li.jsx=r,Li.jsxs=r,Li}var dm;function av(){return dm||(dm=1,Dc.exports=tv()),Dc.exports}var i=av(),Lc={exports:{}},ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hm;function sv(){if(hm)return ve;hm=1;var o=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),b=Symbol.iterator;function S(N){return N===null||typeof N!="object"?null:(N=b&&N[b]||N["@@iterator"],typeof N=="function"?N:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,E={};function w(N,G,Z){this.props=N,this.context=G,this.refs=E,this.updater=Z||T}w.prototype.isReactComponent={},w.prototype.setState=function(N,G){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,G,"setState")},w.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function P(){}P.prototype=w.prototype;function H(N,G,Z){this.props=N,this.context=G,this.refs=E,this.updater=Z||T}var q=H.prototype=new P;q.constructor=H,O(q,w.prototype),q.isPureReactComponent=!0;var Q=Array.isArray,X={H:null,A:null,T:null,S:null,V:null},I=Object.prototype.hasOwnProperty;function ie(N,G,Z,W,K,ae){return Z=ae.ref,{$$typeof:o,type:N,key:G,ref:Z!==void 0?Z:null,props:ae}}function oe(N,G){return ie(N.type,G,void 0,void 0,void 0,N.props)}function Te(N){return typeof N=="object"&&N!==null&&N.$$typeof===o}function fe(N){var G={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(Z){return G[Z]})}var z=/\/+/g;function L(N,G){return typeof N=="object"&&N!==null&&N.key!=null?fe(""+N.key):G.toString(36)}function F(){}function de(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(F,F):(N.status="pending",N.then(function(G){N.status==="pending"&&(N.status="fulfilled",N.value=G)},function(G){N.status==="pending"&&(N.status="rejected",N.reason=G)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function me(N,G,Z,W,K){var ae=typeof N;(ae==="undefined"||ae==="boolean")&&(N=null);var te=!1;if(N===null)te=!0;else switch(ae){case"bigint":case"string":case"number":te=!0;break;case"object":switch(N.$$typeof){case o:case n:te=!0;break;case x:return te=N._init,me(te(N._payload),G,Z,W,K)}}if(te)return K=K(N),te=W===""?"."+L(N,0):W,Q(K)?(Z="",te!=null&&(Z=te.replace(z,"$&/")+"/"),me(K,G,Z,"",function(le){return le})):K!=null&&(Te(K)&&(K=oe(K,Z+(K.key==null||N&&N.key===K.key?"":(""+K.key).replace(z,"$&/")+"/")+te)),G.push(K)),1;te=0;var Le=W===""?".":W+":";if(Q(N))for(var B=0;B<N.length;B++)W=N[B],ae=Le+L(W,B),te+=me(W,G,Z,ae,K);else if(B=S(N),typeof B=="function")for(N=B.call(N),B=0;!(W=N.next()).done;)W=W.value,ae=Le+L(W,B++),te+=me(W,G,Z,ae,K);else if(ae==="object"){if(typeof N.then=="function")return me(de(N),G,Z,W,K);throw G=String(N),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return te}function M(N,G,Z){if(N==null)return N;var W=[],K=0;return me(N,W,"","",function(ae){return G.call(Z,ae,K++)}),W}function J(N){if(N._status===-1){var G=N._result;G=G(),G.then(function(Z){(N._status===0||N._status===-1)&&(N._status=1,N._result=Z)},function(Z){(N._status===0||N._status===-1)&&(N._status=2,N._result=Z)}),N._status===-1&&(N._status=0,N._result=G)}if(N._status===1)return N._result.default;throw N._result}var ee=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function be(){}return ve.Children={map:M,forEach:function(N,G,Z){M(N,function(){G.apply(this,arguments)},Z)},count:function(N){var G=0;return M(N,function(){G++}),G},toArray:function(N){return M(N,function(G){return G})||[]},only:function(N){if(!Te(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},ve.Component=w,ve.Fragment=r,ve.Profiler=u,ve.PureComponent=H,ve.StrictMode=l,ve.Suspense=p,ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,ve.__COMPILER_RUNTIME={__proto__:null,c:function(N){return X.H.useMemoCache(N)}},ve.cache=function(N){return function(){return N.apply(null,arguments)}},ve.cloneElement=function(N,G,Z){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var W=O({},N.props),K=N.key,ae=void 0;if(G!=null)for(te in G.ref!==void 0&&(ae=void 0),G.key!==void 0&&(K=""+G.key),G)!I.call(G,te)||te==="key"||te==="__self"||te==="__source"||te==="ref"&&G.ref===void 0||(W[te]=G[te]);var te=arguments.length-2;if(te===1)W.children=Z;else if(1<te){for(var Le=Array(te),B=0;B<te;B++)Le[B]=arguments[B+2];W.children=Le}return ie(N.type,K,void 0,void 0,ae,W)},ve.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:h,_context:N},N},ve.createElement=function(N,G,Z){var W,K={},ae=null;if(G!=null)for(W in G.key!==void 0&&(ae=""+G.key),G)I.call(G,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(K[W]=G[W]);var te=arguments.length-2;if(te===1)K.children=Z;else if(1<te){for(var Le=Array(te),B=0;B<te;B++)Le[B]=arguments[B+2];K.children=Le}if(N&&N.defaultProps)for(W in te=N.defaultProps,te)K[W]===void 0&&(K[W]=te[W]);return ie(N,ae,void 0,void 0,null,K)},ve.createRef=function(){return{current:null}},ve.forwardRef=function(N){return{$$typeof:g,render:N}},ve.isValidElement=Te,ve.lazy=function(N){return{$$typeof:x,_payload:{_status:-1,_result:N},_init:J}},ve.memo=function(N,G){return{$$typeof:v,type:N,compare:G===void 0?null:G}},ve.startTransition=function(N){var G=X.T,Z={};X.T=Z;try{var W=N(),K=X.S;K!==null&&K(Z,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(be,ee)}catch(ae){ee(ae)}finally{X.T=G}},ve.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},ve.use=function(N){return X.H.use(N)},ve.useActionState=function(N,G,Z){return X.H.useActionState(N,G,Z)},ve.useCallback=function(N,G){return X.H.useCallback(N,G)},ve.useContext=function(N){return X.H.useContext(N)},ve.useDebugValue=function(){},ve.useDeferredValue=function(N,G){return X.H.useDeferredValue(N,G)},ve.useEffect=function(N,G,Z){var W=X.H;if(typeof Z=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(N,G)},ve.useId=function(){return X.H.useId()},ve.useImperativeHandle=function(N,G,Z){return X.H.useImperativeHandle(N,G,Z)},ve.useInsertionEffect=function(N,G){return X.H.useInsertionEffect(N,G)},ve.useLayoutEffect=function(N,G){return X.H.useLayoutEffect(N,G)},ve.useMemo=function(N,G){return X.H.useMemo(N,G)},ve.useOptimistic=function(N,G){return X.H.useOptimistic(N,G)},ve.useReducer=function(N,G,Z){return X.H.useReducer(N,G,Z)},ve.useRef=function(N){return X.H.useRef(N)},ve.useState=function(N){return X.H.useState(N)},ve.useSyncExternalStore=function(N,G,Z){return X.H.useSyncExternalStore(N,G,Z)},ve.useTransition=function(){return X.H.useTransition()},ve.version="19.1.1",ve}var fm;function du(){return fm||(fm=1,Lc.exports=sv()),Lc.exports}var _=du();const Wa=s0(_),nv=Fp({__proto__:null,default:Wa},[_]);var Uc={exports:{}},Ui={},zc={exports:{}},Bc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mm;function iv(){return mm||(mm=1,(function(o){function n(M,J){var ee=M.length;M.push(J);e:for(;0<ee;){var be=ee-1>>>1,N=M[be];if(0<u(N,J))M[be]=J,M[ee]=N,ee=be;else break e}}function r(M){return M.length===0?null:M[0]}function l(M){if(M.length===0)return null;var J=M[0],ee=M.pop();if(ee!==J){M[0]=ee;e:for(var be=0,N=M.length,G=N>>>1;be<G;){var Z=2*(be+1)-1,W=M[Z],K=Z+1,ae=M[K];if(0>u(W,ee))K<N&&0>u(ae,W)?(M[be]=ae,M[K]=ee,be=K):(M[be]=W,M[Z]=ee,be=Z);else if(K<N&&0>u(ae,ee))M[be]=ae,M[K]=ee,be=K;else break e}}return J}function u(M,J){var ee=M.sortIndex-J.sortIndex;return ee!==0?ee:M.id-J.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;o.unstable_now=function(){return h.now()}}else{var f=Date,g=f.now();o.unstable_now=function(){return f.now()-g}}var p=[],v=[],x=1,b=null,S=3,T=!1,O=!1,E=!1,w=!1,P=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function Q(M){for(var J=r(v);J!==null;){if(J.callback===null)l(v);else if(J.startTime<=M)l(v),J.sortIndex=J.expirationTime,n(p,J);else break;J=r(v)}}function X(M){if(E=!1,Q(M),!O)if(r(p)!==null)O=!0,I||(I=!0,L());else{var J=r(v);J!==null&&me(X,J.startTime-M)}}var I=!1,ie=-1,oe=5,Te=-1;function fe(){return w?!0:!(o.unstable_now()-Te<oe)}function z(){if(w=!1,I){var M=o.unstable_now();Te=M;var J=!0;try{e:{O=!1,E&&(E=!1,H(ie),ie=-1),T=!0;var ee=S;try{t:{for(Q(M),b=r(p);b!==null&&!(b.expirationTime>M&&fe());){var be=b.callback;if(typeof be=="function"){b.callback=null,S=b.priorityLevel;var N=be(b.expirationTime<=M);if(M=o.unstable_now(),typeof N=="function"){b.callback=N,Q(M),J=!0;break t}b===r(p)&&l(p),Q(M)}else l(p);b=r(p)}if(b!==null)J=!0;else{var G=r(v);G!==null&&me(X,G.startTime-M),J=!1}}break e}finally{b=null,S=ee,T=!1}J=void 0}}finally{J?L():I=!1}}}var L;if(typeof q=="function")L=function(){q(z)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,de=F.port2;F.port1.onmessage=z,L=function(){de.postMessage(null)}}else L=function(){P(z,0)};function me(M,J){ie=P(function(){M(o.unstable_now())},J)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(M){M.callback=null},o.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<M?Math.floor(1e3/M):5},o.unstable_getCurrentPriorityLevel=function(){return S},o.unstable_next=function(M){switch(S){case 1:case 2:case 3:var J=3;break;default:J=S}var ee=S;S=J;try{return M()}finally{S=ee}},o.unstable_requestPaint=function(){w=!0},o.unstable_runWithPriority=function(M,J){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var ee=S;S=M;try{return J()}finally{S=ee}},o.unstable_scheduleCallback=function(M,J,ee){var be=o.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?be+ee:be):ee=be,M){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=ee+N,M={id:x++,callback:J,priorityLevel:M,startTime:ee,expirationTime:N,sortIndex:-1},ee>be?(M.sortIndex=ee,n(v,M),r(p)===null&&M===r(v)&&(E?(H(ie),ie=-1):E=!0,me(X,ee-be))):(M.sortIndex=N,n(p,M),O||T||(O=!0,I||(I=!0,L()))),M},o.unstable_shouldYield=fe,o.unstable_wrapCallback=function(M){var J=S;return function(){var ee=S;S=J;try{return M.apply(this,arguments)}finally{S=ee}}}})(Bc)),Bc}var gm;function rv(){return gm||(gm=1,zc.exports=iv()),zc.exports}var Hc={exports:{}},mt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pm;function lv(){if(pm)return mt;pm=1;var o=du();function n(p){var v="https://react.dev/errors/"+p;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)v+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var l={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(p,v,x){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:b==null?null:""+b,children:p,containerInfo:v,implementation:x}}var f=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,v){if(p==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return mt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,mt.createPortal=function(p,v){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(n(299));return h(p,v,null,x)},mt.flushSync=function(p){var v=f.T,x=l.p;try{if(f.T=null,l.p=2,p)return p()}finally{f.T=v,l.p=x,l.d.f()}},mt.preconnect=function(p,v){typeof p=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,l.d.C(p,v))},mt.prefetchDNS=function(p){typeof p=="string"&&l.d.D(p)},mt.preinit=function(p,v){if(typeof p=="string"&&v&&typeof v.as=="string"){var x=v.as,b=g(x,v.crossOrigin),S=typeof v.integrity=="string"?v.integrity:void 0,T=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;x==="style"?l.d.S(p,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:T}):x==="script"&&l.d.X(p,{crossOrigin:b,integrity:S,fetchPriority:T,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},mt.preinitModule=function(p,v){if(typeof p=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var x=g(v.as,v.crossOrigin);l.d.M(p,{crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&l.d.M(p)},mt.preload=function(p,v){if(typeof p=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var x=v.as,b=g(x,v.crossOrigin);l.d.L(p,x,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},mt.preloadModule=function(p,v){if(typeof p=="string")if(v){var x=g(v.as,v.crossOrigin);l.d.m(p,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else l.d.m(p)},mt.requestFormReset=function(p){l.d.r(p)},mt.unstable_batchedUpdates=function(p,v){return p(v)},mt.useFormState=function(p,v,x){return f.H.useFormState(p,v,x)},mt.useFormStatus=function(){return f.H.useHostTransitionStatus()},mt.version="19.1.1",mt}var vm;function n0(){if(vm)return Hc.exports;vm=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(n){console.error(n)}}return o(),Hc.exports=lv(),Hc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ym;function ov(){if(ym)return Ui;ym=1;var o=rv(),n=du(),r=n0();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(h(e)!==e)throw Error(l(188))}function p(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(l(188));return t!==e?null:e}for(var a=e,s=t;;){var c=a.return;if(c===null)break;var d=c.alternate;if(d===null){if(s=c.return,s!==null){a=s;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===a)return g(c),e;if(d===s)return g(c),t;d=d.sibling}throw Error(l(188))}if(a.return!==s.return)a=c,s=d;else{for(var m=!1,y=c.child;y;){if(y===a){m=!0,a=c,s=d;break}if(y===s){m=!0,s=c,a=d;break}y=y.sibling}if(!m){for(y=d.child;y;){if(y===a){m=!0,a=d,s=c;break}if(y===s){m=!0,s=d,a=c;break}y=y.sibling}if(!m)throw Error(l(189))}}if(a.alternate!==s)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var x=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),H=Symbol.for("react.consumer"),q=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),Te=Symbol.for("react.activity"),fe=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=z&&e[z]||e["@@iterator"],typeof e=="function"?e:null)}var F=Symbol.for("react.client.reference");function de(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===F?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case O:return"Fragment";case w:return"Profiler";case E:return"StrictMode";case X:return"Suspense";case I:return"SuspenseList";case Te:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case T:return"Portal";case q:return(e.displayName||"Context")+".Provider";case H:return(e._context.displayName||"Context")+".Consumer";case Q:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ie:return t=e.displayName||null,t!==null?t:de(e.type)||"Memo";case oe:t=e._payload,e=e._init;try{return de(e(t))}catch{}}return null}var me=Array.isArray,M=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},be=[],N=-1;function G(e){return{current:e}}function Z(e){0>N||(e.current=be[N],be[N]=null,N--)}function W(e,t){N++,be[N]=e.current,e.current=t}var K=G(null),ae=G(null),te=G(null),Le=G(null);function B(e,t){switch(W(te,t),W(ae,e),W(K,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Bf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Bf(t),e=Hf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Z(K),W(K,e)}function le(){Z(K),Z(ae),Z(te)}function ge(e){e.memoizedState!==null&&W(Le,e);var t=K.current,a=Hf(t,e.type);t!==a&&(W(ae,e),W(K,a))}function Ce(e){ae.current===e&&(Z(K),Z(ae)),Le.current===e&&(Z(Le),Oi._currentValue=ee)}var Ye=Object.prototype.hasOwnProperty,_a=o.unstable_scheduleCallback,Vt=o.unstable_cancelCallback,as=o.unstable_shouldYield,ss=o.unstable_requestPaint,Ue=o.unstable_now,Bn=o.unstable_getCurrentPriorityLevel,Hn=o.unstable_ImmediatePriority,qn=o.unstable_UserBlockingPriority,Zt=o.unstable_NormalPriority,Qi=o.unstable_LowPriority,Xi=o.unstable_IdlePriority,Ji=o.log,Rs=o.unstable_setDisableYieldValue,ns=null,gt=null;function Wt(e){if(typeof Ji=="function"&&Rs(e),gt&&typeof gt.setStrictMode=="function")try{gt.setStrictMode(ns,e)}catch{}}var pt=Math.clz32?Math.clz32:_l,jl=Math.log,wl=Math.LN2;function _l(e){return e>>>=0,e===0?32:31-(jl(e)/wl|0)|0}var Ms=256,Ds=4194304;function na(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function is(e,t,a){var s=e.pendingLanes;if(s===0)return 0;var c=0,d=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var y=s&134217727;return y!==0?(s=y&~d,s!==0?c=na(s):(m&=y,m!==0?c=na(m):a||(a=y&~e,a!==0&&(c=na(a))))):(y=s&~d,y!==0?c=na(y):m!==0?c=na(m):a||(a=s&~e,a!==0&&(c=na(a)))),c===0?0:t!==0&&t!==c&&(t&d)===0&&(d=c&-c,a=t&-t,d>=a||d===32&&(a&4194048)!==0)?t:c}function rs(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Zi(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function se(){var e=Ms;return Ms<<=1,(Ms&4194048)===0&&(Ms=256),e}function Se(){var e=Ds;return Ds<<=1,(Ds&62914560)===0&&(Ds=4194304),e}function at(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Mt(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Wi(e,t,a,s,c,d){var m=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var y=e.entanglements,j=e.expirationTimes,R=e.hiddenUpdates;for(a=m&~a;0<a;){var $=31-pt(a),Y=1<<$;y[$]=0,j[$]=-1;var D=R[$];if(D!==null)for(R[$]=null,$=0;$<D.length;$++){var U=D[$];U!==null&&(U.lane&=-536870913)}a&=~Y}s!==0&&Ii(e,s,0),d!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=d&~(m&~t))}function Ii(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-pt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|a&4194090}function Ls(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-pt(a),c=1<<s;c&t|e[s]&t&&(e[s]|=t),a&=~c}}function Us(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Sl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Su(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:nm(e.type))}function $0(e,t){var a=J.p;try{return J.p=e,t()}finally{J.p=a}}var Sa=Math.random().toString(36).slice(2),ht="__reactFiber$"+Sa,xt="__reactProps$"+Sa,zs="__reactContainer$"+Sa,Nl="__reactEvents$"+Sa,G0="__reactListeners$"+Sa,V0="__reactHandles$"+Sa,Nu="__reactResources$"+Sa,Pn="__reactMarker$"+Sa;function kl(e){delete e[ht],delete e[xt],delete e[Nl],delete e[G0],delete e[V0]}function Bs(e){var t=e[ht];if(t)return t;for(var a=e.parentNode;a;){if(t=a[zs]||a[ht]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Gf(e);e!==null;){if(a=e[ht])return a;e=Gf(e)}return t}e=a,a=e.parentNode}return null}function Hs(e){if(e=e[ht]||e[zs]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function $n(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function qs(e){var t=e[Nu];return t||(t=e[Nu]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function st(e){e[Pn]=!0}var ku=new Set,Tu={};function ls(e,t){Ps(e,t),Ps(e+"Capture",t)}function Ps(e,t){for(Tu[e]=t,e=0;e<t.length;e++)ku.add(t[e])}var Y0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Eu={},Au={};function K0(e){return Ye.call(Au,e)?!0:Ye.call(Eu,e)?!1:Y0.test(e)?Au[e]=!0:(Eu[e]=!0,!1)}function Fi(e,t,a){if(K0(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function er(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function ia(e,t,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+s)}}var Tl,Ou;function $s(e){if(Tl===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Tl=t&&t[1]||"",Ou=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Tl+e+Ou}var El=!1;function Al(e,t){if(!e||El)return"";El=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(U){var D=U}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(U){D=U}e.call(Y.prototype)}}else{try{throw Error()}catch(U){D=U}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(U){if(U&&D&&typeof U.stack=="string")return[U.stack,D.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=s.DetermineComponentFrameRoot(),m=d[0],y=d[1];if(m&&y){var j=m.split(`
`),R=y.split(`
`);for(c=s=0;s<j.length&&!j[s].includes("DetermineComponentFrameRoot");)s++;for(;c<R.length&&!R[c].includes("DetermineComponentFrameRoot");)c++;if(s===j.length||c===R.length)for(s=j.length-1,c=R.length-1;1<=s&&0<=c&&j[s]!==R[c];)c--;for(;1<=s&&0<=c;s--,c--)if(j[s]!==R[c]){if(s!==1||c!==1)do if(s--,c--,0>c||j[s]!==R[c]){var $=`
`+j[s].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=s&&0<=c);break}}}finally{El=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?$s(a):""}function Q0(e){switch(e.tag){case 26:case 27:case 5:return $s(e.type);case 16:return $s("Lazy");case 13:return $s("Suspense");case 19:return $s("SuspenseList");case 0:case 15:return Al(e.type,!1);case 11:return Al(e.type.render,!1);case 1:return Al(e.type,!0);case 31:return $s("Activity");default:return""}}function Cu(e){try{var t="";do t+=Q0(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ru(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function X0(e){var t=Ru(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,d=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(m){s=""+m,d.call(this,m)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return s},setValue:function(m){s=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function tr(e){e._valueTracker||(e._valueTracker=X0(e))}function Mu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=Ru(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function ar(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var J0=/[\n"\\]/g;function Lt(e){return e.replace(J0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ol(e,t,a,s,c,d,m,y){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Dt(t)):e.value!==""+Dt(t)&&(e.value=""+Dt(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?Cl(e,m,Dt(t)):a!=null?Cl(e,m,Dt(a)):s!=null&&e.removeAttribute("value"),c==null&&d!=null&&(e.defaultChecked=!!d),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+Dt(y):e.removeAttribute("name")}function Du(e,t,a,s,c,d,m,y){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||t!=null))return;a=a!=null?""+Dt(a):"",t=t!=null?""+Dt(t):a,y||t===e.value||(e.value=t),e.defaultValue=t}s=s??c,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=y?e.checked:!!s,e.defaultChecked=!!s,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m)}function Cl(e,t,a){t==="number"&&ar(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Gs(e,t,a,s){if(e=e.options,t){t={};for(var c=0;c<a.length;c++)t["$"+a[c]]=!0;for(a=0;a<e.length;a++)c=t.hasOwnProperty("$"+e[a].value),e[a].selected!==c&&(e[a].selected=c),c&&s&&(e[a].defaultSelected=!0)}else{for(a=""+Dt(a),t=null,c=0;c<e.length;c++){if(e[c].value===a){e[c].selected=!0,s&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Lu(e,t,a){if(t!=null&&(t=""+Dt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Dt(a):""}function Uu(e,t,a,s){if(t==null){if(s!=null){if(a!=null)throw Error(l(92));if(me(s)){if(1<s.length)throw Error(l(93));s=s[0]}a=s}a==null&&(a=""),t=a}a=Dt(t),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s)}function Vs(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Z0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zu(e,t,a){var s=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,a):typeof a!="number"||a===0||Z0.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Bu(e,t,a){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var c in t)s=t[c],t.hasOwnProperty(c)&&a[c]!==s&&zu(e,c,s)}else for(var d in t)t.hasOwnProperty(d)&&zu(e,d,t[d])}function Rl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var W0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),I0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sr(e){return I0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ml=null;function Dl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ys=null,Ks=null;function Hu(e){var t=Hs(e);if(t&&(e=t.stateNode)){var a=e[xt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ol(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Lt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var c=s[xt]||null;if(!c)throw Error(l(90));Ol(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<a.length;t++)s=a[t],s.form===e.form&&Mu(s)}break e;case"textarea":Lu(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Gs(e,!!a.multiple,t,!1)}}}var Ll=!1;function qu(e,t,a){if(Ll)return e(t,a);Ll=!0;try{var s=e(t);return s}finally{if(Ll=!1,(Ys!==null||Ks!==null)&&($r(),Ys&&(t=Ys,e=Ks,Ks=Ys=null,Hu(t),e)))for(t=0;t<e.length;t++)Hu(e[t])}}function Gn(e,t){var a=e.stateNode;if(a===null)return null;var s=a[xt]||null;if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,t,typeof a));return a}var ra=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ul=!1;if(ra)try{var Vn={};Object.defineProperty(Vn,"passive",{get:function(){Ul=!0}}),window.addEventListener("test",Vn,Vn),window.removeEventListener("test",Vn,Vn)}catch{Ul=!1}var Na=null,zl=null,nr=null;function Pu(){if(nr)return nr;var e,t=zl,a=t.length,s,c="value"in Na?Na.value:Na.textContent,d=c.length;for(e=0;e<a&&t[e]===c[e];e++);var m=a-e;for(s=1;s<=m&&t[a-s]===c[d-s];s++);return nr=c.slice(e,1<s?1-s:void 0)}function ir(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function rr(){return!0}function $u(){return!1}function bt(e){function t(a,s,c,d,m){this._reactName=a,this._targetInst=c,this.type=s,this.nativeEvent=d,this.target=m,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(a=e[y],this[y]=a?a(d):d[y]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?rr:$u,this.isPropagationStopped=$u,this}return x(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),t}var os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lr=bt(os),Yn=x({},os,{view:0,detail:0}),F0=bt(Yn),Bl,Hl,Kn,or=x({},Yn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Kn&&(Kn&&e.type==="mousemove"?(Bl=e.screenX-Kn.screenX,Hl=e.screenY-Kn.screenY):Hl=Bl=0,Kn=e),Bl)},movementY:function(e){return"movementY"in e?e.movementY:Hl}}),Gu=bt(or),eg=x({},or,{dataTransfer:0}),tg=bt(eg),ag=x({},Yn,{relatedTarget:0}),ql=bt(ag),sg=x({},os,{animationName:0,elapsedTime:0,pseudoElement:0}),ng=bt(sg),ig=x({},os,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),rg=bt(ig),lg=x({},os,{data:0}),Vu=bt(lg),og={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ug={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ug[e])?!!t[e]:!1}function Pl(){return dg}var hg=x({},Yn,{key:function(e){if(e.key){var t=og[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ir(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pl,charCode:function(e){return e.type==="keypress"?ir(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ir(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fg=bt(hg),mg=x({},or,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yu=bt(mg),gg=x({},Yn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pl}),pg=bt(gg),vg=x({},os,{propertyName:0,elapsedTime:0,pseudoElement:0}),yg=bt(vg),xg=x({},or,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bg=bt(xg),jg=x({},os,{newState:0,oldState:0}),wg=bt(jg),_g=[9,13,27,32],$l=ra&&"CompositionEvent"in window,Qn=null;ra&&"documentMode"in document&&(Qn=document.documentMode);var Sg=ra&&"TextEvent"in window&&!Qn,Ku=ra&&(!$l||Qn&&8<Qn&&11>=Qn),Qu=" ",Xu=!1;function Ju(e,t){switch(e){case"keyup":return _g.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qs=!1;function Ng(e,t){switch(e){case"compositionend":return Zu(t);case"keypress":return t.which!==32?null:(Xu=!0,Qu);case"textInput":return e=t.data,e===Qu&&Xu?null:e;default:return null}}function kg(e,t){if(Qs)return e==="compositionend"||!$l&&Ju(e,t)?(e=Pu(),nr=zl=Na=null,Qs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ku&&t.locale!=="ko"?null:t.data;default:return null}}var Tg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Tg[e.type]:t==="textarea"}function Iu(e,t,a,s){Ys?Ks?Ks.push(s):Ks=[s]:Ys=s,t=Xr(t,"onChange"),0<t.length&&(a=new lr("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var Xn=null,Jn=null;function Eg(e){Mf(e,0)}function cr(e){var t=$n(e);if(Mu(t))return e}function Fu(e,t){if(e==="change")return t}var ed=!1;if(ra){var Gl;if(ra){var Vl="oninput"in document;if(!Vl){var td=document.createElement("div");td.setAttribute("oninput","return;"),Vl=typeof td.oninput=="function"}Gl=Vl}else Gl=!1;ed=Gl&&(!document.documentMode||9<document.documentMode)}function ad(){Xn&&(Xn.detachEvent("onpropertychange",sd),Jn=Xn=null)}function sd(e){if(e.propertyName==="value"&&cr(Jn)){var t=[];Iu(t,Jn,e,Dl(e)),qu(Eg,t)}}function Ag(e,t,a){e==="focusin"?(ad(),Xn=t,Jn=a,Xn.attachEvent("onpropertychange",sd)):e==="focusout"&&ad()}function Og(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cr(Jn)}function Cg(e,t){if(e==="click")return cr(t)}function Rg(e,t){if(e==="input"||e==="change")return cr(t)}function Mg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Nt=typeof Object.is=="function"?Object.is:Mg;function Zn(e,t){if(Nt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var c=a[s];if(!Ye.call(t,c)||!Nt(e[c],t[c]))return!1}return!0}function nd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function id(e,t){var a=nd(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=nd(a)}}function rd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?rd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ld(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ar(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=ar(e.document)}return t}function Yl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Dg=ra&&"documentMode"in document&&11>=document.documentMode,Xs=null,Kl=null,Wn=null,Ql=!1;function od(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ql||Xs==null||Xs!==ar(s)||(s=Xs,"selectionStart"in s&&Yl(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Wn&&Zn(Wn,s)||(Wn=s,s=Xr(Kl,"onSelect"),0<s.length&&(t=new lr("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=Xs)))}function cs(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Js={animationend:cs("Animation","AnimationEnd"),animationiteration:cs("Animation","AnimationIteration"),animationstart:cs("Animation","AnimationStart"),transitionrun:cs("Transition","TransitionRun"),transitionstart:cs("Transition","TransitionStart"),transitioncancel:cs("Transition","TransitionCancel"),transitionend:cs("Transition","TransitionEnd")},Xl={},cd={};ra&&(cd=document.createElement("div").style,"AnimationEvent"in window||(delete Js.animationend.animation,delete Js.animationiteration.animation,delete Js.animationstart.animation),"TransitionEvent"in window||delete Js.transitionend.transition);function us(e){if(Xl[e])return Xl[e];if(!Js[e])return e;var t=Js[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in cd)return Xl[e]=t[a];return e}var ud=us("animationend"),dd=us("animationiteration"),hd=us("animationstart"),Lg=us("transitionrun"),Ug=us("transitionstart"),zg=us("transitioncancel"),fd=us("transitionend"),md=new Map,Jl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jl.push("scrollEnd");function Yt(e,t){md.set(e,t),ls(t,[e])}var gd=new WeakMap;function Ut(e,t){if(typeof e=="object"&&e!==null){var a=gd.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Cu(t)},gd.set(e,t),t)}return{value:e,source:t,stack:Cu(t)}}var zt=[],Zs=0,Zl=0;function ur(){for(var e=Zs,t=Zl=Zs=0;t<e;){var a=zt[t];zt[t++]=null;var s=zt[t];zt[t++]=null;var c=zt[t];zt[t++]=null;var d=zt[t];if(zt[t++]=null,s!==null&&c!==null){var m=s.pending;m===null?c.next=c:(c.next=m.next,m.next=c),s.pending=c}d!==0&&pd(a,c,d)}}function dr(e,t,a,s){zt[Zs++]=e,zt[Zs++]=t,zt[Zs++]=a,zt[Zs++]=s,Zl|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Wl(e,t,a,s){return dr(e,t,a,s),hr(e)}function Ws(e,t){return dr(e,null,null,t),hr(e)}function pd(e,t,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var c=!1,d=e.return;d!==null;)d.childLanes|=a,s=d.alternate,s!==null&&(s.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(c=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,c&&t!==null&&(c=31-pt(a),e=d.hiddenUpdates,s=e[c],s===null?e[c]=[t]:s.push(t),t.lane=a|536870912),d):null}function hr(e){if(50<wi)throw wi=0,nc=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Is={};function Bg(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(e,t,a,s){return new Bg(e,t,a,s)}function Il(e){return e=e.prototype,!(!e||!e.isReactComponent)}function la(e,t){var a=e.alternate;return a===null?(a=kt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function vd(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function fr(e,t,a,s,c,d){var m=0;if(s=e,typeof e=="function")Il(e)&&(m=1);else if(typeof e=="string")m=qp(e,a,K.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Te:return e=kt(31,a,t,c),e.elementType=Te,e.lanes=d,e;case O:return ds(a.children,c,d,t);case E:m=8,c|=24;break;case w:return e=kt(12,a,t,c|2),e.elementType=w,e.lanes=d,e;case X:return e=kt(13,a,t,c),e.elementType=X,e.lanes=d,e;case I:return e=kt(19,a,t,c),e.elementType=I,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case P:case q:m=10;break e;case H:m=9;break e;case Q:m=11;break e;case ie:m=14;break e;case oe:m=16,s=null;break e}m=29,a=Error(l(130,e===null?"null":typeof e,"")),s=null}return t=kt(m,a,t,c),t.elementType=e,t.type=s,t.lanes=d,t}function ds(e,t,a,s){return e=kt(7,e,s,t),e.lanes=a,e}function Fl(e,t,a){return e=kt(6,e,null,t),e.lanes=a,e}function eo(e,t,a){return t=kt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Fs=[],en=0,mr=null,gr=0,Bt=[],Ht=0,hs=null,oa=1,ca="";function fs(e,t){Fs[en++]=gr,Fs[en++]=mr,mr=e,gr=t}function yd(e,t,a){Bt[Ht++]=oa,Bt[Ht++]=ca,Bt[Ht++]=hs,hs=e;var s=oa;e=ca;var c=32-pt(s)-1;s&=~(1<<c),a+=1;var d=32-pt(t)+c;if(30<d){var m=c-c%5;d=(s&(1<<m)-1).toString(32),s>>=m,c-=m,oa=1<<32-pt(t)+c|a<<c|s,ca=d+e}else oa=1<<d|a<<c|s,ca=e}function to(e){e.return!==null&&(fs(e,1),yd(e,1,0))}function ao(e){for(;e===mr;)mr=Fs[--en],Fs[en]=null,gr=Fs[--en],Fs[en]=null;for(;e===hs;)hs=Bt[--Ht],Bt[Ht]=null,ca=Bt[--Ht],Bt[Ht]=null,oa=Bt[--Ht],Bt[Ht]=null}var vt=null,$e=null,Ee=!1,ms=null,It=!1,so=Error(l(519));function gs(e){var t=Error(l(418,""));throw ei(Ut(t,e)),so}function xd(e){var t=e.stateNode,a=e.type,s=e.memoizedProps;switch(t[ht]=e,t[xt]=s,a){case"dialog":we("cancel",t),we("close",t);break;case"iframe":case"object":case"embed":we("load",t);break;case"video":case"audio":for(a=0;a<Si.length;a++)we(Si[a],t);break;case"source":we("error",t);break;case"img":case"image":case"link":we("error",t),we("load",t);break;case"details":we("toggle",t);break;case"input":we("invalid",t),Du(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),tr(t);break;case"select":we("invalid",t);break;case"textarea":we("invalid",t),Uu(t,s.value,s.defaultValue,s.children),tr(t)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||s.suppressHydrationWarning===!0||zf(t.textContent,a)?(s.popover!=null&&(we("beforetoggle",t),we("toggle",t)),s.onScroll!=null&&we("scroll",t),s.onScrollEnd!=null&&we("scrollend",t),s.onClick!=null&&(t.onclick=Jr),t=!0):t=!1,t||gs(e)}function bd(e){for(vt=e.return;vt;)switch(vt.tag){case 5:case 13:It=!1;return;case 27:case 3:It=!0;return;default:vt=vt.return}}function In(e){if(e!==vt)return!1;if(!Ee)return bd(e),Ee=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||bc(e.type,e.memoizedProps)),a=!a),a&&$e&&gs(e),bd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){$e=Qt(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}$e=null}}else t===27?(t=$e,Pa(e.type)?(e=Sc,Sc=null,$e=e):$e=t):$e=vt?Qt(e.stateNode.nextSibling):null;return!0}function Fn(){$e=vt=null,Ee=!1}function jd(){var e=ms;return e!==null&&(_t===null?_t=e:_t.push.apply(_t,e),ms=null),e}function ei(e){ms===null?ms=[e]:ms.push(e)}var no=G(null),ps=null,ua=null;function ka(e,t,a){W(no,t._currentValue),t._currentValue=a}function da(e){e._currentValue=no.current,Z(no)}function io(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function ro(e,t,a,s){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var d=c.dependencies;if(d!==null){var m=c.child;d=d.firstContext;e:for(;d!==null;){var y=d;d=c;for(var j=0;j<t.length;j++)if(y.context===t[j]){d.lanes|=a,y=d.alternate,y!==null&&(y.lanes|=a),io(d.return,a,e),s||(m=null);break e}d=y.next}}else if(c.tag===18){if(m=c.return,m===null)throw Error(l(341));m.lanes|=a,d=m.alternate,d!==null&&(d.lanes|=a),io(m,a,e),m=null}else m=c.child;if(m!==null)m.return=c;else for(m=c;m!==null;){if(m===e){m=null;break}if(c=m.sibling,c!==null){c.return=m.return,m=c;break}m=m.return}c=m}}function ti(e,t,a,s){e=null;for(var c=t,d=!1;c!==null;){if(!d){if((c.flags&524288)!==0)d=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var m=c.alternate;if(m===null)throw Error(l(387));if(m=m.memoizedProps,m!==null){var y=c.type;Nt(c.pendingProps.value,m.value)||(e!==null?e.push(y):e=[y])}}else if(c===Le.current){if(m=c.alternate,m===null)throw Error(l(387));m.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Oi):e=[Oi])}c=c.return}e!==null&&ro(t,e,a,s),t.flags|=262144}function pr(e){for(e=e.firstContext;e!==null;){if(!Nt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function vs(e){ps=e,ua=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ft(e){return wd(ps,e)}function vr(e,t){return ps===null&&vs(e),wd(e,t)}function wd(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},ua===null){if(e===null)throw Error(l(308));ua=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ua=ua.next=t;return a}var Hg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},qg=o.unstable_scheduleCallback,Pg=o.unstable_NormalPriority,Ie={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lo(){return{controller:new Hg,data:new Map,refCount:0}}function ai(e){e.refCount--,e.refCount===0&&qg(Pg,function(){e.controller.abort()})}var si=null,oo=0,tn=0,an=null;function $g(e,t){if(si===null){var a=si=[];oo=0,tn=dc(),an={status:"pending",value:void 0,then:function(s){a.push(s)}}}return oo++,t.then(_d,_d),t}function _d(){if(--oo===0&&si!==null){an!==null&&(an.status="fulfilled");var e=si;si=null,tn=0,an=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Gg(e,t){var a=[],s={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var c=0;c<a.length;c++)(0,a[c])(t)},function(c){for(s.status="rejected",s.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),s}var Sd=M.S;M.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&$g(e,t),Sd!==null&&Sd(e,t)};var ys=G(null);function co(){var e=ys.current;return e!==null?e:Be.pooledCache}function yr(e,t){t===null?W(ys,ys.current):W(ys,t.pool)}function Nd(){var e=co();return e===null?null:{parent:Ie._currentValue,pool:e}}var ni=Error(l(460)),kd=Error(l(474)),xr=Error(l(542)),uo={then:function(){}};function Td(e){return e=e.status,e==="fulfilled"||e==="rejected"}function br(){}function Ed(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(br,br),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Od(e),e;default:if(typeof t.status=="string")t.then(br,br);else{if(e=Be,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=s}},function(s){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Od(e),e}throw ii=t,ni}}var ii=null;function Ad(){if(ii===null)throw Error(l(459));var e=ii;return ii=null,e}function Od(e){if(e===ni||e===xr)throw Error(l(483))}var Ta=!1;function ho(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ea(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Aa(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ae&2)!==0){var c=s.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),s.pending=t,t=hr(e),pd(e,null,a),t}return dr(e,s,t,a),hr(e)}function ri(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,Ls(e,a)}}function mo(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var c=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var m={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?c=d=m:d=d.next=m,a=a.next}while(a!==null);d===null?c=d=t:d=d.next=t}else c=d=t;a={baseState:s.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var go=!1;function li(){if(go){var e=an;if(e!==null)throw e}}function oi(e,t,a,s){go=!1;var c=e.updateQueue;Ta=!1;var d=c.firstBaseUpdate,m=c.lastBaseUpdate,y=c.shared.pending;if(y!==null){c.shared.pending=null;var j=y,R=j.next;j.next=null,m===null?d=R:m.next=R,m=j;var $=e.alternate;$!==null&&($=$.updateQueue,y=$.lastBaseUpdate,y!==m&&(y===null?$.firstBaseUpdate=R:y.next=R,$.lastBaseUpdate=j))}if(d!==null){var Y=c.baseState;m=0,$=R=j=null,y=d;do{var D=y.lane&-536870913,U=D!==y.lane;if(U?(Ne&D)===D:(s&D)===D){D!==0&&D===tn&&(go=!0),$!==null&&($=$.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var he=e,ce=y;D=t;var De=a;switch(ce.tag){case 1:if(he=ce.payload,typeof he=="function"){Y=he.call(De,Y,D);break e}Y=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ce.payload,D=typeof he=="function"?he.call(De,Y,D):he,D==null)break e;Y=x({},Y,D);break e;case 2:Ta=!0}}D=y.callback,D!==null&&(e.flags|=64,U&&(e.flags|=8192),U=c.callbacks,U===null?c.callbacks=[D]:U.push(D))}else U={lane:D,tag:y.tag,payload:y.payload,callback:y.callback,next:null},$===null?(R=$=U,j=Y):$=$.next=U,m|=D;if(y=y.next,y===null){if(y=c.shared.pending,y===null)break;U=y,y=U.next,U.next=null,c.lastBaseUpdate=U,c.shared.pending=null}}while(!0);$===null&&(j=Y),c.baseState=j,c.firstBaseUpdate=R,c.lastBaseUpdate=$,d===null&&(c.shared.lanes=0),za|=m,e.lanes=m,e.memoizedState=Y}}function Cd(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function Rd(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Cd(a[e],t)}var sn=G(null),jr=G(0);function Md(e,t){e=ya,W(jr,e),W(sn,t),ya=e|t.baseLanes}function po(){W(jr,ya),W(sn,sn.current)}function vo(){ya=jr.current,Z(sn),Z(jr)}var Oa=0,ye=null,Re=null,Je=null,wr=!1,nn=!1,xs=!1,_r=0,ci=0,rn=null,Vg=0;function Ke(){throw Error(l(321))}function yo(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Nt(e[a],t[a]))return!1;return!0}function xo(e,t,a,s,c,d){return Oa=d,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=e===null||e.memoizedState===null?ph:vh,xs=!1,d=a(s,c),xs=!1,nn&&(d=Ld(t,a,s,c)),Dd(e),d}function Dd(e){M.H=Ar;var t=Re!==null&&Re.next!==null;if(Oa=0,Je=Re=ye=null,wr=!1,ci=0,rn=null,t)throw Error(l(300));e===null||nt||(e=e.dependencies,e!==null&&pr(e)&&(nt=!0))}function Ld(e,t,a,s){ye=e;var c=0;do{if(nn&&(rn=null),ci=0,nn=!1,25<=c)throw Error(l(301));if(c+=1,Je=Re=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}M.H=Wg,d=t(a,s)}while(nn);return d}function Yg(){var e=M.H,t=e.useState()[0];return t=typeof t.then=="function"?ui(t):t,e=e.useState()[0],(Re!==null?Re.memoizedState:null)!==e&&(ye.flags|=1024),t}function bo(){var e=_r!==0;return _r=0,e}function jo(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function wo(e){if(wr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}wr=!1}Oa=0,Je=Re=ye=null,nn=!1,ci=_r=0,rn=null}function jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?ye.memoizedState=Je=e:Je=Je.next=e,Je}function Ze(){if(Re===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=Re.next;var t=Je===null?ye.memoizedState:Je.next;if(t!==null)Je=t,Re=e;else{if(e===null)throw ye.alternate===null?Error(l(467)):Error(l(310));Re=e,e={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},Je===null?ye.memoizedState=Je=e:Je=Je.next=e}return Je}function _o(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ui(e){var t=ci;return ci+=1,rn===null&&(rn=[]),e=Ed(rn,e,t),t=ye,(Je===null?t.memoizedState:Je.next)===null&&(t=t.alternate,M.H=t===null||t.memoizedState===null?ph:vh),e}function Sr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ui(e);if(e.$$typeof===q)return ft(e)}throw Error(l(438,String(e)))}function So(e){var t=null,a=ye.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var s=ye.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=_o(),ye.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),s=0;s<e;s++)a[s]=fe;return t.index++,a}function ha(e,t){return typeof t=="function"?t(e):t}function Nr(e){var t=Ze();return No(t,Re,e)}function No(e,t,a){var s=e.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=a;var c=e.baseQueue,d=s.pending;if(d!==null){if(c!==null){var m=c.next;c.next=d.next,d.next=m}t.baseQueue=c=d,s.pending=null}if(d=e.baseState,c===null)e.memoizedState=d;else{t=c.next;var y=m=null,j=null,R=t,$=!1;do{var Y=R.lane&-536870913;if(Y!==R.lane?(Ne&Y)===Y:(Oa&Y)===Y){var D=R.revertLane;if(D===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),Y===tn&&($=!0);else if((Oa&D)===D){R=R.next,D===tn&&($=!0);continue}else Y={lane:0,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},j===null?(y=j=Y,m=d):j=j.next=Y,ye.lanes|=D,za|=D;Y=R.action,xs&&a(d,Y),d=R.hasEagerState?R.eagerState:a(d,Y)}else D={lane:Y,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},j===null?(y=j=D,m=d):j=j.next=D,ye.lanes|=Y,za|=Y;R=R.next}while(R!==null&&R!==t);if(j===null?m=d:j.next=y,!Nt(d,e.memoizedState)&&(nt=!0,$&&(a=an,a!==null)))throw a;e.memoizedState=d,e.baseState=m,e.baseQueue=j,s.lastRenderedState=d}return c===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function ko(e){var t=Ze(),a=t.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var s=a.dispatch,c=a.pending,d=t.memoizedState;if(c!==null){a.pending=null;var m=c=c.next;do d=e(d,m.action),m=m.next;while(m!==c);Nt(d,t.memoizedState)||(nt=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),a.lastRenderedState=d}return[d,s]}function Ud(e,t,a){var s=ye,c=Ze(),d=Ee;if(d){if(a===void 0)throw Error(l(407));a=a()}else a=t();var m=!Nt((Re||c).memoizedState,a);m&&(c.memoizedState=a,nt=!0),c=c.queue;var y=Hd.bind(null,s,c,e);if(di(2048,8,y,[e]),c.getSnapshot!==t||m||Je!==null&&Je.memoizedState.tag&1){if(s.flags|=2048,ln(9,kr(),Bd.bind(null,s,c,a,t),null),Be===null)throw Error(l(349));d||(Oa&124)!==0||zd(s,t,a)}return a}function zd(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=ye.updateQueue,t===null?(t=_o(),ye.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Bd(e,t,a,s){t.value=a,t.getSnapshot=s,qd(t)&&Pd(e)}function Hd(e,t,a){return a(function(){qd(t)&&Pd(e)})}function qd(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Nt(e,a)}catch{return!0}}function Pd(e){var t=Ws(e,2);t!==null&&Ct(t,e,2)}function To(e){var t=jt();if(typeof e=="function"){var a=e;if(e=a(),xs){Wt(!0);try{a()}finally{Wt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:e},t}function $d(e,t,a,s){return e.baseState=a,No(e,Re,typeof s=="function"?s:ha)}function Kg(e,t,a,s,c){if(Er(e))throw Error(l(485));if(e=t.action,e!==null){var d={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){d.listeners.push(m)}};M.T!==null?a(!0):d.isTransition=!1,s(d),a=t.pending,a===null?(d.next=t.pending=d,Gd(t,d)):(d.next=a.next,t.pending=a.next=d)}}function Gd(e,t){var a=t.action,s=t.payload,c=e.state;if(t.isTransition){var d=M.T,m={};M.T=m;try{var y=a(c,s),j=M.S;j!==null&&j(m,y),Vd(e,t,y)}catch(R){Eo(e,t,R)}finally{M.T=d}}else try{d=a(c,s),Vd(e,t,d)}catch(R){Eo(e,t,R)}}function Vd(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){Yd(e,t,s)},function(s){return Eo(e,t,s)}):Yd(e,t,a)}function Yd(e,t,a){t.status="fulfilled",t.value=a,Kd(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Gd(e,a)))}function Eo(e,t,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=a,Kd(t),t=t.next;while(t!==s)}e.action=null}function Kd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Qd(e,t){return t}function Xd(e,t){if(Ee){var a=Be.formState;if(a!==null){e:{var s=ye;if(Ee){if($e){t:{for(var c=$e,d=It;c.nodeType!==8;){if(!d){c=null;break t}if(c=Qt(c.nextSibling),c===null){c=null;break t}}d=c.data,c=d==="F!"||d==="F"?c:null}if(c){$e=Qt(c.nextSibling),s=c.data==="F!";break e}}gs(s)}s=!1}s&&(t=a[0])}}return a=jt(),a.memoizedState=a.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qd,lastRenderedState:t},a.queue=s,a=fh.bind(null,ye,s),s.dispatch=a,s=To(!1),d=Mo.bind(null,ye,!1,s.queue),s=jt(),c={state:t,dispatch:null,action:e,pending:null},s.queue=c,a=Kg.bind(null,ye,c,d,a),c.dispatch=a,s.memoizedState=e,[t,a,!1]}function Jd(e){var t=Ze();return Zd(t,Re,e)}function Zd(e,t,a){if(t=No(e,t,Qd)[0],e=Nr(ha)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=ui(t)}catch(m){throw m===ni?xr:m}else s=t;t=Ze();var c=t.queue,d=c.dispatch;return a!==t.memoizedState&&(ye.flags|=2048,ln(9,kr(),Qg.bind(null,c,a),null)),[s,d,e]}function Qg(e,t){e.action=t}function Wd(e){var t=Ze(),a=Re;if(a!==null)return Zd(t,a,e);Ze(),t=t.memoizedState,a=Ze();var s=a.queue.dispatch;return a.memoizedState=e,[t,s,!1]}function ln(e,t,a,s){return e={tag:e,create:a,deps:s,inst:t,next:null},t=ye.updateQueue,t===null&&(t=_o(),ye.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e),e}function kr(){return{destroy:void 0,resource:void 0}}function Id(){return Ze().memoizedState}function Tr(e,t,a,s){var c=jt();s=s===void 0?null:s,ye.flags|=e,c.memoizedState=ln(1|t,kr(),a,s)}function di(e,t,a,s){var c=Ze();s=s===void 0?null:s;var d=c.memoizedState.inst;Re!==null&&s!==null&&yo(s,Re.memoizedState.deps)?c.memoizedState=ln(t,d,a,s):(ye.flags|=e,c.memoizedState=ln(1|t,d,a,s))}function Fd(e,t){Tr(8390656,8,e,t)}function eh(e,t){di(2048,8,e,t)}function th(e,t){return di(4,2,e,t)}function ah(e,t){return di(4,4,e,t)}function sh(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function nh(e,t,a){a=a!=null?a.concat([e]):null,di(4,4,sh.bind(null,t,e),a)}function Ao(){}function ih(e,t){var a=Ze();t=t===void 0?null:t;var s=a.memoizedState;return t!==null&&yo(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function rh(e,t){var a=Ze();t=t===void 0?null:t;var s=a.memoizedState;if(t!==null&&yo(t,s[1]))return s[0];if(s=e(),xs){Wt(!0);try{e()}finally{Wt(!1)}}return a.memoizedState=[s,t],s}function Oo(e,t,a){return a===void 0||(Oa&1073741824)!==0?e.memoizedState=t:(e.memoizedState=a,e=uf(),ye.lanes|=e,za|=e,a)}function lh(e,t,a,s){return Nt(a,t)?a:sn.current!==null?(e=Oo(e,a,s),Nt(e,t)||(nt=!0),e):(Oa&42)===0?(nt=!0,e.memoizedState=a):(e=uf(),ye.lanes|=e,za|=e,t)}function oh(e,t,a,s,c){var d=J.p;J.p=d!==0&&8>d?d:8;var m=M.T,y={};M.T=y,Mo(e,!1,t,a);try{var j=c(),R=M.S;if(R!==null&&R(y,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var $=Gg(j,s);hi(e,t,$,Ot(e))}else hi(e,t,s,Ot(e))}catch(Y){hi(e,t,{then:function(){},status:"rejected",reason:Y},Ot())}finally{J.p=d,M.T=m}}function Xg(){}function Co(e,t,a,s){if(e.tag!==5)throw Error(l(476));var c=ch(e).queue;oh(e,c,t,ee,a===null?Xg:function(){return uh(e),a(s)})}function ch(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:ee},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function uh(e){var t=ch(e).next.queue;hi(e,t,{},Ot())}function Ro(){return ft(Oi)}function dh(){return Ze().memoizedState}function hh(){return Ze().memoizedState}function Jg(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Ot();e=Ea(a);var s=Aa(t,e,a);s!==null&&(Ct(s,t,a),ri(s,t,a)),t={cache:lo()},e.payload=t;return}t=t.return}}function Zg(e,t,a){var s=Ot();a={lane:s,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Er(e)?mh(t,a):(a=Wl(e,t,a,s),a!==null&&(Ct(a,e,s),gh(a,t,s)))}function fh(e,t,a){var s=Ot();hi(e,t,a,s)}function hi(e,t,a,s){var c={lane:s,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Er(e))mh(t,c);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var m=t.lastRenderedState,y=d(m,a);if(c.hasEagerState=!0,c.eagerState=y,Nt(y,m))return dr(e,t,c,0),Be===null&&ur(),!1}catch{}finally{}if(a=Wl(e,t,c,s),a!==null)return Ct(a,e,s),gh(a,t,s),!0}return!1}function Mo(e,t,a,s){if(s={lane:2,revertLane:dc(),action:s,hasEagerState:!1,eagerState:null,next:null},Er(e)){if(t)throw Error(l(479))}else t=Wl(e,a,s,2),t!==null&&Ct(t,e,2)}function Er(e){var t=e.alternate;return e===ye||t!==null&&t===ye}function mh(e,t){nn=wr=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function gh(e,t,a){if((a&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,Ls(e,a)}}var Ar={readContext:ft,use:Sr,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useLayoutEffect:Ke,useInsertionEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useSyncExternalStore:Ke,useId:Ke,useHostTransitionStatus:Ke,useFormState:Ke,useActionState:Ke,useOptimistic:Ke,useMemoCache:Ke,useCacheRefresh:Ke},ph={readContext:ft,use:Sr,useCallback:function(e,t){return jt().memoizedState=[e,t===void 0?null:t],e},useContext:ft,useEffect:Fd,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Tr(4194308,4,sh.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Tr(4194308,4,e,t)},useInsertionEffect:function(e,t){Tr(4,2,e,t)},useMemo:function(e,t){var a=jt();t=t===void 0?null:t;var s=e();if(xs){Wt(!0);try{e()}finally{Wt(!1)}}return a.memoizedState=[s,t],s},useReducer:function(e,t,a){var s=jt();if(a!==void 0){var c=a(t);if(xs){Wt(!0);try{a(t)}finally{Wt(!1)}}}else c=t;return s.memoizedState=s.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},s.queue=e,e=e.dispatch=Zg.bind(null,ye,e),[s.memoizedState,e]},useRef:function(e){var t=jt();return e={current:e},t.memoizedState=e},useState:function(e){e=To(e);var t=e.queue,a=fh.bind(null,ye,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Ao,useDeferredValue:function(e,t){var a=jt();return Oo(a,e,t)},useTransition:function(){var e=To(!1);return e=oh.bind(null,ye,e.queue,!0,!1),jt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var s=ye,c=jt();if(Ee){if(a===void 0)throw Error(l(407));a=a()}else{if(a=t(),Be===null)throw Error(l(349));(Ne&124)!==0||zd(s,t,a)}c.memoizedState=a;var d={value:a,getSnapshot:t};return c.queue=d,Fd(Hd.bind(null,s,d,e),[e]),s.flags|=2048,ln(9,kr(),Bd.bind(null,s,d,a,t),null),a},useId:function(){var e=jt(),t=Be.identifierPrefix;if(Ee){var a=ca,s=oa;a=(s&~(1<<32-pt(s)-1)).toString(32)+a,t=""+t+"R"+a,a=_r++,0<a&&(t+="H"+a.toString(32)),t+=""}else a=Vg++,t=""+t+"r"+a.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Ro,useFormState:Xd,useActionState:Xd,useOptimistic:function(e){var t=jt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Mo.bind(null,ye,!0,a),a.dispatch=t,[e,t]},useMemoCache:So,useCacheRefresh:function(){return jt().memoizedState=Jg.bind(null,ye)}},vh={readContext:ft,use:Sr,useCallback:ih,useContext:ft,useEffect:eh,useImperativeHandle:nh,useInsertionEffect:th,useLayoutEffect:ah,useMemo:rh,useReducer:Nr,useRef:Id,useState:function(){return Nr(ha)},useDebugValue:Ao,useDeferredValue:function(e,t){var a=Ze();return lh(a,Re.memoizedState,e,t)},useTransition:function(){var e=Nr(ha)[0],t=Ze().memoizedState;return[typeof e=="boolean"?e:ui(e),t]},useSyncExternalStore:Ud,useId:dh,useHostTransitionStatus:Ro,useFormState:Jd,useActionState:Jd,useOptimistic:function(e,t){var a=Ze();return $d(a,Re,e,t)},useMemoCache:So,useCacheRefresh:hh},Wg={readContext:ft,use:Sr,useCallback:ih,useContext:ft,useEffect:eh,useImperativeHandle:nh,useInsertionEffect:th,useLayoutEffect:ah,useMemo:rh,useReducer:ko,useRef:Id,useState:function(){return ko(ha)},useDebugValue:Ao,useDeferredValue:function(e,t){var a=Ze();return Re===null?Oo(a,e,t):lh(a,Re.memoizedState,e,t)},useTransition:function(){var e=ko(ha)[0],t=Ze().memoizedState;return[typeof e=="boolean"?e:ui(e),t]},useSyncExternalStore:Ud,useId:dh,useHostTransitionStatus:Ro,useFormState:Wd,useActionState:Wd,useOptimistic:function(e,t){var a=Ze();return Re!==null?$d(a,Re,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:So,useCacheRefresh:hh},on=null,fi=0;function Or(e){var t=fi;return fi+=1,on===null&&(on=[]),Ed(on,e,t)}function mi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Cr(e,t){throw t.$$typeof===b?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function yh(e){var t=e._init;return t(e._payload)}function xh(e){function t(A,k){if(e){var C=A.deletions;C===null?(A.deletions=[k],A.flags|=16):C.push(k)}}function a(A,k){if(!e)return null;for(;k!==null;)t(A,k),k=k.sibling;return null}function s(A){for(var k=new Map;A!==null;)A.key!==null?k.set(A.key,A):k.set(A.index,A),A=A.sibling;return k}function c(A,k){return A=la(A,k),A.index=0,A.sibling=null,A}function d(A,k,C){return A.index=C,e?(C=A.alternate,C!==null?(C=C.index,C<k?(A.flags|=67108866,k):C):(A.flags|=67108866,k)):(A.flags|=1048576,k)}function m(A){return e&&A.alternate===null&&(A.flags|=67108866),A}function y(A,k,C,V){return k===null||k.tag!==6?(k=Fl(C,A.mode,V),k.return=A,k):(k=c(k,C),k.return=A,k)}function j(A,k,C,V){var ne=C.type;return ne===O?$(A,k,C.props.children,V,C.key):k!==null&&(k.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===oe&&yh(ne)===k.type)?(k=c(k,C.props),mi(k,C),k.return=A,k):(k=fr(C.type,C.key,C.props,null,A.mode,V),mi(k,C),k.return=A,k)}function R(A,k,C,V){return k===null||k.tag!==4||k.stateNode.containerInfo!==C.containerInfo||k.stateNode.implementation!==C.implementation?(k=eo(C,A.mode,V),k.return=A,k):(k=c(k,C.children||[]),k.return=A,k)}function $(A,k,C,V,ne){return k===null||k.tag!==7?(k=ds(C,A.mode,V,ne),k.return=A,k):(k=c(k,C),k.return=A,k)}function Y(A,k,C){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Fl(""+k,A.mode,C),k.return=A,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case S:return C=fr(k.type,k.key,k.props,null,A.mode,C),mi(C,k),C.return=A,C;case T:return k=eo(k,A.mode,C),k.return=A,k;case oe:var V=k._init;return k=V(k._payload),Y(A,k,C)}if(me(k)||L(k))return k=ds(k,A.mode,C,null),k.return=A,k;if(typeof k.then=="function")return Y(A,Or(k),C);if(k.$$typeof===q)return Y(A,vr(A,k),C);Cr(A,k)}return null}function D(A,k,C,V){var ne=k!==null?k.key:null;if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return ne!==null?null:y(A,k,""+C,V);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case S:return C.key===ne?j(A,k,C,V):null;case T:return C.key===ne?R(A,k,C,V):null;case oe:return ne=C._init,C=ne(C._payload),D(A,k,C,V)}if(me(C)||L(C))return ne!==null?null:$(A,k,C,V,null);if(typeof C.then=="function")return D(A,k,Or(C),V);if(C.$$typeof===q)return D(A,k,vr(A,C),V);Cr(A,C)}return null}function U(A,k,C,V,ne){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return A=A.get(C)||null,y(k,A,""+V,ne);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case S:return A=A.get(V.key===null?C:V.key)||null,j(k,A,V,ne);case T:return A=A.get(V.key===null?C:V.key)||null,R(k,A,V,ne);case oe:var xe=V._init;return V=xe(V._payload),U(A,k,C,V,ne)}if(me(V)||L(V))return A=A.get(C)||null,$(k,A,V,ne,null);if(typeof V.then=="function")return U(A,k,C,Or(V),ne);if(V.$$typeof===q)return U(A,k,C,vr(k,V),ne);Cr(k,V)}return null}function he(A,k,C,V){for(var ne=null,xe=null,re=k,ue=k=0,rt=null;re!==null&&ue<C.length;ue++){re.index>ue?(rt=re,re=null):rt=re.sibling;var ke=D(A,re,C[ue],V);if(ke===null){re===null&&(re=rt);break}e&&re&&ke.alternate===null&&t(A,re),k=d(ke,k,ue),xe===null?ne=ke:xe.sibling=ke,xe=ke,re=rt}if(ue===C.length)return a(A,re),Ee&&fs(A,ue),ne;if(re===null){for(;ue<C.length;ue++)re=Y(A,C[ue],V),re!==null&&(k=d(re,k,ue),xe===null?ne=re:xe.sibling=re,xe=re);return Ee&&fs(A,ue),ne}for(re=s(re);ue<C.length;ue++)rt=U(re,A,ue,C[ue],V),rt!==null&&(e&&rt.alternate!==null&&re.delete(rt.key===null?ue:rt.key),k=d(rt,k,ue),xe===null?ne=rt:xe.sibling=rt,xe=rt);return e&&re.forEach(function(Ka){return t(A,Ka)}),Ee&&fs(A,ue),ne}function ce(A,k,C,V){if(C==null)throw Error(l(151));for(var ne=null,xe=null,re=k,ue=k=0,rt=null,ke=C.next();re!==null&&!ke.done;ue++,ke=C.next()){re.index>ue?(rt=re,re=null):rt=re.sibling;var Ka=D(A,re,ke.value,V);if(Ka===null){re===null&&(re=rt);break}e&&re&&Ka.alternate===null&&t(A,re),k=d(Ka,k,ue),xe===null?ne=Ka:xe.sibling=Ka,xe=Ka,re=rt}if(ke.done)return a(A,re),Ee&&fs(A,ue),ne;if(re===null){for(;!ke.done;ue++,ke=C.next())ke=Y(A,ke.value,V),ke!==null&&(k=d(ke,k,ue),xe===null?ne=ke:xe.sibling=ke,xe=ke);return Ee&&fs(A,ue),ne}for(re=s(re);!ke.done;ue++,ke=C.next())ke=U(re,A,ue,ke.value,V),ke!==null&&(e&&ke.alternate!==null&&re.delete(ke.key===null?ue:ke.key),k=d(ke,k,ue),xe===null?ne=ke:xe.sibling=ke,xe=ke);return e&&re.forEach(function(Ip){return t(A,Ip)}),Ee&&fs(A,ue),ne}function De(A,k,C,V){if(typeof C=="object"&&C!==null&&C.type===O&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case S:e:{for(var ne=C.key;k!==null;){if(k.key===ne){if(ne=C.type,ne===O){if(k.tag===7){a(A,k.sibling),V=c(k,C.props.children),V.return=A,A=V;break e}}else if(k.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===oe&&yh(ne)===k.type){a(A,k.sibling),V=c(k,C.props),mi(V,C),V.return=A,A=V;break e}a(A,k);break}else t(A,k);k=k.sibling}C.type===O?(V=ds(C.props.children,A.mode,V,C.key),V.return=A,A=V):(V=fr(C.type,C.key,C.props,null,A.mode,V),mi(V,C),V.return=A,A=V)}return m(A);case T:e:{for(ne=C.key;k!==null;){if(k.key===ne)if(k.tag===4&&k.stateNode.containerInfo===C.containerInfo&&k.stateNode.implementation===C.implementation){a(A,k.sibling),V=c(k,C.children||[]),V.return=A,A=V;break e}else{a(A,k);break}else t(A,k);k=k.sibling}V=eo(C,A.mode,V),V.return=A,A=V}return m(A);case oe:return ne=C._init,C=ne(C._payload),De(A,k,C,V)}if(me(C))return he(A,k,C,V);if(L(C)){if(ne=L(C),typeof ne!="function")throw Error(l(150));return C=ne.call(C),ce(A,k,C,V)}if(typeof C.then=="function")return De(A,k,Or(C),V);if(C.$$typeof===q)return De(A,k,vr(A,C),V);Cr(A,C)}return typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint"?(C=""+C,k!==null&&k.tag===6?(a(A,k.sibling),V=c(k,C),V.return=A,A=V):(a(A,k),V=Fl(C,A.mode,V),V.return=A,A=V),m(A)):a(A,k)}return function(A,k,C,V){try{fi=0;var ne=De(A,k,C,V);return on=null,ne}catch(re){if(re===ni||re===xr)throw re;var xe=kt(29,re,null,A.mode);return xe.lanes=V,xe.return=A,xe}finally{}}}var cn=xh(!0),bh=xh(!1),qt=G(null),Ft=null;function Ca(e){var t=e.alternate;W(Fe,Fe.current&1),W(qt,e),Ft===null&&(t===null||sn.current!==null||t.memoizedState!==null)&&(Ft=e)}function jh(e){if(e.tag===22){if(W(Fe,Fe.current),W(qt,e),Ft===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Ft=e)}}else Ra()}function Ra(){W(Fe,Fe.current),W(qt,qt.current)}function fa(e){Z(qt),Ft===e&&(Ft=null),Z(Fe)}var Fe=G(0);function Rr(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||_c(a)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Do(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:x({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Lo={enqueueSetState:function(e,t,a){e=e._reactInternals;var s=Ot(),c=Ea(s);c.payload=t,a!=null&&(c.callback=a),t=Aa(e,c,s),t!==null&&(Ct(t,e,s),ri(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=Ot(),c=Ea(s);c.tag=1,c.payload=t,a!=null&&(c.callback=a),t=Aa(e,c,s),t!==null&&(Ct(t,e,s),ri(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Ot(),s=Ea(a);s.tag=2,t!=null&&(s.callback=t),t=Aa(e,s,a),t!==null&&(Ct(t,e,a),ri(t,e,a))}};function wh(e,t,a,s,c,d,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,d,m):t.prototype&&t.prototype.isPureReactComponent?!Zn(a,s)||!Zn(c,d):!0}function _h(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&Lo.enqueueReplaceState(t,t.state,null)}function bs(e,t){var a=t;if("ref"in t){a={};for(var s in t)s!=="ref"&&(a[s]=t[s])}if(e=e.defaultProps){a===t&&(a=x({},a));for(var c in e)a[c]===void 0&&(a[c]=e[c])}return a}var Mr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Sh(e){Mr(e)}function Nh(e){console.error(e)}function kh(e){Mr(e)}function Dr(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function Th(e,t,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Uo(e,t,a){return a=Ea(a),a.tag=3,a.payload={element:null},a.callback=function(){Dr(e,t)},a}function Eh(e){return e=Ea(e),e.tag=3,e}function Ah(e,t,a,s){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var d=s.value;e.payload=function(){return c(d)},e.callback=function(){Th(t,a,s)}}var m=a.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){Th(t,a,s),typeof c!="function"&&(Ba===null?Ba=new Set([this]):Ba.add(this));var y=s.stack;this.componentDidCatch(s.value,{componentStack:y!==null?y:""})})}function Ig(e,t,a,s,c){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=a.alternate,t!==null&&ti(t,a,c,!0),a=qt.current,a!==null){switch(a.tag){case 13:return Ft===null?rc():a.alternate===null&&Ge===0&&(Ge=3),a.flags&=-257,a.flags|=65536,a.lanes=c,s===uo?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([s]):t.add(s),oc(e,s,c)),!1;case 22:return a.flags|=65536,s===uo?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([s]):a.add(s)),oc(e,s,c)),!1}throw Error(l(435,a.tag))}return oc(e,s,c),rc(),!1}if(Ee)return t=qt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,s!==so&&(e=Error(l(422),{cause:s}),ei(Ut(e,a)))):(s!==so&&(t=Error(l(423),{cause:s}),ei(Ut(t,a))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,s=Ut(s,a),c=Uo(e.stateNode,s,c),mo(e,c),Ge!==4&&(Ge=2)),!1;var d=Error(l(520),{cause:s});if(d=Ut(d,a),ji===null?ji=[d]:ji.push(d),Ge!==4&&(Ge=2),t===null)return!0;s=Ut(s,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=c&-c,a.lanes|=e,e=Uo(a.stateNode,s,e),mo(a,e),!1;case 1:if(t=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ba===null||!Ba.has(d))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Eh(c),Ah(c,e,a,s),mo(a,c),!1}a=a.return}while(a!==null);return!1}var Oh=Error(l(461)),nt=!1;function ct(e,t,a,s){t.child=e===null?bh(t,null,a,s):cn(t,e.child,a,s)}function Ch(e,t,a,s,c){a=a.render;var d=t.ref;if("ref"in s){var m={};for(var y in s)y!=="ref"&&(m[y]=s[y])}else m=s;return vs(t),s=xo(e,t,a,m,d,c),y=bo(),e!==null&&!nt?(jo(e,t,c),ma(e,t,c)):(Ee&&y&&to(t),t.flags|=1,ct(e,t,s,c),t.child)}function Rh(e,t,a,s,c){if(e===null){var d=a.type;return typeof d=="function"&&!Il(d)&&d.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=d,Mh(e,t,d,s,c)):(e=fr(a.type,null,s,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!Vo(e,c)){var m=d.memoizedProps;if(a=a.compare,a=a!==null?a:Zn,a(m,s)&&e.ref===t.ref)return ma(e,t,c)}return t.flags|=1,e=la(d,s),e.ref=t.ref,e.return=t,t.child=e}function Mh(e,t,a,s,c){if(e!==null){var d=e.memoizedProps;if(Zn(d,s)&&e.ref===t.ref)if(nt=!1,t.pendingProps=s=d,Vo(e,c))(e.flags&131072)!==0&&(nt=!0);else return t.lanes=e.lanes,ma(e,t,c)}return zo(e,t,a,s,c)}function Dh(e,t,a){var s=t.pendingProps,c=s.children,d=e!==null?e.memoizedState:null;if(s.mode==="hidden"){if((t.flags&128)!==0){if(s=d!==null?d.baseLanes|a:a,e!==null){for(c=t.child=e.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;t.childLanes=d&~s}else t.childLanes=0,t.child=null;return Lh(e,t,s,a)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&yr(t,d!==null?d.cachePool:null),d!==null?Md(t,d):po(),jh(t);else return t.lanes=t.childLanes=536870912,Lh(e,t,d!==null?d.baseLanes|a:a,a)}else d!==null?(yr(t,d.cachePool),Md(t,d),Ra(),t.memoizedState=null):(e!==null&&yr(t,null),po(),Ra());return ct(e,t,c,a),t.child}function Lh(e,t,a,s){var c=co();return c=c===null?null:{parent:Ie._currentValue,pool:c},t.memoizedState={baseLanes:a,cachePool:c},e!==null&&yr(t,null),po(),jh(t),e!==null&&ti(e,t,s,!0),null}function Lr(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function zo(e,t,a,s,c){return vs(t),a=xo(e,t,a,s,void 0,c),s=bo(),e!==null&&!nt?(jo(e,t,c),ma(e,t,c)):(Ee&&s&&to(t),t.flags|=1,ct(e,t,a,c),t.child)}function Uh(e,t,a,s,c,d){return vs(t),t.updateQueue=null,a=Ld(t,s,a,c),Dd(e),s=bo(),e!==null&&!nt?(jo(e,t,d),ma(e,t,d)):(Ee&&s&&to(t),t.flags|=1,ct(e,t,a,d),t.child)}function zh(e,t,a,s,c){if(vs(t),t.stateNode===null){var d=Is,m=a.contextType;typeof m=="object"&&m!==null&&(d=ft(m)),d=new a(s,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Lo,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=s,d.state=t.memoizedState,d.refs={},ho(t),m=a.contextType,d.context=typeof m=="object"&&m!==null?ft(m):Is,d.state=t.memoizedState,m=a.getDerivedStateFromProps,typeof m=="function"&&(Do(t,a,m,s),d.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(m=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),m!==d.state&&Lo.enqueueReplaceState(d,d.state,null),oi(t,s,d,c),li(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){d=t.stateNode;var y=t.memoizedProps,j=bs(a,y);d.props=j;var R=d.context,$=a.contextType;m=Is,typeof $=="object"&&$!==null&&(m=ft($));var Y=a.getDerivedStateFromProps;$=typeof Y=="function"||typeof d.getSnapshotBeforeUpdate=="function",y=t.pendingProps!==y,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y||R!==m)&&_h(t,d,s,m),Ta=!1;var D=t.memoizedState;d.state=D,oi(t,s,d,c),li(),R=t.memoizedState,y||D!==R||Ta?(typeof Y=="function"&&(Do(t,a,Y,s),R=t.memoizedState),(j=Ta||wh(t,a,j,s,D,R,m))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=R),d.props=s,d.state=R,d.context=m,s=j):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{d=t.stateNode,fo(e,t),m=t.memoizedProps,$=bs(a,m),d.props=$,Y=t.pendingProps,D=d.context,R=a.contextType,j=Is,typeof R=="object"&&R!==null&&(j=ft(R)),y=a.getDerivedStateFromProps,(R=typeof y=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(m!==Y||D!==j)&&_h(t,d,s,j),Ta=!1,D=t.memoizedState,d.state=D,oi(t,s,d,c),li();var U=t.memoizedState;m!==Y||D!==U||Ta||e!==null&&e.dependencies!==null&&pr(e.dependencies)?(typeof y=="function"&&(Do(t,a,y,s),U=t.memoizedState),($=Ta||wh(t,a,$,s,D,U,j)||e!==null&&e.dependencies!==null&&pr(e.dependencies))?(R||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(s,U,j),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(s,U,j)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||m===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=U),d.props=s,d.state=U,d.context=j,s=$):(typeof d.componentDidUpdate!="function"||m===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),s=!1)}return d=s,Lr(e,t),s=(t.flags&128)!==0,d||s?(d=t.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&s?(t.child=cn(t,e.child,null,c),t.child=cn(t,null,a,c)):ct(e,t,a,c),t.memoizedState=d.state,e=t.child):e=ma(e,t,c),e}function Bh(e,t,a,s){return Fn(),t.flags|=256,ct(e,t,a,s),t.child}var Bo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ho(e){return{baseLanes:e,cachePool:Nd()}}function qo(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Pt),e}function Hh(e,t,a){var s=t.pendingProps,c=!1,d=(t.flags&128)!==0,m;if((m=d)||(m=e!==null&&e.memoizedState===null?!1:(Fe.current&2)!==0),m&&(c=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ee){if(c?Ca(t):Ra(),Ee){var y=$e,j;if(j=y){e:{for(j=y,y=It;j.nodeType!==8;){if(!y){y=null;break e}if(j=Qt(j.nextSibling),j===null){y=null;break e}}y=j}y!==null?(t.memoizedState={dehydrated:y,treeContext:hs!==null?{id:oa,overflow:ca}:null,retryLane:536870912,hydrationErrors:null},j=kt(18,null,null,0),j.stateNode=y,j.return=t,t.child=j,vt=t,$e=null,j=!0):j=!1}j||gs(t)}if(y=t.memoizedState,y!==null&&(y=y.dehydrated,y!==null))return _c(y)?t.lanes=32:t.lanes=536870912,null;fa(t)}return y=s.children,s=s.fallback,c?(Ra(),c=t.mode,y=Ur({mode:"hidden",children:y},c),s=ds(s,c,a,null),y.return=t,s.return=t,y.sibling=s,t.child=y,c=t.child,c.memoizedState=Ho(a),c.childLanes=qo(e,m,a),t.memoizedState=Bo,s):(Ca(t),Po(t,y))}if(j=e.memoizedState,j!==null&&(y=j.dehydrated,y!==null)){if(d)t.flags&256?(Ca(t),t.flags&=-257,t=$o(e,t,a)):t.memoizedState!==null?(Ra(),t.child=e.child,t.flags|=128,t=null):(Ra(),c=s.fallback,y=t.mode,s=Ur({mode:"visible",children:s.children},y),c=ds(c,y,a,null),c.flags|=2,s.return=t,c.return=t,s.sibling=c,t.child=s,cn(t,e.child,null,a),s=t.child,s.memoizedState=Ho(a),s.childLanes=qo(e,m,a),t.memoizedState=Bo,t=c);else if(Ca(t),_c(y)){if(m=y.nextSibling&&y.nextSibling.dataset,m)var R=m.dgst;m=R,s=Error(l(419)),s.stack="",s.digest=m,ei({value:s,source:null,stack:null}),t=$o(e,t,a)}else if(nt||ti(e,t,a,!1),m=(a&e.childLanes)!==0,nt||m){if(m=Be,m!==null&&(s=a&-a,s=(s&42)!==0?1:Us(s),s=(s&(m.suspendedLanes|a))!==0?0:s,s!==0&&s!==j.retryLane))throw j.retryLane=s,Ws(e,s),Ct(m,e,s),Oh;y.data==="$?"||rc(),t=$o(e,t,a)}else y.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=j.treeContext,$e=Qt(y.nextSibling),vt=t,Ee=!0,ms=null,It=!1,e!==null&&(Bt[Ht++]=oa,Bt[Ht++]=ca,Bt[Ht++]=hs,oa=e.id,ca=e.overflow,hs=t),t=Po(t,s.children),t.flags|=4096);return t}return c?(Ra(),c=s.fallback,y=t.mode,j=e.child,R=j.sibling,s=la(j,{mode:"hidden",children:s.children}),s.subtreeFlags=j.subtreeFlags&65011712,R!==null?c=la(R,c):(c=ds(c,y,a,null),c.flags|=2),c.return=t,s.return=t,s.sibling=c,t.child=s,s=c,c=t.child,y=e.child.memoizedState,y===null?y=Ho(a):(j=y.cachePool,j!==null?(R=Ie._currentValue,j=j.parent!==R?{parent:R,pool:R}:j):j=Nd(),y={baseLanes:y.baseLanes|a,cachePool:j}),c.memoizedState=y,c.childLanes=qo(e,m,a),t.memoizedState=Bo,s):(Ca(t),a=e.child,e=a.sibling,a=la(a,{mode:"visible",children:s.children}),a.return=t,a.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=a,t.memoizedState=null,a)}function Po(e,t){return t=Ur({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ur(e,t){return e=kt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function $o(e,t,a){return cn(t,e.child,null,a),e=Po(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function qh(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),io(e.return,t,a)}function Go(e,t,a,s,c){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:c}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=s,d.tail=a,d.tailMode=c)}function Ph(e,t,a){var s=t.pendingProps,c=s.revealOrder,d=s.tail;if(ct(e,t,s.children,a),s=Fe.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qh(e,a,t);else if(e.tag===19)qh(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}switch(W(Fe,s),c){case"forwards":for(a=t.child,c=null;a!==null;)e=a.alternate,e!==null&&Rr(e)===null&&(c=a),a=a.sibling;a=c,a===null?(c=t.child,t.child=null):(c=a.sibling,a.sibling=null),Go(t,!1,c,a,d);break;case"backwards":for(a=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Rr(e)===null){t.child=c;break}e=c.sibling,c.sibling=a,a=c,c=e}Go(t,!0,a,null,d);break;case"together":Go(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ma(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),za|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(ti(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,a=la(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=la(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Vo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&pr(e)))}function Fg(e,t,a){switch(t.tag){case 3:B(t,t.stateNode.containerInfo),ka(t,Ie,e.memoizedState.cache),Fn();break;case 27:case 5:ge(t);break;case 4:B(t,t.stateNode.containerInfo);break;case 10:ka(t,t.type,t.memoizedProps.value);break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Ca(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Hh(e,t,a):(Ca(t),e=ma(e,t,a),e!==null?e.sibling:null);Ca(t);break;case 19:var c=(e.flags&128)!==0;if(s=(a&t.childLanes)!==0,s||(ti(e,t,a,!1),s=(a&t.childLanes)!==0),c){if(s)return Ph(e,t,a);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),W(Fe,Fe.current),s)break;return null;case 22:case 23:return t.lanes=0,Dh(e,t,a);case 24:ka(t,Ie,e.memoizedState.cache)}return ma(e,t,a)}function $h(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)nt=!0;else{if(!Vo(e,a)&&(t.flags&128)===0)return nt=!1,Fg(e,t,a);nt=(e.flags&131072)!==0}else nt=!1,Ee&&(t.flags&1048576)!==0&&yd(t,gr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var s=t.elementType,c=s._init;if(s=c(s._payload),t.type=s,typeof s=="function")Il(s)?(e=bs(s,e),t.tag=1,t=zh(null,t,s,e,a)):(t.tag=0,t=zo(null,t,s,e,a));else{if(s!=null){if(c=s.$$typeof,c===Q){t.tag=11,t=Ch(null,t,s,e,a);break e}else if(c===ie){t.tag=14,t=Rh(null,t,s,e,a);break e}}throw t=de(s)||s,Error(l(306,t,""))}}return t;case 0:return zo(e,t,t.type,t.pendingProps,a);case 1:return s=t.type,c=bs(s,t.pendingProps),zh(e,t,s,c,a);case 3:e:{if(B(t,t.stateNode.containerInfo),e===null)throw Error(l(387));s=t.pendingProps;var d=t.memoizedState;c=d.element,fo(e,t),oi(t,s,null,a);var m=t.memoizedState;if(s=m.cache,ka(t,Ie,s),s!==d.cache&&ro(t,[Ie],a,!0),li(),s=m.element,d.isDehydrated)if(d={element:s,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=Bh(e,t,s,a);break e}else if(s!==c){c=Ut(Error(l(424)),t),ei(c),t=Bh(e,t,s,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for($e=Qt(e.firstChild),vt=t,Ee=!0,ms=null,It=!0,a=bh(t,null,s,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Fn(),s===c){t=ma(e,t,a);break e}ct(e,t,s,a)}t=t.child}return t;case 26:return Lr(e,t),e===null?(a=Qf(t.type,null,t.pendingProps,null))?t.memoizedState=a:Ee||(a=t.type,e=t.pendingProps,s=Zr(te.current).createElement(a),s[ht]=t,s[xt]=e,dt(s,a,e),st(s),t.stateNode=s):t.memoizedState=Qf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ge(t),e===null&&Ee&&(s=t.stateNode=Vf(t.type,t.pendingProps,te.current),vt=t,It=!0,c=$e,Pa(t.type)?(Sc=c,$e=Qt(s.firstChild)):$e=c),ct(e,t,t.pendingProps.children,a),Lr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ee&&((c=s=$e)&&(s=Tp(s,t.type,t.pendingProps,It),s!==null?(t.stateNode=s,vt=t,$e=Qt(s.firstChild),It=!1,c=!0):c=!1),c||gs(t)),ge(t),c=t.type,d=t.pendingProps,m=e!==null?e.memoizedProps:null,s=d.children,bc(c,d)?s=null:m!==null&&bc(c,m)&&(t.flags|=32),t.memoizedState!==null&&(c=xo(e,t,Yg,null,null,a),Oi._currentValue=c),Lr(e,t),ct(e,t,s,a),t.child;case 6:return e===null&&Ee&&((e=a=$e)&&(a=Ep(a,t.pendingProps,It),a!==null?(t.stateNode=a,vt=t,$e=null,e=!0):e=!1),e||gs(t)),null;case 13:return Hh(e,t,a);case 4:return B(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=cn(t,null,s,a):ct(e,t,s,a),t.child;case 11:return Ch(e,t,t.type,t.pendingProps,a);case 7:return ct(e,t,t.pendingProps,a),t.child;case 8:return ct(e,t,t.pendingProps.children,a),t.child;case 12:return ct(e,t,t.pendingProps.children,a),t.child;case 10:return s=t.pendingProps,ka(t,t.type,s.value),ct(e,t,s.children,a),t.child;case 9:return c=t.type._context,s=t.pendingProps.children,vs(t),c=ft(c),s=s(c),t.flags|=1,ct(e,t,s,a),t.child;case 14:return Rh(e,t,t.type,t.pendingProps,a);case 15:return Mh(e,t,t.type,t.pendingProps,a);case 19:return Ph(e,t,a);case 31:return s=t.pendingProps,a=t.mode,s={mode:s.mode,children:s.children},e===null?(a=Ur(s,a),a.ref=t.ref,t.child=a,a.return=t,t=a):(a=la(e.child,s),a.ref=t.ref,t.child=a,a.return=t,t=a),t;case 22:return Dh(e,t,a);case 24:return vs(t),s=ft(Ie),e===null?(c=co(),c===null&&(c=Be,d=lo(),c.pooledCache=d,d.refCount++,d!==null&&(c.pooledCacheLanes|=a),c=d),t.memoizedState={parent:s,cache:c},ho(t),ka(t,Ie,c)):((e.lanes&a)!==0&&(fo(e,t),oi(t,null,null,a),li()),c=e.memoizedState,d=t.memoizedState,c.parent!==s?(c={parent:s,cache:s},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),ka(t,Ie,s)):(s=d.cache,ka(t,Ie,s),s!==c.cache&&ro(t,[Ie],a,!0))),ct(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function ga(e){e.flags|=4}function Gh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!If(t)){if(t=qt.current,t!==null&&((Ne&4194048)===Ne?Ft!==null:(Ne&62914560)!==Ne&&(Ne&536870912)===0||t!==Ft))throw ii=uo,kd;e.flags|=8192}}function zr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Se():536870912,e.lanes|=t,fn|=t)}function gi(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Pe(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var c=e.child;c!==null;)a|=c.lanes|c.childLanes,s|=c.subtreeFlags&65011712,s|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)a|=c.lanes|c.childLanes,s|=c.subtreeFlags,s|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function ep(e,t,a){var s=t.pendingProps;switch(ao(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(t),null;case 1:return Pe(t),null;case 3:return a=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),da(Ie),le(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(In(t)?ga(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,jd())),Pe(t),null;case 26:return a=t.memoizedState,e===null?(ga(t),a!==null?(Pe(t),Gh(t,a)):(Pe(t),t.flags&=-16777217)):a?a!==e.memoizedState?(ga(t),Pe(t),Gh(t,a)):(Pe(t),t.flags&=-16777217):(e.memoizedProps!==s&&ga(t),Pe(t),t.flags&=-16777217),null;case 27:Ce(t),a=te.current;var c=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==s&&ga(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return Pe(t),null}e=K.current,In(t)?xd(t):(e=Vf(c,s,a),t.stateNode=e,ga(t))}return Pe(t),null;case 5:if(Ce(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&ga(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return Pe(t),null}if(e=K.current,In(t))xd(t);else{switch(c=Zr(te.current),e){case 1:e=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof s.is=="string"?c.createElement("select",{is:s.is}):c.createElement("select"),s.multiple?e.multiple=!0:s.size&&(e.size=s.size);break;default:e=typeof s.is=="string"?c.createElement(a,{is:s.is}):c.createElement(a)}}e[ht]=t,e[xt]=s;e:for(c=t.child;c!==null;){if(c.tag===5||c.tag===6)e.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}t.stateNode=e;e:switch(dt(e,a,s),a){case"button":case"input":case"select":case"textarea":e=!!s.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&ga(t)}}return Pe(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&ga(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(l(166));if(e=te.current,In(t)){if(e=t.stateNode,a=t.memoizedProps,s=null,c=vt,c!==null)switch(c.tag){case 27:case 5:s=c.memoizedProps}e[ht]=t,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||zf(e.nodeValue,a)),e||gs(t)}else e=Zr(e).createTextNode(s),e[ht]=t,t.stateNode=e}return Pe(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=In(t),s!==null&&s.dehydrated!==null){if(e===null){if(!c)throw Error(l(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(l(317));c[ht]=t}else Fn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Pe(t),c=!1}else c=jd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(fa(t),t):(fa(t),null)}if(fa(t),(t.flags&128)!==0)return t.lanes=a,t;if(a=s!==null,e=e!==null&&e.memoizedState!==null,a){s=t.child,c=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(c=s.alternate.memoizedState.cachePool.pool);var d=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),d!==c&&(s.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),zr(t,t.updateQueue),Pe(t),null;case 4:return le(),e===null&&gc(t.stateNode.containerInfo),Pe(t),null;case 10:return da(t.type),Pe(t),null;case 19:if(Z(Fe),c=t.memoizedState,c===null)return Pe(t),null;if(s=(t.flags&128)!==0,d=c.rendering,d===null)if(s)gi(c,!1);else{if(Ge!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=Rr(e),d!==null){for(t.flags|=128,gi(c,!1),e=d.updateQueue,t.updateQueue=e,zr(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)vd(a,e),a=a.sibling;return W(Fe,Fe.current&1|2),t.child}e=e.sibling}c.tail!==null&&Ue()>qr&&(t.flags|=128,s=!0,gi(c,!1),t.lanes=4194304)}else{if(!s)if(e=Rr(d),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,zr(t,e),gi(c,!0),c.tail===null&&c.tailMode==="hidden"&&!d.alternate&&!Ee)return Pe(t),null}else 2*Ue()-c.renderingStartTime>qr&&a!==536870912&&(t.flags|=128,s=!0,gi(c,!1),t.lanes=4194304);c.isBackwards?(d.sibling=t.child,t.child=d):(e=c.last,e!==null?e.sibling=d:t.child=d,c.last=d)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=Ue(),t.sibling=null,e=Fe.current,W(Fe,s?e&1|2:e&1),t):(Pe(t),null);case 22:case 23:return fa(t),vo(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(a&536870912)!==0&&(t.flags&128)===0&&(Pe(t),t.subtreeFlags&6&&(t.flags|=8192)):Pe(t),a=t.updateQueue,a!==null&&zr(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==a&&(t.flags|=2048),e!==null&&Z(ys),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),da(Ie),Pe(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function tp(e,t){switch(ao(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return da(Ie),le(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ce(t),null;case 13:if(fa(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));Fn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Z(Fe),null;case 4:return le(),null;case 10:return da(t.type),null;case 22:case 23:return fa(t),vo(),e!==null&&Z(ys),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return da(Ie),null;case 25:return null;default:return null}}function Vh(e,t){switch(ao(t),t.tag){case 3:da(Ie),le();break;case 26:case 27:case 5:Ce(t);break;case 4:le();break;case 13:fa(t);break;case 19:Z(Fe);break;case 10:da(t.type);break;case 22:case 23:fa(t),vo(),e!==null&&Z(ys);break;case 24:da(Ie)}}function pi(e,t){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var c=s.next;a=c;do{if((a.tag&e)===e){s=void 0;var d=a.create,m=a.inst;s=d(),m.destroy=s}a=a.next}while(a!==c)}}catch(y){ze(t,t.return,y)}}function Ma(e,t,a){try{var s=t.updateQueue,c=s!==null?s.lastEffect:null;if(c!==null){var d=c.next;s=d;do{if((s.tag&e)===e){var m=s.inst,y=m.destroy;if(y!==void 0){m.destroy=void 0,c=t;var j=a,R=y;try{R()}catch($){ze(c,j,$)}}}s=s.next}while(s!==d)}}catch($){ze(t,t.return,$)}}function Yh(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Rd(t,a)}catch(s){ze(e,e.return,s)}}}function Kh(e,t,a){a.props=bs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){ze(e,t,s)}}function vi(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(c){ze(e,t,c)}}function ea(e,t){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(c){ze(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){ze(e,t,c)}else a.current=null}function Qh(e){var t=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(c){ze(e,e.return,c)}}function Yo(e,t,a){try{var s=e.stateNode;wp(s,e.type,a,t),s[xt]=t}catch(c){ze(e,e.return,c)}}function Xh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Pa(e.type)||e.tag===4}function Ko(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Xh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Pa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qo(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Jr));else if(s!==4&&(s===27&&Pa(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Qo(e,t,a),e=e.sibling;e!==null;)Qo(e,t,a),e=e.sibling}function Br(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&(s===27&&Pa(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Br(e,t,a),e=e.sibling;e!==null;)Br(e,t,a),e=e.sibling}function Jh(e){var t=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);dt(t,s,a),t[ht]=e,t[xt]=a}catch(d){ze(e,e.return,d)}}var pa=!1,Qe=!1,Xo=!1,Zh=typeof WeakSet=="function"?WeakSet:Set,it=null;function ap(e,t){if(e=e.containerInfo,yc=al,e=ld(e),Yl(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var c=s.anchorOffset,d=s.focusNode;s=s.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var m=0,y=-1,j=-1,R=0,$=0,Y=e,D=null;t:for(;;){for(var U;Y!==a||c!==0&&Y.nodeType!==3||(y=m+c),Y!==d||s!==0&&Y.nodeType!==3||(j=m+s),Y.nodeType===3&&(m+=Y.nodeValue.length),(U=Y.firstChild)!==null;)D=Y,Y=U;for(;;){if(Y===e)break t;if(D===a&&++R===c&&(y=m),D===d&&++$===s&&(j=m),(U=Y.nextSibling)!==null)break;Y=D,D=Y.parentNode}Y=U}a=y===-1||j===-1?null:{start:y,end:j}}else a=null}a=a||{start:0,end:0}}else a=null;for(xc={focusedElem:e,selectionRange:a},al=!1,it=t;it!==null;)if(t=it,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,it=e;else for(;it!==null;){switch(t=it,d=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=t,c=d.memoizedProps,d=d.memoizedState,s=a.stateNode;try{var he=bs(a.type,c,a.elementType===a.type);e=s.getSnapshotBeforeUpdate(he,d),s.__reactInternalSnapshotBeforeUpdate=e}catch(ce){ze(a,a.return,ce)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)wc(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":wc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,it=e;break}it=t.return}}function Wh(e,t,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:Da(e,a),s&4&&pi(5,a);break;case 1:if(Da(e,a),s&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(m){ze(a,a.return,m)}else{var c=bs(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){ze(a,a.return,m)}}s&64&&Yh(a),s&512&&vi(a,a.return);break;case 3:if(Da(e,a),s&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Rd(e,t)}catch(m){ze(a,a.return,m)}}break;case 27:t===null&&s&4&&Jh(a);case 26:case 5:Da(e,a),t===null&&s&4&&Qh(a),s&512&&vi(a,a.return);break;case 12:Da(e,a);break;case 13:Da(e,a),s&4&&ef(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=dp.bind(null,a),Ap(e,a))));break;case 22:if(s=a.memoizedState!==null||pa,!s){t=t!==null&&t.memoizedState!==null||Qe,c=pa;var d=Qe;pa=s,(Qe=t)&&!d?La(e,a,(a.subtreeFlags&8772)!==0):Da(e,a),pa=c,Qe=d}break;case 30:break;default:Da(e,a)}}function Ih(e){var t=e.alternate;t!==null&&(e.alternate=null,Ih(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&kl(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var qe=null,wt=!1;function va(e,t,a){for(a=a.child;a!==null;)Fh(e,t,a),a=a.sibling}function Fh(e,t,a){if(gt&&typeof gt.onCommitFiberUnmount=="function")try{gt.onCommitFiberUnmount(ns,a)}catch{}switch(a.tag){case 26:Qe||ea(a,t),va(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Qe||ea(a,t);var s=qe,c=wt;Pa(a.type)&&(qe=a.stateNode,wt=!1),va(e,t,a),ki(a.stateNode),qe=s,wt=c;break;case 5:Qe||ea(a,t);case 6:if(s=qe,c=wt,qe=null,va(e,t,a),qe=s,wt=c,qe!==null)if(wt)try{(qe.nodeType===9?qe.body:qe.nodeName==="HTML"?qe.ownerDocument.body:qe).removeChild(a.stateNode)}catch(d){ze(a,t,d)}else try{qe.removeChild(a.stateNode)}catch(d){ze(a,t,d)}break;case 18:qe!==null&&(wt?(e=qe,$f(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Di(e)):$f(qe,a.stateNode));break;case 4:s=qe,c=wt,qe=a.stateNode.containerInfo,wt=!0,va(e,t,a),qe=s,wt=c;break;case 0:case 11:case 14:case 15:Qe||Ma(2,a,t),Qe||Ma(4,a,t),va(e,t,a);break;case 1:Qe||(ea(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"&&Kh(a,t,s)),va(e,t,a);break;case 21:va(e,t,a);break;case 22:Qe=(s=Qe)||a.memoizedState!==null,va(e,t,a),Qe=s;break;default:va(e,t,a)}}function ef(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Di(e)}catch(a){ze(t,t.return,a)}}function sp(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Zh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Zh),t;default:throw Error(l(435,e.tag))}}function Jo(e,t){var a=sp(e);t.forEach(function(s){var c=hp.bind(null,e,s);a.has(s)||(a.add(s),s.then(c,c))})}function Tt(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var c=a[s],d=e,m=t,y=m;e:for(;y!==null;){switch(y.tag){case 27:if(Pa(y.type)){qe=y.stateNode,wt=!1;break e}break;case 5:qe=y.stateNode,wt=!1;break e;case 3:case 4:qe=y.stateNode.containerInfo,wt=!0;break e}y=y.return}if(qe===null)throw Error(l(160));Fh(d,m,c),qe=null,wt=!1,d=c.alternate,d!==null&&(d.return=null),c.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)tf(t,e),t=t.sibling}var Kt=null;function tf(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Tt(t,e),Et(e),s&4&&(Ma(3,e,e.return),pi(3,e),Ma(5,e,e.return));break;case 1:Tt(t,e),Et(e),s&512&&(Qe||a===null||ea(a,a.return)),s&64&&pa&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var c=Kt;if(Tt(t,e),Et(e),s&512&&(Qe||a===null||ea(a,a.return)),s&4){var d=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,c=c.ownerDocument||c;t:switch(s){case"title":d=c.getElementsByTagName("title")[0],(!d||d[Pn]||d[ht]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=c.createElement(s),c.head.insertBefore(d,c.querySelector("head > title"))),dt(d,s,a),d[ht]=e,st(d),s=d;break e;case"link":var m=Zf("link","href",c).get(s+(a.href||""));if(m){for(var y=0;y<m.length;y++)if(d=m[y],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){m.splice(y,1);break t}}d=c.createElement(s),dt(d,s,a),c.head.appendChild(d);break;case"meta":if(m=Zf("meta","content",c).get(s+(a.content||""))){for(y=0;y<m.length;y++)if(d=m[y],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){m.splice(y,1);break t}}d=c.createElement(s),dt(d,s,a),c.head.appendChild(d);break;default:throw Error(l(468,s))}d[ht]=e,st(d),s=d}e.stateNode=s}else Wf(c,e.type,e.stateNode);else e.stateNode=Jf(c,s,e.memoizedProps);else d!==s?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,s===null?Wf(c,e.type,e.stateNode):Jf(c,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Yo(e,e.memoizedProps,a.memoizedProps)}break;case 27:Tt(t,e),Et(e),s&512&&(Qe||a===null||ea(a,a.return)),a!==null&&s&4&&Yo(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Tt(t,e),Et(e),s&512&&(Qe||a===null||ea(a,a.return)),e.flags&32){c=e.stateNode;try{Vs(c,"")}catch(U){ze(e,e.return,U)}}s&4&&e.stateNode!=null&&(c=e.memoizedProps,Yo(e,c,a!==null?a.memoizedProps:c)),s&1024&&(Xo=!0);break;case 6:if(Tt(t,e),Et(e),s&4){if(e.stateNode===null)throw Error(l(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(U){ze(e,e.return,U)}}break;case 3:if(Fr=null,c=Kt,Kt=Wr(t.containerInfo),Tt(t,e),Kt=c,Et(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{Di(t.containerInfo)}catch(U){ze(e,e.return,U)}Xo&&(Xo=!1,af(e));break;case 4:s=Kt,Kt=Wr(e.stateNode.containerInfo),Tt(t,e),Et(e),Kt=s;break;case 12:Tt(t,e),Et(e);break;case 13:Tt(t,e),Et(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(tc=Ue()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Jo(e,s)));break;case 22:c=e.memoizedState!==null;var j=a!==null&&a.memoizedState!==null,R=pa,$=Qe;if(pa=R||c,Qe=$||j,Tt(t,e),Qe=$,pa=R,Et(e),s&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(a===null||j||pa||Qe||js(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){j=a=t;try{if(d=j.stateNode,c)m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{y=j.stateNode;var Y=j.memoizedProps.style,D=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;y.style.display=D==null||typeof D=="boolean"?"":(""+D).trim()}}catch(U){ze(j,j.return,U)}}}else if(t.tag===6){if(a===null){j=t;try{j.stateNode.nodeValue=c?"":j.memoizedProps}catch(U){ze(j,j.return,U)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,Jo(e,a))));break;case 19:Tt(t,e),Et(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Jo(e,s)));break;case 30:break;case 21:break;default:Tt(t,e),Et(e)}}function Et(e){var t=e.flags;if(t&2){try{for(var a,s=e.return;s!==null;){if(Xh(s)){a=s;break}s=s.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var c=a.stateNode,d=Ko(e);Br(e,d,c);break;case 5:var m=a.stateNode;a.flags&32&&(Vs(m,""),a.flags&=-33);var y=Ko(e);Br(e,y,m);break;case 3:case 4:var j=a.stateNode.containerInfo,R=Ko(e);Qo(e,R,j);break;default:throw Error(l(161))}}catch($){ze(e,e.return,$)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function af(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;af(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Da(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Wh(e,t.alternate,t),t=t.sibling}function js(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ma(4,t,t.return),js(t);break;case 1:ea(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Kh(t,t.return,a),js(t);break;case 27:ki(t.stateNode);case 26:case 5:ea(t,t.return),js(t);break;case 22:t.memoizedState===null&&js(t);break;case 30:js(t);break;default:js(t)}e=e.sibling}}function La(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,c=e,d=t,m=d.flags;switch(d.tag){case 0:case 11:case 15:La(c,d,a),pi(4,d);break;case 1:if(La(c,d,a),s=d,c=s.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(R){ze(s,s.return,R)}if(s=d,c=s.updateQueue,c!==null){var y=s.stateNode;try{var j=c.shared.hiddenCallbacks;if(j!==null)for(c.shared.hiddenCallbacks=null,c=0;c<j.length;c++)Cd(j[c],y)}catch(R){ze(s,s.return,R)}}a&&m&64&&Yh(d),vi(d,d.return);break;case 27:Jh(d);case 26:case 5:La(c,d,a),a&&s===null&&m&4&&Qh(d),vi(d,d.return);break;case 12:La(c,d,a);break;case 13:La(c,d,a),a&&m&4&&ef(c,d);break;case 22:d.memoizedState===null&&La(c,d,a),vi(d,d.return);break;case 30:break;default:La(c,d,a)}t=t.sibling}}function Zo(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ai(a))}function Wo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ai(e))}function ta(e,t,a,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)sf(e,t,a,s),t=t.sibling}function sf(e,t,a,s){var c=t.flags;switch(t.tag){case 0:case 11:case 15:ta(e,t,a,s),c&2048&&pi(9,t);break;case 1:ta(e,t,a,s);break;case 3:ta(e,t,a,s),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ai(e)));break;case 12:if(c&2048){ta(e,t,a,s),e=t.stateNode;try{var d=t.memoizedProps,m=d.id,y=d.onPostCommit;typeof y=="function"&&y(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(j){ze(t,t.return,j)}}else ta(e,t,a,s);break;case 13:ta(e,t,a,s);break;case 23:break;case 22:d=t.stateNode,m=t.alternate,t.memoizedState!==null?d._visibility&2?ta(e,t,a,s):yi(e,t):d._visibility&2?ta(e,t,a,s):(d._visibility|=2,un(e,t,a,s,(t.subtreeFlags&10256)!==0)),c&2048&&Zo(m,t);break;case 24:ta(e,t,a,s),c&2048&&Wo(t.alternate,t);break;default:ta(e,t,a,s)}}function un(e,t,a,s,c){for(c=c&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var d=e,m=t,y=a,j=s,R=m.flags;switch(m.tag){case 0:case 11:case 15:un(d,m,y,j,c),pi(8,m);break;case 23:break;case 22:var $=m.stateNode;m.memoizedState!==null?$._visibility&2?un(d,m,y,j,c):yi(d,m):($._visibility|=2,un(d,m,y,j,c)),c&&R&2048&&Zo(m.alternate,m);break;case 24:un(d,m,y,j,c),c&&R&2048&&Wo(m.alternate,m);break;default:un(d,m,y,j,c)}t=t.sibling}}function yi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,s=t,c=s.flags;switch(s.tag){case 22:yi(a,s),c&2048&&Zo(s.alternate,s);break;case 24:yi(a,s),c&2048&&Wo(s.alternate,s);break;default:yi(a,s)}t=t.sibling}}var xi=8192;function dn(e){if(e.subtreeFlags&xi)for(e=e.child;e!==null;)nf(e),e=e.sibling}function nf(e){switch(e.tag){case 26:dn(e),e.flags&xi&&e.memoizedState!==null&&$p(Kt,e.memoizedState,e.memoizedProps);break;case 5:dn(e);break;case 3:case 4:var t=Kt;Kt=Wr(e.stateNode.containerInfo),dn(e),Kt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=xi,xi=16777216,dn(e),xi=t):dn(e));break;default:dn(e)}}function rf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function bi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];it=s,of(s,e)}rf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)lf(e),e=e.sibling}function lf(e){switch(e.tag){case 0:case 11:case 15:bi(e),e.flags&2048&&Ma(9,e,e.return);break;case 3:bi(e);break;case 12:bi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Hr(e)):bi(e);break;default:bi(e)}}function Hr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];it=s,of(s,e)}rf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ma(8,t,t.return),Hr(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Hr(t));break;default:Hr(t)}e=e.sibling}}function of(e,t){for(;it!==null;){var a=it;switch(a.tag){case 0:case 11:case 15:Ma(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:ai(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,it=s;else e:for(a=e;it!==null;){s=it;var c=s.sibling,d=s.return;if(Ih(s),s===a){it=null;break e}if(c!==null){c.return=d,it=c;break e}it=d}}}var np={getCacheForType:function(e){var t=ft(Ie),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},ip=typeof WeakMap=="function"?WeakMap:Map,Ae=0,Be=null,je=null,Ne=0,Oe=0,At=null,Ua=!1,hn=!1,Io=!1,ya=0,Ge=0,za=0,ws=0,Fo=0,Pt=0,fn=0,ji=null,_t=null,ec=!1,tc=0,qr=1/0,Pr=null,Ba=null,ut=0,Ha=null,mn=null,gn=0,ac=0,sc=null,cf=null,wi=0,nc=null;function Ot(){if((Ae&2)!==0&&Ne!==0)return Ne&-Ne;if(M.T!==null){var e=tn;return e!==0?e:dc()}return Su()}function uf(){Pt===0&&(Pt=(Ne&536870912)===0||Ee?se():536870912);var e=qt.current;return e!==null&&(e.flags|=32),Pt}function Ct(e,t,a){(e===Be&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)&&(pn(e,0),qa(e,Ne,Pt,!1)),Mt(e,a),((Ae&2)===0||e!==Be)&&(e===Be&&((Ae&2)===0&&(ws|=a),Ge===4&&qa(e,Ne,Pt,!1)),aa(e))}function df(e,t,a){if((Ae&6)!==0)throw Error(l(327));var s=!a&&(t&124)===0&&(t&e.expiredLanes)===0||rs(e,t),c=s?op(e,t):lc(e,t,!0),d=s;do{if(c===0){hn&&!s&&qa(e,t,0,!1);break}else{if(a=e.current.alternate,d&&!rp(a)){c=lc(e,t,!1),d=!1;continue}if(c===2){if(d=t,e.errorRecoveryDisabledLanes&d)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var y=e;c=ji;var j=y.current.memoizedState.isDehydrated;if(j&&(pn(y,m).flags|=256),m=lc(y,m,!1),m!==2){if(Io&&!j){y.errorRecoveryDisabledLanes|=d,ws|=d,c=4;break e}d=_t,_t=c,d!==null&&(_t===null?_t=d:_t.push.apply(_t,d))}c=m}if(d=!1,c!==2)continue}}if(c===1){pn(e,0),qa(e,t,0,!0);break}e:{switch(s=e,d=c,d){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:qa(s,t,Pt,!Ua);break e;case 2:_t=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(c=tc+300-Ue(),10<c)){if(qa(s,t,Pt,!Ua),is(s,0,!0)!==0)break e;s.timeoutHandle=qf(hf.bind(null,s,a,_t,Pr,ec,t,Pt,ws,fn,Ua,d,2,-0,0),c);break e}hf(s,a,_t,Pr,ec,t,Pt,ws,fn,Ua,d,0,-0,0)}}break}while(!0);aa(e)}function hf(e,t,a,s,c,d,m,y,j,R,$,Y,D,U){if(e.timeoutHandle=-1,Y=t.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(Ai={stylesheets:null,count:0,unsuspend:Pp},nf(t),Y=Gp(),Y!==null)){e.cancelPendingCommit=Y(xf.bind(null,e,t,d,a,s,c,m,y,j,$,1,D,U)),qa(e,d,m,!R);return}xf(e,t,d,a,s,c,m,y,j)}function rp(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var c=a[s],d=c.getSnapshot;c=c.value;try{if(!Nt(d(),c))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qa(e,t,a,s){t&=~Fo,t&=~ws,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var c=t;0<c;){var d=31-pt(c),m=1<<d;s[d]=-1,c&=~m}a!==0&&Ii(e,a,t)}function $r(){return(Ae&6)===0?(_i(0),!1):!0}function ic(){if(je!==null){if(Oe===0)var e=je.return;else e=je,ua=ps=null,wo(e),on=null,fi=0,e=je;for(;e!==null;)Vh(e.alternate,e),e=e.return;je=null}}function pn(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Sp(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ic(),Be=e,je=a=la(e.current,null),Ne=t,Oe=0,At=null,Ua=!1,hn=rs(e,t),Io=!1,fn=Pt=Fo=ws=za=Ge=0,_t=ji=null,ec=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var c=31-pt(s),d=1<<c;t|=e[c],s&=~d}return ya=t,ur(),a}function ff(e,t){ye=null,M.H=Ar,t===ni||t===xr?(t=Ad(),Oe=3):t===kd?(t=Ad(),Oe=4):Oe=t===Oh?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,At=t,je===null&&(Ge=1,Dr(e,Ut(t,e.current)))}function mf(){var e=M.H;return M.H=Ar,e===null?Ar:e}function gf(){var e=M.A;return M.A=np,e}function rc(){Ge=4,Ua||(Ne&4194048)!==Ne&&qt.current!==null||(hn=!0),(za&134217727)===0&&(ws&134217727)===0||Be===null||qa(Be,Ne,Pt,!1)}function lc(e,t,a){var s=Ae;Ae|=2;var c=mf(),d=gf();(Be!==e||Ne!==t)&&(Pr=null,pn(e,t)),t=!1;var m=Ge;e:do try{if(Oe!==0&&je!==null){var y=je,j=At;switch(Oe){case 8:ic(),m=6;break e;case 3:case 2:case 9:case 6:qt.current===null&&(t=!0);var R=Oe;if(Oe=0,At=null,vn(e,y,j,R),a&&hn){m=0;break e}break;default:R=Oe,Oe=0,At=null,vn(e,y,j,R)}}lp(),m=Ge;break}catch($){ff(e,$)}while(!0);return t&&e.shellSuspendCounter++,ua=ps=null,Ae=s,M.H=c,M.A=d,je===null&&(Be=null,Ne=0,ur()),m}function lp(){for(;je!==null;)pf(je)}function op(e,t){var a=Ae;Ae|=2;var s=mf(),c=gf();Be!==e||Ne!==t?(Pr=null,qr=Ue()+500,pn(e,t)):hn=rs(e,t);e:do try{if(Oe!==0&&je!==null){t=je;var d=At;t:switch(Oe){case 1:Oe=0,At=null,vn(e,t,d,1);break;case 2:case 9:if(Td(d)){Oe=0,At=null,vf(t);break}t=function(){Oe!==2&&Oe!==9||Be!==e||(Oe=7),aa(e)},d.then(t,t);break e;case 3:Oe=7;break e;case 4:Oe=5;break e;case 7:Td(d)?(Oe=0,At=null,vf(t)):(Oe=0,At=null,vn(e,t,d,7));break;case 5:var m=null;switch(je.tag){case 26:m=je.memoizedState;case 5:case 27:var y=je;if(!m||If(m)){Oe=0,At=null;var j=y.sibling;if(j!==null)je=j;else{var R=y.return;R!==null?(je=R,Gr(R)):je=null}break t}}Oe=0,At=null,vn(e,t,d,5);break;case 6:Oe=0,At=null,vn(e,t,d,6);break;case 8:ic(),Ge=6;break e;default:throw Error(l(462))}}cp();break}catch($){ff(e,$)}while(!0);return ua=ps=null,M.H=s,M.A=c,Ae=a,je!==null?0:(Be=null,Ne=0,ur(),Ge)}function cp(){for(;je!==null&&!as();)pf(je)}function pf(e){var t=$h(e.alternate,e,ya);e.memoizedProps=e.pendingProps,t===null?Gr(e):je=t}function vf(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Uh(a,t,t.pendingProps,t.type,void 0,Ne);break;case 11:t=Uh(a,t,t.pendingProps,t.type.render,t.ref,Ne);break;case 5:wo(t);default:Vh(a,t),t=je=vd(t,ya),t=$h(a,t,ya)}e.memoizedProps=e.pendingProps,t===null?Gr(e):je=t}function vn(e,t,a,s){ua=ps=null,wo(t),on=null,fi=0;var c=t.return;try{if(Ig(e,c,t,a,Ne)){Ge=1,Dr(e,Ut(a,e.current)),je=null;return}}catch(d){if(c!==null)throw je=c,d;Ge=1,Dr(e,Ut(a,e.current)),je=null;return}t.flags&32768?(Ee||s===1?e=!0:hn||(Ne&536870912)!==0?e=!1:(Ua=e=!0,(s===2||s===9||s===3||s===6)&&(s=qt.current,s!==null&&s.tag===13&&(s.flags|=16384))),yf(t,e)):Gr(t)}function Gr(e){var t=e;do{if((t.flags&32768)!==0){yf(t,Ua);return}e=t.return;var a=ep(t.alternate,t,ya);if(a!==null){je=a;return}if(t=t.sibling,t!==null){je=t;return}je=t=e}while(t!==null);Ge===0&&(Ge=5)}function yf(e,t){do{var a=tp(e.alternate,e);if(a!==null){a.flags&=32767,je=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){je=e;return}je=e=a}while(e!==null);Ge=6,je=null}function xf(e,t,a,s,c,d,m,y,j){e.cancelPendingCommit=null;do Vr();while(ut!==0);if((Ae&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(d=t.lanes|t.childLanes,d|=Zl,Wi(e,a,d,m,y,j),e===Be&&(je=Be=null,Ne=0),mn=t,Ha=e,gn=a,ac=d,sc=c,cf=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,fp(Zt,function(){return Sf(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=M.T,M.T=null,c=J.p,J.p=2,m=Ae,Ae|=4;try{ap(e,t,a)}finally{Ae=m,J.p=c,M.T=s}}ut=1,bf(),jf(),wf()}}function bf(){if(ut===1){ut=0;var e=Ha,t=mn,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=M.T,M.T=null;var s=J.p;J.p=2;var c=Ae;Ae|=4;try{tf(t,e);var d=xc,m=ld(e.containerInfo),y=d.focusedElem,j=d.selectionRange;if(m!==y&&y&&y.ownerDocument&&rd(y.ownerDocument.documentElement,y)){if(j!==null&&Yl(y)){var R=j.start,$=j.end;if($===void 0&&($=R),"selectionStart"in y)y.selectionStart=R,y.selectionEnd=Math.min($,y.value.length);else{var Y=y.ownerDocument||document,D=Y&&Y.defaultView||window;if(D.getSelection){var U=D.getSelection(),he=y.textContent.length,ce=Math.min(j.start,he),De=j.end===void 0?ce:Math.min(j.end,he);!U.extend&&ce>De&&(m=De,De=ce,ce=m);var A=id(y,ce),k=id(y,De);if(A&&k&&(U.rangeCount!==1||U.anchorNode!==A.node||U.anchorOffset!==A.offset||U.focusNode!==k.node||U.focusOffset!==k.offset)){var C=Y.createRange();C.setStart(A.node,A.offset),U.removeAllRanges(),ce>De?(U.addRange(C),U.extend(k.node,k.offset)):(C.setEnd(k.node,k.offset),U.addRange(C))}}}}for(Y=[],U=y;U=U.parentNode;)U.nodeType===1&&Y.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<Y.length;y++){var V=Y[y];V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}al=!!yc,xc=yc=null}finally{Ae=c,J.p=s,M.T=a}}e.current=t,ut=2}}function jf(){if(ut===2){ut=0;var e=Ha,t=mn,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=M.T,M.T=null;var s=J.p;J.p=2;var c=Ae;Ae|=4;try{Wh(e,t.alternate,t)}finally{Ae=c,J.p=s,M.T=a}}ut=3}}function wf(){if(ut===4||ut===3){ut=0,ss();var e=Ha,t=mn,a=gn,s=cf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?ut=5:(ut=0,mn=Ha=null,_f(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Ba=null),Sl(a),t=t.stateNode,gt&&typeof gt.onCommitFiberRoot=="function")try{gt.onCommitFiberRoot(ns,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=M.T,c=J.p,J.p=2,M.T=null;try{for(var d=e.onRecoverableError,m=0;m<s.length;m++){var y=s[m];d(y.value,{componentStack:y.stack})}}finally{M.T=t,J.p=c}}(gn&3)!==0&&Vr(),aa(e),c=e.pendingLanes,(a&4194090)!==0&&(c&42)!==0?e===nc?wi++:(wi=0,nc=e):wi=0,_i(0)}}function _f(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ai(t)))}function Vr(e){return bf(),jf(),wf(),Sf()}function Sf(){if(ut!==5)return!1;var e=Ha,t=ac;ac=0;var a=Sl(gn),s=M.T,c=J.p;try{J.p=32>a?32:a,M.T=null,a=sc,sc=null;var d=Ha,m=gn;if(ut=0,mn=Ha=null,gn=0,(Ae&6)!==0)throw Error(l(331));var y=Ae;if(Ae|=4,lf(d.current),sf(d,d.current,m,a),Ae=y,_i(0,!1),gt&&typeof gt.onPostCommitFiberRoot=="function")try{gt.onPostCommitFiberRoot(ns,d)}catch{}return!0}finally{J.p=c,M.T=s,_f(e,t)}}function Nf(e,t,a){t=Ut(a,t),t=Uo(e.stateNode,t,2),e=Aa(e,t,2),e!==null&&(Mt(e,2),aa(e))}function ze(e,t,a){if(e.tag===3)Nf(e,e,a);else for(;t!==null;){if(t.tag===3){Nf(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ba===null||!Ba.has(s))){e=Ut(a,e),a=Eh(2),s=Aa(t,a,2),s!==null&&(Ah(a,s,t,e),Mt(s,2),aa(s));break}}t=t.return}}function oc(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new ip;var c=new Set;s.set(t,c)}else c=s.get(t),c===void 0&&(c=new Set,s.set(t,c));c.has(a)||(Io=!0,c.add(a),e=up.bind(null,e,t,a),t.then(e,e))}function up(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Be===e&&(Ne&a)===a&&(Ge===4||Ge===3&&(Ne&62914560)===Ne&&300>Ue()-tc?(Ae&2)===0&&pn(e,0):Fo|=a,fn===Ne&&(fn=0)),aa(e)}function kf(e,t){t===0&&(t=Se()),e=Ws(e,t),e!==null&&(Mt(e,t),aa(e))}function dp(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),kf(e,a)}function hp(e,t){var a=0;switch(e.tag){case 13:var s=e.stateNode,c=e.memoizedState;c!==null&&(a=c.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(l(314))}s!==null&&s.delete(t),kf(e,a)}function fp(e,t){return _a(e,t)}var Yr=null,yn=null,cc=!1,Kr=!1,uc=!1,_s=0;function aa(e){e!==yn&&e.next===null&&(yn===null?Yr=yn=e:yn=yn.next=e),Kr=!0,cc||(cc=!0,gp())}function _i(e,t){if(!uc&&Kr){uc=!0;do for(var a=!1,s=Yr;s!==null;){if(e!==0){var c=s.pendingLanes;if(c===0)var d=0;else{var m=s.suspendedLanes,y=s.pingedLanes;d=(1<<31-pt(42|e)+1)-1,d&=c&~(m&~y),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Of(s,d))}else d=Ne,d=is(s,s===Be?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(d&3)===0||rs(s,d)||(a=!0,Of(s,d));s=s.next}while(a);uc=!1}}function mp(){Tf()}function Tf(){Kr=cc=!1;var e=0;_s!==0&&(_p()&&(e=_s),_s=0);for(var t=Ue(),a=null,s=Yr;s!==null;){var c=s.next,d=Ef(s,t);d===0?(s.next=null,a===null?Yr=c:a.next=c,c===null&&(yn=a)):(a=s,(e!==0||(d&3)!==0)&&(Kr=!0)),s=c}_i(e)}function Ef(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,c=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var m=31-pt(d),y=1<<m,j=c[m];j===-1?((y&a)===0||(y&s)!==0)&&(c[m]=Zi(y,t)):j<=t&&(e.expiredLanes|=y),d&=~y}if(t=Be,a=Ne,a=is(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===t&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Vt(s),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||rs(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(s!==null&&Vt(s),Sl(a)){case 2:case 8:a=qn;break;case 32:a=Zt;break;case 268435456:a=Xi;break;default:a=Zt}return s=Af.bind(null,e),a=_a(a,s),e.callbackPriority=t,e.callbackNode=a,t}return s!==null&&s!==null&&Vt(s),e.callbackPriority=2,e.callbackNode=null,2}function Af(e,t){if(ut!==0&&ut!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Vr()&&e.callbackNode!==a)return null;var s=Ne;return s=is(e,e===Be?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(df(e,s,t),Ef(e,Ue()),e.callbackNode!=null&&e.callbackNode===a?Af.bind(null,e):null)}function Of(e,t){if(Vr())return null;df(e,t,!0)}function gp(){Np(function(){(Ae&6)!==0?_a(Hn,mp):Tf()})}function dc(){return _s===0&&(_s=se()),_s}function Cf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:sr(""+e)}function Rf(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function pp(e,t,a,s,c){if(t==="submit"&&a&&a.stateNode===c){var d=Cf((c[xt]||null).action),m=s.submitter;m&&(t=(t=m[xt]||null)?Cf(t.formAction):m.getAttribute("formAction"),t!==null&&(d=t,m=null));var y=new lr("action","action",null,s,c);e.push({event:y,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(_s!==0){var j=m?Rf(c,m):new FormData(c);Co(a,{pending:!0,data:j,method:c.method,action:d},null,j)}}else typeof d=="function"&&(y.preventDefault(),j=m?Rf(c,m):new FormData(c),Co(a,{pending:!0,data:j,method:c.method,action:d},d,j))},currentTarget:c}]})}}for(var hc=0;hc<Jl.length;hc++){var fc=Jl[hc],vp=fc.toLowerCase(),yp=fc[0].toUpperCase()+fc.slice(1);Yt(vp,"on"+yp)}Yt(ud,"onAnimationEnd"),Yt(dd,"onAnimationIteration"),Yt(hd,"onAnimationStart"),Yt("dblclick","onDoubleClick"),Yt("focusin","onFocus"),Yt("focusout","onBlur"),Yt(Lg,"onTransitionRun"),Yt(Ug,"onTransitionStart"),Yt(zg,"onTransitionCancel"),Yt(fd,"onTransitionEnd"),Ps("onMouseEnter",["mouseout","mouseover"]),Ps("onMouseLeave",["mouseout","mouseover"]),Ps("onPointerEnter",["pointerout","pointerover"]),Ps("onPointerLeave",["pointerout","pointerover"]),ls("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ls("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ls("onBeforeInput",["compositionend","keypress","textInput","paste"]),ls("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ls("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ls("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Si="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Si));function Mf(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],c=s.event;s=s.listeners;e:{var d=void 0;if(t)for(var m=s.length-1;0<=m;m--){var y=s[m],j=y.instance,R=y.currentTarget;if(y=y.listener,j!==d&&c.isPropagationStopped())break e;d=y,c.currentTarget=R;try{d(c)}catch($){Mr($)}c.currentTarget=null,d=j}else for(m=0;m<s.length;m++){if(y=s[m],j=y.instance,R=y.currentTarget,y=y.listener,j!==d&&c.isPropagationStopped())break e;d=y,c.currentTarget=R;try{d(c)}catch($){Mr($)}c.currentTarget=null,d=j}}}}function we(e,t){var a=t[Nl];a===void 0&&(a=t[Nl]=new Set);var s=e+"__bubble";a.has(s)||(Df(t,e,2,!1),a.add(s))}function mc(e,t,a){var s=0;t&&(s|=4),Df(a,e,s,t)}var Qr="_reactListening"+Math.random().toString(36).slice(2);function gc(e){if(!e[Qr]){e[Qr]=!0,ku.forEach(function(a){a!=="selectionchange"&&(xp.has(a)||mc(a,!1,e),mc(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Qr]||(t[Qr]=!0,mc("selectionchange",!1,t))}}function Df(e,t,a,s){switch(nm(t)){case 2:var c=Kp;break;case 8:c=Qp;break;default:c=Ac}a=c.bind(null,t,a,e),c=void 0,!Ul||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),s?c!==void 0?e.addEventListener(t,a,{capture:!0,passive:c}):e.addEventListener(t,a,!0):c!==void 0?e.addEventListener(t,a,{passive:c}):e.addEventListener(t,a,!1)}function pc(e,t,a,s,c){var d=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var m=s.tag;if(m===3||m===4){var y=s.stateNode.containerInfo;if(y===c)break;if(m===4)for(m=s.return;m!==null;){var j=m.tag;if((j===3||j===4)&&m.stateNode.containerInfo===c)return;m=m.return}for(;y!==null;){if(m=Bs(y),m===null)return;if(j=m.tag,j===5||j===6||j===26||j===27){s=d=m;continue e}y=y.parentNode}}s=s.return}qu(function(){var R=d,$=Dl(a),Y=[];e:{var D=md.get(e);if(D!==void 0){var U=lr,he=e;switch(e){case"keypress":if(ir(a)===0)break e;case"keydown":case"keyup":U=fg;break;case"focusin":he="focus",U=ql;break;case"focusout":he="blur",U=ql;break;case"beforeblur":case"afterblur":U=ql;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=Gu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=tg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=pg;break;case ud:case dd:case hd:U=ng;break;case fd:U=yg;break;case"scroll":case"scrollend":U=F0;break;case"wheel":U=bg;break;case"copy":case"cut":case"paste":U=rg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=Yu;break;case"toggle":case"beforetoggle":U=wg}var ce=(t&4)!==0,De=!ce&&(e==="scroll"||e==="scrollend"),A=ce?D!==null?D+"Capture":null:D;ce=[];for(var k=R,C;k!==null;){var V=k;if(C=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||C===null||A===null||(V=Gn(k,A),V!=null&&ce.push(Ni(k,V,C))),De)break;k=k.return}0<ce.length&&(D=new U(D,he,null,a,$),Y.push({event:D,listeners:ce}))}}if((t&7)===0){e:{if(D=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",D&&a!==Ml&&(he=a.relatedTarget||a.fromElement)&&(Bs(he)||he[zs]))break e;if((U||D)&&(D=$.window===$?$:(D=$.ownerDocument)?D.defaultView||D.parentWindow:window,U?(he=a.relatedTarget||a.toElement,U=R,he=he?Bs(he):null,he!==null&&(De=h(he),ce=he.tag,he!==De||ce!==5&&ce!==27&&ce!==6)&&(he=null)):(U=null,he=R),U!==he)){if(ce=Gu,V="onMouseLeave",A="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(ce=Yu,V="onPointerLeave",A="onPointerEnter",k="pointer"),De=U==null?D:$n(U),C=he==null?D:$n(he),D=new ce(V,k+"leave",U,a,$),D.target=De,D.relatedTarget=C,V=null,Bs($)===R&&(ce=new ce(A,k+"enter",he,a,$),ce.target=C,ce.relatedTarget=De,V=ce),De=V,U&&he)t:{for(ce=U,A=he,k=0,C=ce;C;C=xn(C))k++;for(C=0,V=A;V;V=xn(V))C++;for(;0<k-C;)ce=xn(ce),k--;for(;0<C-k;)A=xn(A),C--;for(;k--;){if(ce===A||A!==null&&ce===A.alternate)break t;ce=xn(ce),A=xn(A)}ce=null}else ce=null;U!==null&&Lf(Y,D,U,ce,!1),he!==null&&De!==null&&Lf(Y,De,he,ce,!0)}}e:{if(D=R?$n(R):window,U=D.nodeName&&D.nodeName.toLowerCase(),U==="select"||U==="input"&&D.type==="file")var ne=Fu;else if(Wu(D))if(ed)ne=Rg;else{ne=Og;var xe=Ag}else U=D.nodeName,!U||U.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?R&&Rl(R.elementType)&&(ne=Fu):ne=Cg;if(ne&&(ne=ne(e,R))){Iu(Y,ne,a,$);break e}xe&&xe(e,D,R),e==="focusout"&&R&&D.type==="number"&&R.memoizedProps.value!=null&&Cl(D,"number",D.value)}switch(xe=R?$n(R):window,e){case"focusin":(Wu(xe)||xe.contentEditable==="true")&&(Xs=xe,Kl=R,Wn=null);break;case"focusout":Wn=Kl=Xs=null;break;case"mousedown":Ql=!0;break;case"contextmenu":case"mouseup":case"dragend":Ql=!1,od(Y,a,$);break;case"selectionchange":if(Dg)break;case"keydown":case"keyup":od(Y,a,$)}var re;if($l)e:{switch(e){case"compositionstart":var ue="onCompositionStart";break e;case"compositionend":ue="onCompositionEnd";break e;case"compositionupdate":ue="onCompositionUpdate";break e}ue=void 0}else Qs?Ju(e,a)&&(ue="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ue="onCompositionStart");ue&&(Ku&&a.locale!=="ko"&&(Qs||ue!=="onCompositionStart"?ue==="onCompositionEnd"&&Qs&&(re=Pu()):(Na=$,zl="value"in Na?Na.value:Na.textContent,Qs=!0)),xe=Xr(R,ue),0<xe.length&&(ue=new Vu(ue,e,null,a,$),Y.push({event:ue,listeners:xe}),re?ue.data=re:(re=Zu(a),re!==null&&(ue.data=re)))),(re=Sg?Ng(e,a):kg(e,a))&&(ue=Xr(R,"onBeforeInput"),0<ue.length&&(xe=new Vu("onBeforeInput","beforeinput",null,a,$),Y.push({event:xe,listeners:ue}),xe.data=re)),pp(Y,e,R,a,$)}Mf(Y,t)})}function Ni(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Xr(e,t){for(var a=t+"Capture",s=[];e!==null;){var c=e,d=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||d===null||(c=Gn(e,a),c!=null&&s.unshift(Ni(e,c,d)),c=Gn(e,t),c!=null&&s.push(Ni(e,c,d))),e.tag===3)return s;e=e.return}return[]}function xn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Lf(e,t,a,s,c){for(var d=t._reactName,m=[];a!==null&&a!==s;){var y=a,j=y.alternate,R=y.stateNode;if(y=y.tag,j!==null&&j===s)break;y!==5&&y!==26&&y!==27||R===null||(j=R,c?(R=Gn(a,d),R!=null&&m.unshift(Ni(a,R,j))):c||(R=Gn(a,d),R!=null&&m.push(Ni(a,R,j)))),a=a.return}m.length!==0&&e.push({event:t,listeners:m})}var bp=/\r\n?/g,jp=/\u0000|\uFFFD/g;function Uf(e){return(typeof e=="string"?e:""+e).replace(bp,`
`).replace(jp,"")}function zf(e,t){return t=Uf(t),Uf(e)===t}function Jr(){}function Me(e,t,a,s,c,d){switch(a){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Vs(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Vs(e,""+s);break;case"className":er(e,"class",s);break;case"tabIndex":er(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":er(e,a,s);break;case"style":Bu(e,s,d);break;case"data":if(t!=="object"){er(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=sr(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(t!=="input"&&Me(e,t,"name",c.name,c,null),Me(e,t,"formEncType",c.formEncType,c,null),Me(e,t,"formMethod",c.formMethod,c,null),Me(e,t,"formTarget",c.formTarget,c,null)):(Me(e,t,"encType",c.encType,c,null),Me(e,t,"method",c.method,c,null),Me(e,t,"target",c.target,c,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=sr(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=Jr);break;case"onScroll":s!=null&&we("scroll",e);break;case"onScrollEnd":s!=null&&we("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(a=s.__html,a!=null){if(c.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=sr(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":we("beforetoggle",e),we("toggle",e),Fi(e,"popover",s);break;case"xlinkActuate":ia(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":ia(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":ia(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":ia(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":ia(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":ia(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":ia(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":ia(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":ia(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Fi(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=W0.get(a)||a,Fi(e,a,s))}}function vc(e,t,a,s,c,d){switch(a){case"style":Bu(e,s,d);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(a=s.__html,a!=null){if(c.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof s=="string"?Vs(e,s):(typeof s=="number"||typeof s=="bigint")&&Vs(e,""+s);break;case"onScroll":s!=null&&we("scroll",e);break;case"onScrollEnd":s!=null&&we("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Jr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tu.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),t=a.slice(2,c?a.length-7:void 0),d=e[xt]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(t,d,c),typeof s=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,s,c);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):Fi(e,a,s)}}}function dt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":we("error",e),we("load",e);var s=!1,c=!1,d;for(d in a)if(a.hasOwnProperty(d)){var m=a[d];if(m!=null)switch(d){case"src":s=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Me(e,t,d,m,a,null)}}c&&Me(e,t,"srcSet",a.srcSet,a,null),s&&Me(e,t,"src",a.src,a,null);return;case"input":we("invalid",e);var y=d=m=c=null,j=null,R=null;for(s in a)if(a.hasOwnProperty(s)){var $=a[s];if($!=null)switch(s){case"name":c=$;break;case"type":m=$;break;case"checked":j=$;break;case"defaultChecked":R=$;break;case"value":d=$;break;case"defaultValue":y=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(l(137,t));break;default:Me(e,t,s,$,a,null)}}Du(e,d,y,j,R,m,c,!1),tr(e);return;case"select":we("invalid",e),s=m=d=null;for(c in a)if(a.hasOwnProperty(c)&&(y=a[c],y!=null))switch(c){case"value":d=y;break;case"defaultValue":m=y;break;case"multiple":s=y;default:Me(e,t,c,y,a,null)}t=d,a=m,e.multiple=!!s,t!=null?Gs(e,!!s,t,!1):a!=null&&Gs(e,!!s,a,!0);return;case"textarea":we("invalid",e),d=c=s=null;for(m in a)if(a.hasOwnProperty(m)&&(y=a[m],y!=null))switch(m){case"value":s=y;break;case"defaultValue":c=y;break;case"children":d=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(l(91));break;default:Me(e,t,m,y,a,null)}Uu(e,s,c,d),tr(e);return;case"option":for(j in a)if(a.hasOwnProperty(j)&&(s=a[j],s!=null))switch(j){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Me(e,t,j,s,a,null)}return;case"dialog":we("beforetoggle",e),we("toggle",e),we("cancel",e),we("close",e);break;case"iframe":case"object":we("load",e);break;case"video":case"audio":for(s=0;s<Si.length;s++)we(Si[s],e);break;case"image":we("error",e),we("load",e);break;case"details":we("toggle",e);break;case"embed":case"source":case"link":we("error",e),we("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in a)if(a.hasOwnProperty(R)&&(s=a[R],s!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Me(e,t,R,s,a,null)}return;default:if(Rl(t)){for($ in a)a.hasOwnProperty($)&&(s=a[$],s!==void 0&&vc(e,t,$,s,a,void 0));return}}for(y in a)a.hasOwnProperty(y)&&(s=a[y],s!=null&&Me(e,t,y,s,a,null))}function wp(e,t,a,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,d=null,m=null,y=null,j=null,R=null,$=null;for(U in a){var Y=a[U];if(a.hasOwnProperty(U)&&Y!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":j=Y;default:s.hasOwnProperty(U)||Me(e,t,U,null,s,Y)}}for(var D in s){var U=s[D];if(Y=a[D],s.hasOwnProperty(D)&&(U!=null||Y!=null))switch(D){case"type":d=U;break;case"name":c=U;break;case"checked":R=U;break;case"defaultChecked":$=U;break;case"value":m=U;break;case"defaultValue":y=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(l(137,t));break;default:U!==Y&&Me(e,t,D,U,s,Y)}}Ol(e,m,y,j,R,$,d,c);return;case"select":U=m=y=D=null;for(d in a)if(j=a[d],a.hasOwnProperty(d)&&j!=null)switch(d){case"value":break;case"multiple":U=j;default:s.hasOwnProperty(d)||Me(e,t,d,null,s,j)}for(c in s)if(d=s[c],j=a[c],s.hasOwnProperty(c)&&(d!=null||j!=null))switch(c){case"value":D=d;break;case"defaultValue":y=d;break;case"multiple":m=d;default:d!==j&&Me(e,t,c,d,s,j)}t=y,a=m,s=U,D!=null?Gs(e,!!a,D,!1):!!s!=!!a&&(t!=null?Gs(e,!!a,t,!0):Gs(e,!!a,a?[]:"",!1));return;case"textarea":U=D=null;for(y in a)if(c=a[y],a.hasOwnProperty(y)&&c!=null&&!s.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:Me(e,t,y,null,s,c)}for(m in s)if(c=s[m],d=a[m],s.hasOwnProperty(m)&&(c!=null||d!=null))switch(m){case"value":D=c;break;case"defaultValue":U=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(l(91));break;default:c!==d&&Me(e,t,m,c,s,d)}Lu(e,D,U);return;case"option":for(var he in a)if(D=a[he],a.hasOwnProperty(he)&&D!=null&&!s.hasOwnProperty(he))switch(he){case"selected":e.selected=!1;break;default:Me(e,t,he,null,s,D)}for(j in s)if(D=s[j],U=a[j],s.hasOwnProperty(j)&&D!==U&&(D!=null||U!=null))switch(j){case"selected":e.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:Me(e,t,j,D,s,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ce in a)D=a[ce],a.hasOwnProperty(ce)&&D!=null&&!s.hasOwnProperty(ce)&&Me(e,t,ce,null,s,D);for(R in s)if(D=s[R],U=a[R],s.hasOwnProperty(R)&&D!==U&&(D!=null||U!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(l(137,t));break;default:Me(e,t,R,D,s,U)}return;default:if(Rl(t)){for(var De in a)D=a[De],a.hasOwnProperty(De)&&D!==void 0&&!s.hasOwnProperty(De)&&vc(e,t,De,void 0,s,D);for($ in s)D=s[$],U=a[$],!s.hasOwnProperty($)||D===U||D===void 0&&U===void 0||vc(e,t,$,D,s,U);return}}for(var A in a)D=a[A],a.hasOwnProperty(A)&&D!=null&&!s.hasOwnProperty(A)&&Me(e,t,A,null,s,D);for(Y in s)D=s[Y],U=a[Y],!s.hasOwnProperty(Y)||D===U||D==null&&U==null||Me(e,t,Y,D,s,U)}var yc=null,xc=null;function Zr(e){return e.nodeType===9?e:e.ownerDocument}function Bf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function bc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var jc=null;function _p(){var e=window.event;return e&&e.type==="popstate"?e===jc?!1:(jc=e,!0):(jc=null,!1)}var qf=typeof setTimeout=="function"?setTimeout:void 0,Sp=typeof clearTimeout=="function"?clearTimeout:void 0,Pf=typeof Promise=="function"?Promise:void 0,Np=typeof queueMicrotask=="function"?queueMicrotask:typeof Pf<"u"?function(e){return Pf.resolve(null).then(e).catch(kp)}:qf;function kp(e){setTimeout(function(){throw e})}function Pa(e){return e==="head"}function $f(e,t){var a=t,s=0,c=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<s&&8>s){a=s;var m=e.ownerDocument;if(a&1&&ki(m.documentElement),a&2&&ki(m.body),a&4)for(a=m.head,ki(a),m=a.firstChild;m;){var y=m.nextSibling,j=m.nodeName;m[Pn]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=y}}if(c===0){e.removeChild(d),Di(t);return}c--}else a==="$"||a==="$?"||a==="$!"?c++:s=a.charCodeAt(0)-48;else s=0;a=d}while(a);Di(t)}function wc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":wc(a),kl(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Tp(e,t,a,s){for(;e.nodeType===1;){var c=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Pn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Qt(e.nextSibling),e===null)break}return null}function Ep(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Qt(e.nextSibling),e===null))return null;return e}function _c(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Ap(e,t){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")t();else{var s=function(){t(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Qt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Sc=null;function Gf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function Vf(e,t,a){switch(t=Zr(a),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function ki(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);kl(e)}var $t=new Map,Yf=new Set;function Wr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var xa=J.d;J.d={f:Op,r:Cp,D:Rp,C:Mp,L:Dp,m:Lp,X:zp,S:Up,M:Bp};function Op(){var e=xa.f(),t=$r();return e||t}function Cp(e){var t=Hs(e);t!==null&&t.tag===5&&t.type==="form"?uh(t):xa.r(e)}var bn=typeof document>"u"?null:document;function Kf(e,t,a){var s=bn;if(s&&typeof t=="string"&&t){var c=Lt(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Yf.has(c)||(Yf.add(c),e={rel:e,crossOrigin:a,href:t},s.querySelector(c)===null&&(t=s.createElement("link"),dt(t,"link",e),st(t),s.head.appendChild(t)))}}function Rp(e){xa.D(e),Kf("dns-prefetch",e,null)}function Mp(e,t){xa.C(e,t),Kf("preconnect",e,t)}function Dp(e,t,a){xa.L(e,t,a);var s=bn;if(s&&e&&t){var c='link[rel="preload"][as="'+Lt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+Lt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+Lt(a.imageSizes)+'"]')):c+='[href="'+Lt(e)+'"]';var d=c;switch(t){case"style":d=jn(e);break;case"script":d=wn(e)}$t.has(d)||(e=x({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),$t.set(d,e),s.querySelector(c)!==null||t==="style"&&s.querySelector(Ti(d))||t==="script"&&s.querySelector(Ei(d))||(t=s.createElement("link"),dt(t,"link",e),st(t),s.head.appendChild(t)))}}function Lp(e,t){xa.m(e,t);var a=bn;if(a&&e){var s=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+Lt(s)+'"][href="'+Lt(e)+'"]',d=c;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=wn(e)}if(!$t.has(d)&&(e=x({rel:"modulepreload",href:e},t),$t.set(d,e),a.querySelector(c)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ei(d)))return}s=a.createElement("link"),dt(s,"link",e),st(s),a.head.appendChild(s)}}}function Up(e,t,a){xa.S(e,t,a);var s=bn;if(s&&e){var c=qs(s).hoistableStyles,d=jn(e);t=t||"default";var m=c.get(d);if(!m){var y={loading:0,preload:null};if(m=s.querySelector(Ti(d)))y.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":t},a),(a=$t.get(d))&&Nc(e,a);var j=m=s.createElement("link");st(j),dt(j,"link",e),j._p=new Promise(function(R,$){j.onload=R,j.onerror=$}),j.addEventListener("load",function(){y.loading|=1}),j.addEventListener("error",function(){y.loading|=2}),y.loading|=4,Ir(m,t,s)}m={type:"stylesheet",instance:m,count:1,state:y},c.set(d,m)}}}function zp(e,t){xa.X(e,t);var a=bn;if(a&&e){var s=qs(a).hoistableScripts,c=wn(e),d=s.get(c);d||(d=a.querySelector(Ei(c)),d||(e=x({src:e,async:!0},t),(t=$t.get(c))&&kc(e,t),d=a.createElement("script"),st(d),dt(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},s.set(c,d))}}function Bp(e,t){xa.M(e,t);var a=bn;if(a&&e){var s=qs(a).hoistableScripts,c=wn(e),d=s.get(c);d||(d=a.querySelector(Ei(c)),d||(e=x({src:e,async:!0,type:"module"},t),(t=$t.get(c))&&kc(e,t),d=a.createElement("script"),st(d),dt(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},s.set(c,d))}}function Qf(e,t,a,s){var c=(c=te.current)?Wr(c):null;if(!c)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=jn(a.href),a=qs(c).hoistableStyles,s=a.get(t),s||(s={type:"style",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=jn(a.href);var d=qs(c).hoistableStyles,m=d.get(e);if(m||(c=c.ownerDocument||c,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,m),(d=c.querySelector(Ti(e)))&&!d._p&&(m.instance=d,m.state.loading=5),$t.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},$t.set(e,a),d||Hp(c,e,a,m.state))),t&&s===null)throw Error(l(528,""));return m}if(t&&s!==null)throw Error(l(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=wn(a),a=qs(c).hoistableScripts,s=a.get(t),s||(s={type:"script",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function jn(e){return'href="'+Lt(e)+'"'}function Ti(e){return'link[rel="stylesheet"]['+e+"]"}function Xf(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function Hp(e,t,a,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),dt(t,"link",a),st(t),e.head.appendChild(t))}function wn(e){return'[src="'+Lt(e)+'"]'}function Ei(e){return"script[async]"+e}function Jf(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Lt(a.href)+'"]');if(s)return t.instance=s,st(s),s;var c=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),st(s),dt(s,"style",c),Ir(s,a.precedence,e),t.instance=s;case"stylesheet":c=jn(a.href);var d=e.querySelector(Ti(c));if(d)return t.state.loading|=4,t.instance=d,st(d),d;s=Xf(a),(c=$t.get(c))&&Nc(s,c),d=(e.ownerDocument||e).createElement("link"),st(d);var m=d;return m._p=new Promise(function(y,j){m.onload=y,m.onerror=j}),dt(d,"link",s),t.state.loading|=4,Ir(d,a.precedence,e),t.instance=d;case"script":return d=wn(a.src),(c=e.querySelector(Ei(d)))?(t.instance=c,st(c),c):(s=a,(c=$t.get(d))&&(s=x({},a),kc(s,c)),e=e.ownerDocument||e,c=e.createElement("script"),st(c),dt(c,"link",s),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Ir(s,a.precedence,e));return t.instance}function Ir(e,t,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=s.length?s[s.length-1]:null,d=c,m=0;m<s.length;m++){var y=s[m];if(y.dataset.precedence===t)d=y;else if(d!==c)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Nc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function kc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Fr=null;function Zf(e,t,a){if(Fr===null){var s=new Map,c=Fr=new Map;c.set(a,s)}else c=Fr,s=c.get(a),s||(s=new Map,c.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),c=0;c<a.length;c++){var d=a[c];if(!(d[Pn]||d[ht]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var m=d.getAttribute(t)||"";m=e+m;var y=s.get(m);y?y.push(d):s.set(m,[d])}}return s}function Wf(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function qp(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function If(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Ai=null;function Pp(){}function $p(e,t,a){if(Ai===null)throw Error(l(475));var s=Ai;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var c=jn(a.href),d=e.querySelector(Ti(c));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(s.count++,s=el.bind(s),e.then(s,s)),t.state.loading|=4,t.instance=d,st(d);return}d=e.ownerDocument||e,a=Xf(a),(c=$t.get(c))&&Nc(a,c),d=d.createElement("link"),st(d);var m=d;m._p=new Promise(function(y,j){m.onload=y,m.onerror=j}),dt(d,"link",a),t.instance=d}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(s.count++,t=el.bind(s),e.addEventListener("load",t),e.addEventListener("error",t))}}function Gp(){if(Ai===null)throw Error(l(475));var e=Ai;return e.stylesheets&&e.count===0&&Tc(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&Tc(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function el(){if(this.count--,this.count===0){if(this.stylesheets)Tc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var tl=null;function Tc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,tl=new Map,t.forEach(Vp,e),tl=null,el.call(e))}function Vp(e,t){if(!(t.state.loading&4)){var a=tl.get(e);if(a)var s=a.get(null);else{a=new Map,tl.set(e,a);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<c.length;d++){var m=c[d];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(a.set(m.dataset.precedence,m),s=m)}s&&a.set(null,s)}c=t.instance,m=c.getAttribute("data-precedence"),d=a.get(m)||s,d===s&&a.set(null,c),a.set(m,c),this.count++,s=el.bind(this),c.addEventListener("load",s),c.addEventListener("error",s),d?d.parentNode.insertBefore(c,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var Oi={$$typeof:q,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function Yp(e,t,a,s,c,d,m,y){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=at(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=at(0),this.hiddenUpdates=at(null),this.identifierPrefix=s,this.onUncaughtError=c,this.onCaughtError=d,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=y,this.incompleteTransitions=new Map}function Ff(e,t,a,s,c,d,m,y,j,R,$,Y){return e=new Yp(e,t,a,m,y,j,R,Y),t=1,d===!0&&(t|=24),d=kt(3,null,null,t),e.current=d,d.stateNode=e,t=lo(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:s,isDehydrated:a,cache:t},ho(d),e}function em(e){return e?(e=Is,e):Is}function tm(e,t,a,s,c,d){c=em(c),s.context===null?s.context=c:s.pendingContext=c,s=Ea(t),s.payload={element:a},d=d===void 0?null:d,d!==null&&(s.callback=d),a=Aa(e,s,t),a!==null&&(Ct(a,e,t),ri(a,e,t))}function am(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Ec(e,t){am(e,t),(e=e.alternate)&&am(e,t)}function sm(e){if(e.tag===13){var t=Ws(e,67108864);t!==null&&Ct(t,e,67108864),Ec(e,67108864)}}var al=!0;function Kp(e,t,a,s){var c=M.T;M.T=null;var d=J.p;try{J.p=2,Ac(e,t,a,s)}finally{J.p=d,M.T=c}}function Qp(e,t,a,s){var c=M.T;M.T=null;var d=J.p;try{J.p=8,Ac(e,t,a,s)}finally{J.p=d,M.T=c}}function Ac(e,t,a,s){if(al){var c=Oc(s);if(c===null)pc(e,t,s,sl,a),im(e,s);else if(Jp(c,e,t,a,s))s.stopPropagation();else if(im(e,s),t&4&&-1<Xp.indexOf(e)){for(;c!==null;){var d=Hs(c);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var m=na(d.pendingLanes);if(m!==0){var y=d;for(y.pendingLanes|=2,y.entangledLanes|=2;m;){var j=1<<31-pt(m);y.entanglements[1]|=j,m&=~j}aa(d),(Ae&6)===0&&(qr=Ue()+500,_i(0))}}break;case 13:y=Ws(d,2),y!==null&&Ct(y,d,2),$r(),Ec(d,2)}if(d=Oc(s),d===null&&pc(e,t,s,sl,a),d===c)break;c=d}c!==null&&s.stopPropagation()}else pc(e,t,s,null,a)}}function Oc(e){return e=Dl(e),Cc(e)}var sl=null;function Cc(e){if(sl=null,e=Bs(e),e!==null){var t=h(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=f(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return sl=e,null}function nm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bn()){case Hn:return 2;case qn:return 8;case Zt:case Qi:return 32;case Xi:return 268435456;default:return 32}default:return 32}}var Rc=!1,$a=null,Ga=null,Va=null,Ci=new Map,Ri=new Map,Ya=[],Xp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function im(e,t){switch(e){case"focusin":case"focusout":$a=null;break;case"dragenter":case"dragleave":Ga=null;break;case"mouseover":case"mouseout":Va=null;break;case"pointerover":case"pointerout":Ci.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ri.delete(t.pointerId)}}function Mi(e,t,a,s,c,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:d,targetContainers:[c]},t!==null&&(t=Hs(t),t!==null&&sm(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function Jp(e,t,a,s,c){switch(t){case"focusin":return $a=Mi($a,e,t,a,s,c),!0;case"dragenter":return Ga=Mi(Ga,e,t,a,s,c),!0;case"mouseover":return Va=Mi(Va,e,t,a,s,c),!0;case"pointerover":var d=c.pointerId;return Ci.set(d,Mi(Ci.get(d)||null,e,t,a,s,c)),!0;case"gotpointercapture":return d=c.pointerId,Ri.set(d,Mi(Ri.get(d)||null,e,t,a,s,c)),!0}return!1}function rm(e){var t=Bs(e.target);if(t!==null){var a=h(t);if(a!==null){if(t=a.tag,t===13){if(t=f(a),t!==null){e.blockedOn=t,$0(e.priority,function(){if(a.tag===13){var s=Ot();s=Us(s);var c=Ws(a,s);c!==null&&Ct(c,a,s),Ec(a,s)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function nl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Oc(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);Ml=s,a.target.dispatchEvent(s),Ml=null}else return t=Hs(a),t!==null&&sm(t),e.blockedOn=a,!1;t.shift()}return!0}function lm(e,t,a){nl(e)&&a.delete(t)}function Zp(){Rc=!1,$a!==null&&nl($a)&&($a=null),Ga!==null&&nl(Ga)&&(Ga=null),Va!==null&&nl(Va)&&(Va=null),Ci.forEach(lm),Ri.forEach(lm)}function il(e,t){e.blockedOn===t&&(e.blockedOn=null,Rc||(Rc=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Zp)))}var rl=null;function om(e){rl!==e&&(rl=e,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){rl===e&&(rl=null);for(var t=0;t<e.length;t+=3){var a=e[t],s=e[t+1],c=e[t+2];if(typeof s!="function"){if(Cc(s||a)===null)continue;break}var d=Hs(a);d!==null&&(e.splice(t,3),t-=3,Co(d,{pending:!0,data:c,method:a.method,action:s},s,c))}}))}function Di(e){function t(j){return il(j,e)}$a!==null&&il($a,e),Ga!==null&&il(Ga,e),Va!==null&&il(Va,e),Ci.forEach(t),Ri.forEach(t);for(var a=0;a<Ya.length;a++){var s=Ya[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Ya.length&&(a=Ya[0],a.blockedOn===null);)rm(a),a.blockedOn===null&&Ya.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var c=a[s],d=a[s+1],m=c[xt]||null;if(typeof d=="function")m||om(a);else if(m){var y=null;if(d&&d.hasAttribute("formAction")){if(c=d,m=d[xt]||null)y=m.formAction;else if(Cc(c)!==null)continue}else y=m.action;typeof y=="function"?a[s+1]=y:(a.splice(s,3),s-=3),om(a)}}}function Mc(e){this._internalRoot=e}ll.prototype.render=Mc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var a=t.current,s=Ot();tm(a,s,e,t,null,null)},ll.prototype.unmount=Mc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;tm(e.current,2,null,e,null,null),$r(),t[zs]=null}};function ll(e){this._internalRoot=e}ll.prototype.unstable_scheduleHydration=function(e){if(e){var t=Su();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Ya.length&&t!==0&&t<Ya[a].priority;a++);Ya.splice(a,0,e),a===0&&rm(e)}};var cm=n.version;if(cm!=="19.1.1")throw Error(l(527,cm,"19.1.1"));J.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=p(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var Wp={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ol=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ol.isDisabled&&ol.supportsFiber)try{ns=ol.inject(Wp),gt=ol}catch{}}return Ui.createRoot=function(e,t){if(!u(e))throw Error(l(299));var a=!1,s="",c=Sh,d=Nh,m=kh,y=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(y=t.unstable_transitionCallbacks)),t=Ff(e,1,!1,null,null,a,s,c,d,m,y,null),e[zs]=t.current,gc(e),new Mc(t)},Ui.hydrateRoot=function(e,t,a){if(!u(e))throw Error(l(299));var s=!1,c="",d=Sh,m=Nh,y=kh,j=null,R=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(y=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(j=a.unstable_transitionCallbacks),a.formState!==void 0&&(R=a.formState)),t=Ff(e,1,!0,t,a??null,s,c,d,m,y,j,R),t.context=em(null),a=t.current,s=Ot(),s=Us(s),c=Ea(s),c.callback=null,Aa(a,c,s),a=s,t.current.lanes=a,Mt(t,a),aa(t),e[zs]=t.current,gc(e),new ll(t)},Ui.version="19.1.1",Ui}var xm;function cv(){if(xm)return Uc.exports;xm=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(n){console.error(n)}}return o(),Uc.exports=ov(),Uc.exports}var uv=cv();n0();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pi(){return Pi=Object.assign?Object.assign.bind():function(o){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(o[l]=r[l])}return o},Pi.apply(this,arguments)}var Za;(function(o){o.Pop="POP",o.Push="PUSH",o.Replace="REPLACE"})(Za||(Za={}));const bm="popstate";function dv(o){o===void 0&&(o={});function n(u,h){let{pathname:f="/",search:g="",hash:p=""}=As(u.location.hash.substr(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Zc("",{pathname:f,search:g,hash:p},h.state&&h.state.usr||null,h.state&&h.state.key||"default")}function r(u,h){let f=u.document.querySelector("base"),g="";if(f&&f.getAttribute("href")){let p=u.location.href,v=p.indexOf("#");g=v===-1?p:p.slice(0,v)}return g+"#"+(typeof h=="string"?h:ml(h))}function l(u,h){hu(u.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(h)+")")}return fv(n,r,l,o)}function Xe(o,n){if(o===!1||o===null||typeof o>"u")throw new Error(n)}function hu(o,n){if(!o){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function hv(){return Math.random().toString(36).substr(2,8)}function jm(o,n){return{usr:o.state,key:o.key,idx:n}}function Zc(o,n,r,l){return r===void 0&&(r=null),Pi({pathname:typeof o=="string"?o:o.pathname,search:"",hash:""},typeof n=="string"?As(n):n,{state:r,key:n&&n.key||l||hv()})}function ml(o){let{pathname:n="/",search:r="",hash:l=""}=o;return r&&r!=="?"&&(n+=r.charAt(0)==="?"?r:"?"+r),l&&l!=="#"&&(n+=l.charAt(0)==="#"?l:"#"+l),n}function As(o){let n={};if(o){let r=o.indexOf("#");r>=0&&(n.hash=o.substr(r),o=o.substr(0,r));let l=o.indexOf("?");l>=0&&(n.search=o.substr(l),o=o.substr(0,l)),o&&(n.pathname=o)}return n}function fv(o,n,r,l){l===void 0&&(l={});let{window:u=document.defaultView,v5Compat:h=!1}=l,f=u.history,g=Za.Pop,p=null,v=x();v==null&&(v=0,f.replaceState(Pi({},f.state,{idx:v}),""));function x(){return(f.state||{idx:null}).idx}function b(){g=Za.Pop;let w=x(),P=w==null?null:w-v;v=w,p&&p({action:g,location:E.location,delta:P})}function S(w,P){g=Za.Push;let H=Zc(E.location,w,P);r&&r(H,w),v=x()+1;let q=jm(H,v),Q=E.createHref(H);try{f.pushState(q,"",Q)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;u.location.assign(Q)}h&&p&&p({action:g,location:E.location,delta:1})}function T(w,P){g=Za.Replace;let H=Zc(E.location,w,P);r&&r(H,w),v=x();let q=jm(H,v),Q=E.createHref(H);f.replaceState(q,"",Q),h&&p&&p({action:g,location:E.location,delta:0})}function O(w){let P=u.location.origin!=="null"?u.location.origin:u.location.href,H=typeof w=="string"?w:ml(w);return H=H.replace(/ $/,"%20"),Xe(P,"No window.location.(origin|href) available to create URL for href: "+H),new URL(H,P)}let E={get action(){return g},get location(){return o(u,f)},listen(w){if(p)throw new Error("A history only accepts one active listener");return u.addEventListener(bm,b),p=w,()=>{u.removeEventListener(bm,b),p=null}},createHref(w){return n(u,w)},createURL:O,encodeLocation(w){let P=O(w);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:S,replace:T,go(w){return f.go(w)}};return E}var wm;(function(o){o.data="data",o.deferred="deferred",o.redirect="redirect",o.error="error"})(wm||(wm={}));function mv(o,n,r){return r===void 0&&(r="/"),gv(o,n,r)}function gv(o,n,r,l){let u=typeof n=="string"?As(n):n,h=fu(u.pathname||"/",r);if(h==null)return null;let f=i0(o);pv(f);let g=null;for(let p=0;g==null&&p<f.length;++p){let v=Ev(h);g=Nv(f[p],v)}return g}function i0(o,n,r,l){n===void 0&&(n=[]),r===void 0&&(r=[]),l===void 0&&(l="");let u=(h,f,g)=>{let p={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:f,route:h};p.relativePath.startsWith("/")&&(Xe(p.relativePath.startsWith(l),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+l+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(l.length));let v=Ia([l,p.relativePath]),x=r.concat(p);h.children&&h.children.length>0&&(Xe(h.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),i0(h.children,n,x,v)),!(h.path==null&&!h.index)&&n.push({path:v,score:_v(v,h.index),routesMeta:x})};return o.forEach((h,f)=>{var g;if(h.path===""||!((g=h.path)!=null&&g.includes("?")))u(h,f);else for(let p of r0(h.path))u(h,f,p)}),n}function r0(o){let n=o.split("/");if(n.length===0)return[];let[r,...l]=n,u=r.endsWith("?"),h=r.replace(/\?$/,"");if(l.length===0)return u?[h,""]:[h];let f=r0(l.join("/")),g=[];return g.push(...f.map(p=>p===""?h:[h,p].join("/"))),u&&g.push(...f),g.map(p=>o.startsWith("/")&&p===""?"/":p)}function pv(o){o.sort((n,r)=>n.score!==r.score?r.score-n.score:Sv(n.routesMeta.map(l=>l.childrenIndex),r.routesMeta.map(l=>l.childrenIndex)))}const vv=/^:[\w-]+$/,yv=3,xv=2,bv=1,jv=10,wv=-2,_m=o=>o==="*";function _v(o,n){let r=o.split("/"),l=r.length;return r.some(_m)&&(l+=wv),n&&(l+=xv),r.filter(u=>!_m(u)).reduce((u,h)=>u+(vv.test(h)?yv:h===""?bv:jv),l)}function Sv(o,n){return o.length===n.length&&o.slice(0,-1).every((l,u)=>l===n[u])?o[o.length-1]-n[n.length-1]:0}function Nv(o,n,r){let{routesMeta:l}=o,u={},h="/",f=[];for(let g=0;g<l.length;++g){let p=l[g],v=g===l.length-1,x=h==="/"?n:n.slice(h.length)||"/",b=kv({path:p.relativePath,caseSensitive:p.caseSensitive,end:v},x),S=p.route;if(!b)return null;Object.assign(u,b.params),f.push({params:u,pathname:Ia([h,b.pathname]),pathnameBase:Rv(Ia([h,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(h=Ia([h,b.pathnameBase]))}return f}function kv(o,n){typeof o=="string"&&(o={path:o,caseSensitive:!1,end:!0});let[r,l]=Tv(o.path,o.caseSensitive,o.end),u=n.match(r);if(!u)return null;let h=u[0],f=h.replace(/(.)\/+$/,"$1"),g=u.slice(1);return{params:l.reduce((v,x,b)=>{let{paramName:S,isOptional:T}=x;if(S==="*"){let E=g[b]||"";f=h.slice(0,h.length-E.length).replace(/(.)\/+$/,"$1")}const O=g[b];return T&&!O?v[S]=void 0:v[S]=(O||"").replace(/%2F/g,"/"),v},{}),pathname:h,pathnameBase:f,pattern:o}}function Tv(o,n,r){n===void 0&&(n=!1),r===void 0&&(r=!0),hu(o==="*"||!o.endsWith("*")||o.endsWith("/*"),'Route path "'+o+'" will be treated as if it were '+('"'+o.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+o.replace(/\*$/,"/*")+'".'));let l=[],u="^"+o.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,g,p)=>(l.push({paramName:g,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return o.endsWith("*")?(l.push({paramName:"*"}),u+=o==="*"||o==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?u+="\\/*$":o!==""&&o!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,n?void 0:"i"),l]}function Ev(o){try{return o.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return hu(!1,'The URL path "'+o+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),o}}function fu(o,n){if(n==="/")return o;if(!o.toLowerCase().startsWith(n.toLowerCase()))return null;let r=n.endsWith("/")?n.length-1:n.length,l=o.charAt(r);return l&&l!=="/"?null:o.slice(r)||"/"}function Av(o,n){n===void 0&&(n="/");let{pathname:r,search:l="",hash:u=""}=typeof o=="string"?As(o):o;return{pathname:r?r.startsWith("/")?r:Ov(r,n):n,search:Mv(l),hash:Dv(u)}}function Ov(o,n){let r=n.replace(/\/+$/,"").split("/");return o.split("/").forEach(u=>{u===".."?r.length>1&&r.pop():u!=="."&&r.push(u)}),r.length>1?r.join("/"):"/"}function qc(o,n,r,l){return"Cannot include a '"+o+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(l)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Cv(o){return o.filter((n,r)=>r===0||n.route.path&&n.route.path.length>0)}function mu(o,n){let r=Cv(o);return n?r.map((l,u)=>u===r.length-1?l.pathname:l.pathnameBase):r.map(l=>l.pathnameBase)}function gu(o,n,r,l){l===void 0&&(l=!1);let u;typeof o=="string"?u=As(o):(u=Pi({},o),Xe(!u.pathname||!u.pathname.includes("?"),qc("?","pathname","search",u)),Xe(!u.pathname||!u.pathname.includes("#"),qc("#","pathname","hash",u)),Xe(!u.search||!u.search.includes("#"),qc("#","search","hash",u)));let h=o===""||u.pathname==="",f=h?"/":u.pathname,g;if(f==null)g=r;else{let b=n.length-1;if(!l&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),b-=1;u.pathname=S.join("/")}g=b>=0?n[b]:"/"}let p=Av(u,g),v=f&&f!=="/"&&f.endsWith("/"),x=(h||f===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(v||x)&&(p.pathname+="/"),p}const Ia=o=>o.join("/").replace(/\/\/+/g,"/"),Rv=o=>o.replace(/\/+$/,"").replace(/^\/*/,"/"),Mv=o=>!o||o==="?"?"":o.startsWith("?")?o:"?"+o,Dv=o=>!o||o==="#"?"":o.startsWith("#")?o:"#"+o;function Lv(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.internal=="boolean"&&"data"in o}const l0=["post","put","patch","delete"];new Set(l0);const Uv=["get",...l0];new Set(Uv);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $i(){return $i=Object.assign?Object.assign.bind():function(o){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(o[l]=r[l])}return o},$i.apply(this,arguments)}const pu=_.createContext(null),zv=_.createContext(null),Fa=_.createContext(null),xl=_.createContext(null),es=_.createContext({outlet:null,matches:[],isDataRoute:!1}),o0=_.createContext(null);function Bv(o,n){let{relative:r}=n===void 0?{}:n;Un()||Xe(!1);let{basename:l,navigator:u}=_.useContext(Fa),{hash:h,pathname:f,search:g}=u0(o,{relative:r}),p=f;return l!=="/"&&(p=f==="/"?l:Ia([l,f])),u.createHref({pathname:p,search:g,hash:h})}function Un(){return _.useContext(xl)!=null}function Os(){return Un()||Xe(!1),_.useContext(xl).location}function c0(o){_.useContext(Fa).static||_.useLayoutEffect(o)}function St(){let{isDataRoute:o}=_.useContext(es);return o?Wv():Hv()}function Hv(){Un()||Xe(!1);let o=_.useContext(pu),{basename:n,future:r,navigator:l}=_.useContext(Fa),{matches:u}=_.useContext(es),{pathname:h}=Os(),f=JSON.stringify(mu(u,r.v7_relativeSplatPath)),g=_.useRef(!1);return c0(()=>{g.current=!0}),_.useCallback(function(v,x){if(x===void 0&&(x={}),!g.current)return;if(typeof v=="number"){l.go(v);return}let b=gu(v,JSON.parse(f),h,x.relative==="path");o==null&&n!=="/"&&(b.pathname=b.pathname==="/"?n:Ia([n,b.pathname])),(x.replace?l.replace:l.push)(b,x.state,x)},[n,l,f,h,o])}function u0(o,n){let{relative:r}=n===void 0?{}:n,{future:l}=_.useContext(Fa),{matches:u}=_.useContext(es),{pathname:h}=Os(),f=JSON.stringify(mu(u,l.v7_relativeSplatPath));return _.useMemo(()=>gu(o,JSON.parse(f),h,r==="path"),[o,f,h,r])}function qv(o,n){return Pv(o,n)}function Pv(o,n,r,l){Un()||Xe(!1);let{navigator:u}=_.useContext(Fa),{matches:h}=_.useContext(es),f=h[h.length-1],g=f?f.params:{};f&&f.pathname;let p=f?f.pathnameBase:"/";f&&f.route;let v=Os(),x;if(n){var b;let w=typeof n=="string"?As(n):n;p==="/"||(b=w.pathname)!=null&&b.startsWith(p)||Xe(!1),x=w}else x=v;let S=x.pathname||"/",T=S;if(p!=="/"){let w=p.replace(/^\//,"").split("/");T="/"+S.replace(/^\//,"").split("/").slice(w.length).join("/")}let O=mv(o,{pathname:T}),E=Kv(O&&O.map(w=>Object.assign({},w,{params:Object.assign({},g,w.params),pathname:Ia([p,u.encodeLocation?u.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?p:Ia([p,u.encodeLocation?u.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),h,r,l);return n&&E?_.createElement(xl.Provider,{value:{location:$i({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:Za.Pop}},E):E}function $v(){let o=Zv(),n=Lv(o)?o.status+" "+o.statusText:o instanceof Error?o.message:JSON.stringify(o),r=o instanceof Error?o.stack:null,u={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},n),r?_.createElement("pre",{style:u},r):null,null)}const Gv=_.createElement($v,null);class Vv extends _.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,r){return r.location!==n.location||r.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:r.error,location:r.location,revalidation:n.revalidation||r.revalidation}}componentDidCatch(n,r){console.error("React Router caught the following error during render",n,r)}render(){return this.state.error!==void 0?_.createElement(es.Provider,{value:this.props.routeContext},_.createElement(o0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Yv(o){let{routeContext:n,match:r,children:l}=o,u=_.useContext(pu);return u&&u.static&&u.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(u.staticContext._deepestRenderedBoundaryId=r.route.id),_.createElement(es.Provider,{value:n},l)}function Kv(o,n,r,l){var u;if(n===void 0&&(n=[]),r===void 0&&(r=null),l===void 0&&(l=null),o==null){var h;if(!r)return null;if(r.errors)o=r.matches;else if((h=l)!=null&&h.v7_partialHydration&&n.length===0&&!r.initialized&&r.matches.length>0)o=r.matches;else return null}let f=o,g=(u=r)==null?void 0:u.errors;if(g!=null){let x=f.findIndex(b=>b.route.id&&g?.[b.route.id]!==void 0);x>=0||Xe(!1),f=f.slice(0,Math.min(f.length,x+1))}let p=!1,v=-1;if(r&&l&&l.v7_partialHydration)for(let x=0;x<f.length;x++){let b=f[x];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(v=x),b.route.id){let{loaderData:S,errors:T}=r,O=b.route.loader&&S[b.route.id]===void 0&&(!T||T[b.route.id]===void 0);if(b.route.lazy||O){p=!0,v>=0?f=f.slice(0,v+1):f=[f[0]];break}}}return f.reduceRight((x,b,S)=>{let T,O=!1,E=null,w=null;r&&(T=g&&b.route.id?g[b.route.id]:void 0,E=b.route.errorElement||Gv,p&&(v<0&&S===0?(Iv("route-fallback"),O=!0,w=null):v===S&&(O=!0,w=b.route.hydrateFallbackElement||null)));let P=n.concat(f.slice(0,S+1)),H=()=>{let q;return T?q=E:O?q=w:b.route.Component?q=_.createElement(b.route.Component,null):b.route.element?q=b.route.element:q=x,_.createElement(Yv,{match:b,routeContext:{outlet:x,matches:P,isDataRoute:r!=null},children:q})};return r&&(b.route.ErrorBoundary||b.route.errorElement||S===0)?_.createElement(Vv,{location:r.location,revalidation:r.revalidation,component:E,error:T,children:H(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):H()},null)}var d0=(function(o){return o.UseBlocker="useBlocker",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate",o})(d0||{}),h0=(function(o){return o.UseBlocker="useBlocker",o.UseLoaderData="useLoaderData",o.UseActionData="useActionData",o.UseRouteError="useRouteError",o.UseNavigation="useNavigation",o.UseRouteLoaderData="useRouteLoaderData",o.UseMatches="useMatches",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate",o.UseRouteId="useRouteId",o})(h0||{});function Qv(o){let n=_.useContext(pu);return n||Xe(!1),n}function Xv(o){let n=_.useContext(zv);return n||Xe(!1),n}function Jv(o){let n=_.useContext(es);return n||Xe(!1),n}function f0(o){let n=Jv(),r=n.matches[n.matches.length-1];return r.route.id||Xe(!1),r.route.id}function Zv(){var o;let n=_.useContext(o0),r=Xv(),l=f0();return n!==void 0?n:(o=r.errors)==null?void 0:o[l]}function Wv(){let{router:o}=Qv(d0.UseNavigateStable),n=f0(h0.UseNavigateStable),r=_.useRef(!1);return c0(()=>{r.current=!0}),_.useCallback(function(u,h){h===void 0&&(h={}),r.current&&(typeof u=="number"?o.navigate(u):o.navigate(u,$i({fromRouteId:n},h)))},[o,n])}const Sm={};function Iv(o,n,r){Sm[o]||(Sm[o]=!0)}function Fv(o,n){o?.v7_startTransition,o?.v7_relativeSplatPath}function ey(o){let{to:n,replace:r,state:l,relative:u}=o;Un()||Xe(!1);let{future:h,static:f}=_.useContext(Fa),{matches:g}=_.useContext(es),{pathname:p}=Os(),v=St(),x=gu(n,mu(g,h.v7_relativeSplatPath),p,u==="path"),b=JSON.stringify(x);return _.useEffect(()=>v(JSON.parse(b),{replace:r,state:l,relative:u}),[v,b,u,r,l]),null}function Rt(o){Xe(!1)}function ty(o){let{basename:n="/",children:r=null,location:l,navigationType:u=Za.Pop,navigator:h,static:f=!1,future:g}=o;Un()&&Xe(!1);let p=n.replace(/^\/*/,"/"),v=_.useMemo(()=>({basename:p,navigator:h,static:f,future:$i({v7_relativeSplatPath:!1},g)}),[p,g,h,f]);typeof l=="string"&&(l=As(l));let{pathname:x="/",search:b="",hash:S="",state:T=null,key:O="default"}=l,E=_.useMemo(()=>{let w=fu(x,p);return w==null?null:{location:{pathname:w,search:b,hash:S,state:T,key:O},navigationType:u}},[p,x,b,S,T,O,u]);return E==null?null:_.createElement(Fa.Provider,{value:v},_.createElement(xl.Provider,{children:r,value:E}))}function ay(o){let{children:n,location:r}=o;return qv(Wc(n),r)}new Promise(()=>{});function Wc(o,n){n===void 0&&(n=[]);let r=[];return _.Children.forEach(o,(l,u)=>{if(!_.isValidElement(l))return;let h=[...n,u];if(l.type===_.Fragment){r.push.apply(r,Wc(l.props.children,h));return}l.type!==Rt&&Xe(!1),!l.props.index||!l.props.children||Xe(!1);let f={id:l.props.id||h.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(f.children=Wc(l.props.children,h)),r.push(f)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ic(){return Ic=Object.assign?Object.assign.bind():function(o){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(o[l]=r[l])}return o},Ic.apply(this,arguments)}function sy(o,n){if(o==null)return{};var r={},l=Object.keys(o),u,h;for(h=0;h<l.length;h++)u=l[h],!(n.indexOf(u)>=0)&&(r[u]=o[u]);return r}function ny(o){return!!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)}function iy(o,n){return o.button===0&&(!n||n==="_self")&&!ny(o)}function Fc(o){return o===void 0&&(o=""),new URLSearchParams(typeof o=="string"||Array.isArray(o)||o instanceof URLSearchParams?o:Object.keys(o).reduce((n,r)=>{let l=o[r];return n.concat(Array.isArray(l)?l.map(u=>[r,u]):[[r,l]])},[]))}function ry(o,n){let r=Fc(o);return n&&n.forEach((l,u)=>{r.has(u)||n.getAll(u).forEach(h=>{r.append(u,h)})}),r}const ly=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],oy="6";try{window.__reactRouterVersion=oy}catch{}const cy="startTransition",Nm=nv[cy];function uy(o){let{basename:n,children:r,future:l,window:u}=o,h=_.useRef();h.current==null&&(h.current=dv({window:u,v5Compat:!0}));let f=h.current,[g,p]=_.useState({action:f.action,location:f.location}),{v7_startTransition:v}=l||{},x=_.useCallback(b=>{v&&Nm?Nm(()=>p(b)):p(b)},[p,v]);return _.useLayoutEffect(()=>f.listen(x),[f,x]),_.useEffect(()=>Fv(l),[l]),_.createElement(ty,{basename:n,children:r,location:g.location,navigationType:g.action,navigator:f,future:l})}const dy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,We=_.forwardRef(function(n,r){let{onClick:l,relative:u,reloadDocument:h,replace:f,state:g,target:p,to:v,preventScrollReset:x,viewTransition:b}=n,S=sy(n,ly),{basename:T}=_.useContext(Fa),O,E=!1;if(typeof v=="string"&&hy.test(v)&&(O=v,dy))try{let q=new URL(window.location.href),Q=v.startsWith("//")?new URL(q.protocol+v):new URL(v),X=fu(Q.pathname,T);Q.origin===q.origin&&X!=null?v=X+Q.search+Q.hash:E=!0}catch{}let w=Bv(v,{relative:u}),P=fy(v,{replace:f,state:g,target:p,preventScrollReset:x,relative:u,viewTransition:b});function H(q){l&&l(q),q.defaultPrevented||P(q)}return _.createElement("a",Ic({},S,{href:O||w,onClick:E||h?l:H,ref:r,target:p}))});var km;(function(o){o.UseScrollRestoration="useScrollRestoration",o.UseSubmit="useSubmit",o.UseSubmitFetcher="useSubmitFetcher",o.UseFetcher="useFetcher",o.useViewTransitionState="useViewTransitionState"})(km||(km={}));var Tm;(function(o){o.UseFetcher="useFetcher",o.UseFetchers="useFetchers",o.UseScrollRestoration="useScrollRestoration"})(Tm||(Tm={}));function fy(o,n){let{target:r,replace:l,state:u,preventScrollReset:h,relative:f,viewTransition:g}=n===void 0?{}:n,p=St(),v=Os(),x=u0(o,{relative:f});return _.useCallback(b=>{if(iy(b,r)){b.preventDefault();let S=l!==void 0?l:ml(v)===ml(x);p(o,{replace:S,state:u,preventScrollReset:h,relative:f,viewTransition:g})}},[v,p,x,l,u,r,o,h,f,g])}function m0(o){let n=_.useRef(Fc(o)),r=_.useRef(!1),l=Os(),u=_.useMemo(()=>ry(l.search,r.current?null:n.current),[l.search]),h=St(),f=_.useCallback((g,p)=>{const v=Fc(typeof g=="function"?g(u):g);r.current=!0,h("?"+v,p)},[h,u]);return[u,f]}const g0=_.createContext({}),Gt=()=>_.useContext(g0),my=({children:o})=>{const[n,r]=_.useState(null),[l,u]=_.useState(null),[h,f]=_.useState(!0);_.useEffect(()=>{const x=localStorage.getItem("authToken"),b=localStorage.getItem("authUser");if(x&&b)try{const S=JSON.parse(b);fetch("https://settled-modern-stinkbug.ngrok-free.app/api/auth/me",{method:"GET",headers:{Authorization:`Bearer ${x}`,"ngrok-skip-browser-warning":"true"}}).then(async T=>{if(!T.ok)throw new Error("Token tidak valid");const O=await T.json();u(x),r(O),localStorage.setItem("authUser",JSON.stringify(O))}).catch(()=>{localStorage.removeItem("authToken"),localStorage.removeItem("authUser"),u(null),r(null)}).finally(()=>f(!1))}catch{localStorage.removeItem("authToken"),localStorage.removeItem("authUser"),u(null),r(null),f(!1)}else f(!1)},[]);const v={user:n,token:l,signIn:async(x,b)=>{try{const S=await fetch("https://settled-modern-stinkbug.ngrok-free.app/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json","ngrok-skip-browser-warning":"true"},body:JSON.stringify({phone:x,password:b})}),T=await S.json();return S.ok?(r(T.user),u(T.token),localStorage.setItem("authToken",T.token),localStorage.setItem("authUser",JSON.stringify(T.user)),{user:T.user,token:T.token}):{error:{message:T.message}}}catch{return{error:{message:"Gagal menghubungi server"}}}},signOut:async()=>{localStorage.removeItem("authToken"),localStorage.removeItem("authUser"),u(null),r(null)},loading:h,setUser:r};return i.jsx(g0.Provider,{value:v,children:o})};function Ss({children:o}){const{user:n,token:r,loading:l}=Gt();return l?i.jsx("div",{className:"min-h-screen bg-secondary-50 flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):!n||!r?i.jsx(ey,{to:"/login",replace:!0}):o}var p0={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Em=Wa.createContext&&Wa.createContext(p0),gy=["attr","size","title"];function py(o,n){if(o==null)return{};var r=vy(o,n),l,u;if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(o);for(u=0;u<h.length;u++)l=h[u],!(n.indexOf(l)>=0)&&Object.prototype.propertyIsEnumerable.call(o,l)&&(r[l]=o[l])}return r}function vy(o,n){if(o==null)return{};var r={};for(var l in o)if(Object.prototype.hasOwnProperty.call(o,l)){if(n.indexOf(l)>=0)continue;r[l]=o[l]}return r}function gl(){return gl=Object.assign?Object.assign.bind():function(o){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(o[l]=r[l])}return o},gl.apply(this,arguments)}function Am(o,n){var r=Object.keys(o);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(o);n&&(l=l.filter(function(u){return Object.getOwnPropertyDescriptor(o,u).enumerable})),r.push.apply(r,l)}return r}function pl(o){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Am(Object(r),!0).forEach(function(l){yy(o,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(r)):Am(Object(r)).forEach(function(l){Object.defineProperty(o,l,Object.getOwnPropertyDescriptor(r,l))})}return o}function yy(o,n,r){return n=xy(n),n in o?Object.defineProperty(o,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):o[n]=r,o}function xy(o){var n=by(o,"string");return typeof n=="symbol"?n:n+""}function by(o,n){if(typeof o!="object"||!o)return o;var r=o[Symbol.toPrimitive];if(r!==void 0){var l=r.call(o,n);if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(o)}function v0(o){return o&&o.map((n,r)=>Wa.createElement(n.tag,pl({key:r},n.attr),v0(n.child)))}function ot(o){return n=>Wa.createElement(jy,gl({attr:pl({},o.attr)},n),v0(o.child))}function jy(o){var n=r=>{var{attr:l,size:u,title:h}=o,f=py(o,gy),g=u||r.size||"1em",p;return r.className&&(p=r.className),o.className&&(p=(p?p+" ":"")+o.className),Wa.createElement("svg",gl({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,l,f,{className:p,style:pl(pl({color:o.color||r.color},r.style),o.style),height:g,width:g,xmlns:"http://www.w3.org/2000/svg"}),h&&Wa.createElement("title",null,h),o.children)};return Em!==void 0?Wa.createElement(Em.Consumer,null,r=>n(r)):n(p0)}function wy(o){return ot({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"},child:[]}]})(o)}function Om(o){return ot({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V8h16v13z"},child:[]}]})(o)}function _y(o){return ot({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"},child:[]}]})(o)}function y0(o){return ot({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(o)}function Sy(o){return ot({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},child:[]},{tag:"path",attr:{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},child:[]}]})(o)}function Ny(o){return ot({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"},child:[]}]})(o)}function x0(o){return ot({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"},child:[]}]})(o)}function Cm(o){return ot({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"},child:[]}]})(o)}function b0(o){return ot({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},child:[]},{tag:"path",attr:{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},child:[]}]})(o)}function ky(o){return ot({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"},child:[]}]})(o)}function j0(o){return ot({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a.996.996 0 0 0 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"},child:[]}]})(o)}function Ty(o){return ot({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"},child:[]}]})(o)}function Ey(o){return ot({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"},child:[]}]})(o)}function w0(o){return ot({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(o)}function Ay(o){return ot({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"},child:[]}]})(o)}function Oy(o){return ot({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"},child:[]}]})(o)}function _0(o){return ot({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17.65 6.35A7.958 7.958 0 0 0 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0 1 12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"},child:[]}]})(o)}function Cy(o){return ot({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"},child:[]}]})(o)}function Ry({reservation:o,staffList:n,currentAssignment:r,onAssign:l,onClose:u,isOpen:h}){const[f,g]=_.useState([""]);_.useEffect(()=>{r?.staff_ids&&r.staff_ids.length>0?g(r.staff_ids):g([""])},[r]);const p=S=>{S.preventDefault();const T=f.filter(O=>O!=="");T.length>0&&l(o.id,T)},v=()=>{g([...f,""])},x=S=>{f.length>1&&g(f.filter((T,O)=>O!==S))},b=(S,T)=>{const O=[...f];O[S]=T,g(O)};return!h||!o?null:i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 overflow-y-auto h-full w-full z-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"relative bg-white rounded-xl shadow-large w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsx("div",{className:"border-b border-secondary-200 px-6 py-4",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h3",{className:"text-xl font-semibold text-secondary-900",children:"Assignment Reservasi"}),i.jsx("button",{onClick:u,className:"text-secondary-400 hover:text-secondary-600",children:i.jsx(w0,{className:"w-6 h-6"})})]})}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h4",{className:"text-lg font-medium text-secondary-900 mb-2",children:"Detail Reservasi"}),i.jsxs("div",{className:"bg-secondary-50 rounded-lg p-4 space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-secondary-600",children:"Tanggal:"}),i.jsx("span",{className:"font-medium",children:new Date(o.service_date).toLocaleDateString("id-ID")})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-secondary-600",children:"Slot Waktu:"}),i.jsx("span",{className:"font-medium",children:o.schedule_slot})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-secondary-600",children:"Volume:"}),i.jsxs("span",{className:"font-medium",children:[o.volume," m"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-secondary-600",children:"Status:"}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${r&&r.staff_ids&&r.staff_ids.length>0?"bg-success-100 text-success-800":"bg-warning-100 text-warning-800"}`,children:r&&r.staff_ids&&r.staff_ids.length>0?"Sudah Diassign":"Belum Diassign"})]})]})]}),i.jsxs("form",{onSubmit:p,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("label",{className:"block text-sm font-medium text-secondary-700",children:"Pilih Staff *"}),i.jsxs("button",{type:"button",onClick:v,className:"text-primary-600 hover:text-primary-700 text-sm flex items-center",children:[i.jsx(x0,{className:"w-4 h-4 mr-1"}),"Tambah Staff"]})]}),i.jsx("div",{className:"space-y-3",children:f.map((S,T)=>i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("select",{value:S,onChange:O=>b(T,O.target.value),className:"input-primary flex-1",required:!0,children:[i.jsxs("option",{value:"",children:["-- Pilih Staff ",T+1," --"]}),n.filter(O=>!f.includes(O.id)||O.id===S).map(O=>i.jsxs("option",{value:O.id,children:[O.name," (",O.phone,")"]},O.id))]}),f.length>1&&i.jsx("button",{type:"button",onClick:()=>x(T),className:"text-danger-600 hover:text-danger-700 p-2",children:i.jsx(y0,{className:"w-4 h-4"})})]},T))}),i.jsx("p",{className:"text-xs text-secondary-500 mt-2",children:"Anda dapat menambahkan lebih dari 1 staff untuk reservasi ini."})]}),i.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[i.jsx("button",{type:"button",onClick:u,className:"btn-secondary",children:"Batal"}),i.jsx("button",{type:"submit",disabled:f.filter(S=>S!=="").length===0,className:"btn-primary",children:r&&r.staff_ids&&r.staff_ids.length>0?"Update Assignment":"Assign"})]})]})]})]})})}function My({date:o,isCurrentMonth:n,isToday:r,reservations:l,onDayClick:u}){const h=x=>{l.length>0&&u&&(x.stopPropagation(),u(o,l))},f=x=>{if(x.assignment&&x.assignment.staff_ids&&x.assignment.staff_ids.length>0)return"assigned";if(x.payments&&x.payments.length>0){const b=x.payments[0];if(b.transaction_status==="settlement"||b.transaction_status==="capture")return"paid";if(b.transaction_status==="pending")return"pending"}return x.status},g=l.filter(x=>f(x)==="assigned").length,p=l.filter(x=>f(x)==="paid").length,v=l.filter(x=>{const b=f(x);return b!=="assigned"&&b!=="paid"}).length;return i.jsxs("div",{className:`min-h-[120px] p-2 border border-secondary-200 rounded-lg ${n?"bg-white":"bg-secondary-50"} ${r?"ring-2 ring-primary-500":""} ${l.length>0?"cursor-pointer hover:border-primary-300 hover:shadow-sm":""}`,onClick:h,title:l.length>0?`${l.length} reservasi - Klik untuk detail`:void 0,children:[i.jsx("div",{className:`text-sm font-medium mb-2 ${n?"text-secondary-900":"text-secondary-400"}`,children:i.jsx("span",{className:`inline-block px-2 py-0.5 rounded-full ${r?"bg-primary-100 text-primary-700 border border-primary-400":""}`,children:o.getDate()})}),i.jsx("div",{className:"space-y-1",children:l.length>0?i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"text-xs font-medium text-secondary-800 bg-secondary-100 px-2 py-1 rounded",children:[l.length," Reservasi"]}),g>0&&i.jsxs("div",{className:"text-xs text-success-800 bg-success-100 px-2 py-1 rounded flex items-center",children:[i.jsx("span",{className:"w-2 h-2 bg-success-500 rounded-full mr-1"}),g," Assigned"]}),p>0&&i.jsxs("div",{className:"text-xs text-blue-800 bg-blue-100 px-2 py-1 rounded flex items-center",children:[i.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-1"}),p," Paid"]}),v>0&&i.jsxs("div",{className:"text-xs text-warning-800 bg-warning-100 px-2 py-1 rounded flex items-center",children:[i.jsx("span",{className:"w-2 h-2 bg-warning-500 rounded-full mr-1"}),v," Pending"]})]}):i.jsx("div",{className:"text-xs text-secondary-400 text-center py-4",children:"Tidak ada reservasi"})})]})}function Dy({isOpen:o,date:n,reservations:r,onClose:l,onReservationClick:u}){if(!o)return null;const h=f=>{if(f.assignment&&f.assignment.staff_ids&&f.assignment.staff_ids.length>0)return"assigned";if(f.payments&&f.payments.length>0){const g=f.payments[0];if(g.transaction_status==="settlement"||g.transaction_status==="capture")return"paid";if(g.transaction_status==="pending")return"pending"}return f.status};return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 overflow-y-auto h-full w-full z-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"relative bg-white rounded-xl shadow-large w-full max-w-2xl max-h-[80vh] overflow-hidden",children:[i.jsx("div",{className:"border-b border-secondary-200 px-6 py-4",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("h3",{className:"text-xl font-semibold text-secondary-900",children:["Reservasi -"," ",n.toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]}),i.jsx("button",{onClick:l,className:"text-secondary-400 hover:text-secondary-600",children:i.jsx(w0,{className:"w-6 h-6"})})]})}),i.jsx("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:r.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"w-16 h-16 bg-secondary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("svg",{className:"w-8 h-8 text-secondary-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3a2 2 0 012-2h4a2 2 0 012 2v4m-6 4v10a1 1 0 001 1h10a1 1 0 001-1V11a1 1 0 00-1-1H9a1 1 0 00-1 1z"})})}),i.jsx("p",{className:"text-secondary-500",children:"Tidak ada reservasi pada tanggal ini"})]}):i.jsx("div",{className:"space-y-3",children:r.map(f=>i.jsx("div",{onClick:()=>{u(f),l()},className:"p-4 rounded-lg border border-secondary-200 hover:border-primary-300 hover:bg-primary-50 cursor-pointer transition-all",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx("span",{className:"font-medium text-secondary-900 text-sm",children:f.schedule_slot}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(()=>{const g=h(f);return g==="assigned"?"bg-success-100 text-success-800":g==="paid"?"bg-blue-100 text-blue-800":"bg-warning-100 text-warning-800"})()}`,children:(()=>{const g=h(f);return g==="assigned"?"Assigned":g==="paid"?"Paid - Siap Assign":"Belum Bayar"})()})]}),i.jsxs("div",{className:"text-xs text-secondary-600 space-y-1",children:[i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Volume:"})," ",f.volume," m"]}),f.services?.name&&i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Layanan:"})," ",f.services.name]}),f.user_locations&&i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Lokasi:"})," ",f.user_locations.label]})]})]}),i.jsx("div",{className:"text-xs text-secondary-500",children:(()=>{const g=h(f);return g==="assigned"?i.jsx("div",{className:"text-success-600 font-medium",children:" Staff Assigned"}):g==="paid"?i.jsx("div",{className:"text-blue-600 font-medium",children:" Siap untuk di-assign"}):null})()})]})},f.id))})}),i.jsx("div",{className:"border-t border-secondary-200 px-6 py-4 bg-secondary-50",children:i.jsxs("div",{className:"text-sm text-secondary-600",children:["Total:"," ",i.jsxs("span",{className:"font-medium",children:[r.length," reservasi"]}),r.length>0&&i.jsxs(i.Fragment,{children:["  ",i.jsxs("span",{className:"text-success-600 font-medium",children:[r.filter(f=>h(f)==="assigned").length," ","assigned"]}),"  ",i.jsxs("span",{className:"text-blue-600 font-medium",children:[r.filter(f=>h(f)==="paid").length," ","paid"]}),"  ",i.jsxs("span",{className:"text-warning-600 font-medium",children:[r.filter(f=>{const g=h(f);return g!=="assigned"&&g!=="paid"}).length," ","pending"]})]})]})})]})})}function Ly({reservation:o,assignment:n,onClick:r}){const l=n&&n.staff_ids&&n.staff_ids.length>0,h=(()=>{if(l)return"assigned";if(o.payments&&o.payments.length>0){const g=o.payments[0];if(g.transaction_status==="settlement"||g.transaction_status==="capture")return"paid";if(g.transaction_status==="pending")return"pending";if(g.transaction_status==="deny"||g.transaction_status==="cancel"||g.transaction_status==="expire")return"failed"}return o.status})(),f=h==="paid";return i.jsx("div",{onClick:()=>f&&r(o),className:`p-4 rounded-lg border border-secondary-200 transition-all ${f?"hover:border-primary-300 hover:bg-primary-50 cursor-pointer":"opacity-60 cursor-not-allowed"}`,children:i.jsx("div",{className:"flex justify-between items-start",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx("span",{className:"font-medium text-secondary-900",children:o.schedule_slot}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${l?"bg-success-100 text-success-800":h==="paid"?"bg-blue-100 text-blue-800":"bg-warning-100 text-warning-800"}`,children:l?"Assigned":h==="paid"?"Paid - Siap Assign":"Belum Bayar"})]}),i.jsxs("p",{className:"text-sm text-secondary-600",children:["Volume: ",o.volume," m"]}),!f&&i.jsxs("p",{className:"text-xs text-secondary-400 mt-1",children:["Status:"," ",h==="pending"?"Menunggu pembayaran":"Tidak dapat di-assign"]})]})})})}function Pc({title:o,value:n,icon:r,bgColor:l}){return i.jsx("div",{className:"card p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-secondary-600",children:o}),i.jsx("p",{className:"text-3xl font-bold text-secondary-900",children:n})]}),i.jsx("div",{className:`w-12 h-12 bg-gradient-to-br ${l} rounded-xl flex items-center justify-center`,children:r&&i.jsx(r,{className:"w-6 h-6 text-white"})})]})})}function Vi({message:o,type:n="success",onClose:r}){if(_.useEffect(()=>{if(!o)return;const u=setTimeout(()=>{r?.()},3e3);return()=>clearTimeout(u)},[o,r]),!o)return null;const l=n==="success"?"bg-success-100 border-success-300 text-success-800":n==="error"?"bg-danger-100 border-danger-300 text-danger-800":"bg-secondary-100 border-secondary-300 text-secondary-800";return i.jsx("div",{className:"fixed top-6 left-1/2 z-50 transform -translate-x-1/2",children:i.jsxs("div",{className:`border px-6 py-3 rounded-lg shadow-lg animate-fade-in ${l} flex items-center gap-2`,children:[n==="success"?i.jsx("svg",{className:"w-5 h-5 text-success-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):n==="error"?i.jsx("svg",{className:"w-5 h-5 text-danger-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):null,i.jsx("span",{className:"font-medium",children:o})]})})}function wa(){const{user:o,signOut:n}=Gt(),r=St(),l=Os(),[u,h]=_.useState(!1),f=async()=>{await n(),r("/")},g=b=>l.pathname===b,p=[{label:"Dashboard",path:"/dashboard",icon:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"},{label:"Buat Reservasi",path:"/reservasi/buat",icon:"M12 4v16m8-8H4"},{label:"Riwayat",path:"/riwayat",icon:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},{label:"Profile",path:"/profile",icon:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"}],v=[{label:"Admin Dashboard",path:"/admin",icon:"M9 17V7m0 10a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h2a2 2 0 012 2m0 10a2 2 0 002 2h2a2 2 0 002-2M9 7a2 2 0 012-2h2a2 2 0 012 2m0 10V7m0 10a2 2 0 002 2h2a2 2 0 002-2V7a2 2 0 00-2-2h-2a2 2 0 00-2 2"},{label:"Database Tables",path:"/admin/tables",icon:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"},{label:"WhatsApp Notifier",path:"/admin/whatsapp",icon:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"}],x=o?.role==="admin"?v:p;return i.jsx("nav",{className:"bg-white shadow-soft border-b border-secondary-200 sticky top-0 z-50",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"flex justify-between items-center h-16",children:[i.jsxs("button",{type:"button",onClick:()=>r("/"),className:"flex items-center space-x-3 group focus:outline-none",style:{background:"none",border:"none",padding:0,margin:0},children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-600 to-primary-700 rounded-lg flex items-center justify-center group-hover:scale-105 transition-transform",children:i.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.781 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 8.172V5L8 4z"})})}),i.jsxs("div",{className:"hidden sm:block text-left",children:[i.jsx("h1",{className:"text-lg font-bold text-secondary-900",children:"UPTD PAL"}),i.jsx("p",{className:"text-xs text-secondary-600 -mt-1",children:"Kota Bogor"})]})]}),i.jsxs("div",{className:"hidden md:flex items-center space-x-1",children:[l.pathname!=="/"&&i.jsxs("button",{onClick:()=>r(-1),className:"flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium text-secondary-600 hover:text-primary-600 hover:bg-secondary-50 transition-all duration-200",children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),i.jsx("span",{children:"Kembali"})]}),x.map(b=>i.jsxs(We,{to:b.path,className:`flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${g(b.path)?"bg-primary-100 text-primary-700":"text-secondary-600 hover:text-primary-600 hover:bg-secondary-50"}`,children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:b.icon})}),i.jsx("span",{children:b.label})]},b.path))]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("button",{className:"hidden lg:flex items-center space-x-2 text-right focus:outline-none",onClick:()=>r("/profile"),title:"Pengaturan Profil",children:[o?.profile_picture?i.jsx("img",{src:o.profile_picture,alt:"Profile",className:"w-9 h-9 rounded-full object-cover border border-secondary-200"}):i.jsx("div",{className:"w-9 h-9 rounded-full bg-secondary-200 flex items-center justify-center text-secondary-500 font-bold text-lg",children:o?.name?.[0]||"U"}),i.jsxs("span",{children:[i.jsx("p",{className:"text-sm font-medium text-secondary-900",children:o?.name}),i.jsx("p",{className:"text-xs text-secondary-500",children:o?.role==="admin"?"Admin":"Pengguna Aktif"})]})]}),i.jsxs("button",{onClick:f,className:"flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium text-secondary-600 hover:text-danger-600 hover:bg-danger-50 transition-all duration-200",children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),i.jsx("span",{className:"hidden sm:inline",children:"Keluar"})]}),i.jsx("button",{onClick:()=>h(!u),className:"md:hidden p-2 rounded-lg text-secondary-600 hover:bg-secondary-100",children:i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:u?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})})]})]}),u&&i.jsx("div",{className:"md:hidden py-4 border-t border-secondary-200 animate-slide-down",children:i.jsxs("div",{className:"space-y-2",children:[x.map(b=>i.jsxs(We,{to:b.path,onClick:()=>h(!1),className:`flex items-center space-x-3 px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 ${g(b.path)?"bg-primary-100 text-primary-700":"text-secondary-600 hover:text-primary-600 hover:bg-secondary-50"}`,children:[i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:b.icon})}),i.jsx("span",{children:b.label})]},b.path)),i.jsxs("div",{className:"flex items-center space-x-3 px-4 py-3 rounded-lg text-sm font-medium text-secondary-700 cursor-pointer hover:text-primary-700 group",onClick:()=>{h(!1),r("/profile")},children:[o?.profile_picture?i.jsx("img",{src:o.profile_picture,alt:"Profile",className:"w-8 h-8 rounded-full object-cover border border-secondary-200"}):i.jsx("div",{className:"w-8 h-8 rounded-full bg-secondary-200 flex items-center justify-center text-secondary-500 font-bold text-base",children:o?.name?.[0]||"U"}),i.jsxs("span",{children:[i.jsx("span",{className:"group-hover:hidden",children:"Profil Saya"}),i.jsx("span",{className:"hidden group-hover:inline",children:o?.name})]})]})]})})]})})}function Uy(){const{user:o,token:n}=Gt(),r=St(),[l,u]=_.useState(!0),[h,f]=_.useState(new Date),[g,p]=_.useState([]),[v,x]=_.useState([]),[b,S]=_.useState([]),[T,O]=_.useState(null),[E,w]=_.useState(!1),[P,H]=_.useState([]),[q,Q]=_.useState(!1),[X,I]=_.useState(!1),[ie,oe]=_.useState([]),[Te,fe]=_.useState(null),[z,L]=_.useState({message:"",type:"success"});_.useEffect(()=>{F()},[n]),_.useEffect(()=>{me()},[h]),_.useEffect(()=>{if(o){de();const K=setInterval(()=>{de()},1e4);return()=>clearInterval(K)}},[o]);const F=async()=>{if(!n){r("/login");return}try{const K=await fetch("https://settled-modern-stinkbug.ngrok-free.app/api/auth/me",{headers:{Authorization:`Bearer ${n}`,"ngrok-skip-browser-warning":"true"}}),ae=await K.json();if(!K.ok||ae.role!=="admin"){r("/dashboard");return}u(!1)}catch{r("/login")}},de=async()=>{try{const[K,ae,te]=await Promise.all([fetch("https://settled-modern-stinkbug.ngrok-free.app/api/admin/reservations",{headers:{Authorization:`Bearer ${n}`,"ngrok-skip-browser-warning":"true"}}),fetch("https://settled-modern-stinkbug.ngrok-free.app/api/admin/users",{headers:{Authorization:`Bearer ${n}`,"ngrok-skip-browser-warning":"true"}}),fetch("https://settled-modern-stinkbug.ngrok-free.app/api/admin/assignments",{headers:{Authorization:`Bearer ${n}`,"ngrok-skip-browser-warning":"true"}})]),[Le,B,le]=await Promise.all([K.json(),ae.json(),te.json()]);p(Le||[]),x(B?.filter(Ce=>Ce.role==="staff")||[]);const ge=(le||[]).map(Ce=>({...Ce,staff_ids:Ce.assignment_staffs?.map(Ye=>Ye.staff_id)||[],staffs:Ce.assignment_staffs?.map(Ye=>Ye.users)||[]}));S(ge)}catch(K){console.error("Failed to fetch data:",K)}},me=()=>{const K=h.getFullYear(),ae=h.getMonth(),te=new Date(K,ae,1),Le=new Date(te);Le.setDate(Le.getDate()-te.getDay());const B=[],le=new Date(Le);for(let ge=0;ge<42;ge++)B.push(new Date(le)),le.setDate(le.getDate()+1);H(B)},M=K=>{const ae=K.toDateString();return g.filter(te=>new Date(te.service_date).toDateString()===ae)},J=K=>{const ae=b.find(te=>te.reservation_id===K);return ae&&ae.staff_ids&&ae.staff_ids.length>0?ae:null},ee=async(K,ae)=>{try{(await fetch("https://settled-modern-stinkbug.ngrok-free.app/api/admin/assign",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`,"ngrok-skip-browser-warning":"true"},body:JSON.stringify({reservation_id:K,staff_ids:ae})})).ok?(await de(),w(!1),O(null),L({message:"Staff berhasil di-assign!",type:"success"})):L({message:"Gagal meng-assign staff!",type:"error"})}catch(te){console.error("Failed to assign:",te),L({message:"Terjadi kesalahan saat meng-assign staff!",type:"error"})}},be=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],N=["Min","Sen","Sel","Rab","Kam","Jum","Sab"],G=()=>{const K=new Date().toDateString();return g.filter(ae=>new Date(ae.service_date).toDateString()===K)},Z=(K,ae)=>{fe(K),oe(ae),I(!0)},W=K=>{if(J(K.id))return"assigned";if(K.payments&&K.payments.length>0){const te=K.payments[0];if(te.transaction_status==="settlement"||te.transaction_status==="capture")return"paid";if(te.transaction_status==="pending")return"pending";if(te.transaction_status==="deny"||te.transaction_status==="cancel"||te.transaction_status==="expire")return"failed"}return K.status};return l?i.jsx("div",{className:"min-h-screen bg-secondary-50 flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):i.jsxs("div",{className:"min-h-screen bg-secondary-50",children:[i.jsx(wa,{}),i.jsx(Vi,{message:z.message,type:z.type,onClose:()=>L({message:"",type:"success"})}),i.jsxs("div",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[i.jsx(Pc,{title:"Total Reservasi",value:g.length,icon:wy,bgColor:"from-primary-500 to-primary-600"}),i.jsx(Pc,{title:"Belum Diassign",value:g.filter(K=>!b.find(ae=>ae.reservation_id===K.id)).length,icon:Sy,bgColor:"from-warning-500 to-warning-600"}),i.jsx(Pc,{title:"Staff Aktif",value:v.length,icon:Cy,bgColor:"from-secondary-500 to-secondary-600"})]}),i.jsx("div",{className:"grid lg:grid-cols-3 gap-8",children:i.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[i.jsxs("div",{className:"card",children:[i.jsxs("div",{className:"p-4 cursor-pointer hover:bg-secondary-50 transition-colors",onClick:()=>Q(!q),children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(Om,{className:"w-5 h-5 text-primary-600"}),i.jsx("h2",{className:"text-lg font-semibold text-secondary-900",children:"Kalender Reservasi"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("span",{className:"text-sm text-secondary-600",children:[be[h.getMonth()]," ",h.getFullYear()]}),q?i.jsx(Ay,{className:"w-5 h-5 text-secondary-600"}):i.jsx(Oy,{className:"w-5 h-5 text-secondary-600"})]})]}),!q&&i.jsxs("div",{className:"mt-3 text-sm text-secondary-600",children:["Klik untuk melihat kalender lengkap  ",g.length," ","reservasi total"]})]}),q&&i.jsxs("div",{className:"px-6 pb-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("button",{onClick:K=>{K.stopPropagation(),f(new Date(h.getFullYear(),h.getMonth()-1))},className:"p-2 rounded-lg text-secondary-600 hover:bg-secondary-100",children:i.jsx(Ty,{className:"w-5 h-5"})}),i.jsxs("h3",{className:"text-lg font-medium text-secondary-900",children:[be[h.getMonth()]," ",h.getFullYear()]}),i.jsx("button",{onClick:K=>{K.stopPropagation(),f(new Date(h.getFullYear(),h.getMonth()+1))},className:"p-2 rounded-lg text-secondary-600 hover:bg-secondary-100",children:i.jsx(Ey,{className:"w-5 h-5"})})]}),i.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4",children:N.map(K=>i.jsx("div",{className:"p-3 text-center text-sm font-medium text-secondary-600 bg-secondary-50 rounded-lg",children:K},K))}),i.jsx("div",{className:"grid grid-cols-7 gap-1",children:P.map((K,ae)=>{const te=M(K).map(le=>({...le,assignment:J(le.id)})),Le=K.getMonth()===h.getMonth(),B=K.toDateString()===new Date().toDateString();return i.jsx(My,{date:K,isCurrentMonth:Le,isToday:B,reservations:te,onReservationClick:le=>{W(le)==="paid"&&(O(le),w(!0))},onDayClick:Z},ae)})})]})]}),i.jsxs("div",{className:"card p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(b0,{className:"w-5 h-5 text-primary-600"}),i.jsx("h2",{className:"text-lg font-semibold text-secondary-900",children:"Reservasi Hari Ini"})]}),i.jsx("span",{className:"text-sm text-secondary-600",children:new Date().toLocaleDateString("id-ID")})]}),G().length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"w-16 h-16 bg-secondary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(Om,{className:"w-8 h-8 text-secondary-400"})}),i.jsx("p",{className:"text-secondary-500",children:"Tidak ada reservasi hari ini"})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"space-y-3",children:G().slice(0,3).map(K=>i.jsx(Ly,{reservation:K,assignment:J(K.id),onClick:ae=>{W(ae)==="paid"&&(O(ae),w(!0))}},K.id))}),G().length>3&&i.jsx("div",{className:"mt-4 text-center",children:i.jsx("button",{type:"button",className:"text-primary-600 hover:text-primary-700 text-sm font-medium underline",onClick:()=>{fe(new Date),oe(G()),I(!0)},children:"Lihat Semua Reservasi Hari Ini"})})]})]})]})}),i.jsx(Ry,{isOpen:E&&T,reservation:T,staffList:v,currentAssignment:T?(()=>{const K=b.find(ae=>ae.reservation_id===T.id);return K&&K.staff_ids&&K.staff_ids.length>0?{...K,staff_ids:K.staff_ids||[]}:null})():null,onAssign:ee,onClose:()=>{w(!1),O(null)}}),i.jsx(Dy,{isOpen:X,date:Te,reservations:ie,onClose:()=>{I(!1),oe([]),fe(null)},onReservationClick:K=>{W(K)==="paid"&&(O(K),w(!0))}})]})]})}const zy="modulepreload",By=function(o){return"/pal-reservasi/"+o},Rm={},Yi=function(n,r,l){let u=Promise.resolve();if(r&&r.length>0){let v=function(x){return Promise.all(x.map(b=>Promise.resolve(b).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};var f=v;document.getElementsByTagName("link");const g=document.querySelector("meta[property=csp-nonce]"),p=g?.nonce||g?.getAttribute("nonce");u=v(r.map(x=>{if(x=By(x),x in Rm)return;Rm[x]=!0;const b=x.endsWith(".css"),S=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${x}"]${S}`))return;const T=document.createElement("link");if(T.rel=b?"stylesheet":zy,b||(T.as="script"),T.crossOrigin="",T.href=x,p&&T.setAttribute("nonce",p),document.head.appendChild(T),b)return new Promise((O,E)=>{T.addEventListener("load",O),T.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${x}`)))})}))}function h(g){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=g,window.dispatchEvent(p),!p.defaultPrevented)throw g}return u.then(g=>{for(const p of g||[])p.status==="rejected"&&h(p.reason);return n().catch(h)})},Hy=o=>{let n;return o?n=o:typeof fetch>"u"?n=(...r)=>Yi(async()=>{const{default:l}=await Promise.resolve().then(()=>zn);return{default:l}},void 0).then(({default:l})=>l(...r)):n=fetch,(...r)=>n(...r)};class vu extends Error{constructor(n,r="FunctionsError",l){super(n),this.name=r,this.context=l}}class qy extends vu{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class Mm extends vu{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class Dm extends vu{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var eu;(function(o){o.Any="any",o.ApNortheast1="ap-northeast-1",o.ApNortheast2="ap-northeast-2",o.ApSouth1="ap-south-1",o.ApSoutheast1="ap-southeast-1",o.ApSoutheast2="ap-southeast-2",o.CaCentral1="ca-central-1",o.EuCentral1="eu-central-1",o.EuWest1="eu-west-1",o.EuWest2="eu-west-2",o.EuWest3="eu-west-3",o.SaEast1="sa-east-1",o.UsEast1="us-east-1",o.UsWest1="us-west-1",o.UsWest2="us-west-2"})(eu||(eu={}));var Py=function(o,n,r,l){function u(h){return h instanceof r?h:new r(function(f){f(h)})}return new(r||(r=Promise))(function(h,f){function g(x){try{v(l.next(x))}catch(b){f(b)}}function p(x){try{v(l.throw(x))}catch(b){f(b)}}function v(x){x.done?h(x.value):u(x.value).then(g,p)}v((l=l.apply(o,n||[])).next())})};class $y{constructor(n,{headers:r={},customFetch:l,region:u=eu.Any}={}){this.url=n,this.headers=r,this.region=u,this.fetch=Hy(l)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,r={}){var l;return Py(this,void 0,void 0,function*(){try{const{headers:u,method:h,body:f}=r;let g={},{region:p}=r;p||(p=this.region);const v=new URL(`${this.url}/${n}`);p&&p!=="any"&&(g["x-region"]=p,v.searchParams.set("forceFunctionRegion",p));let x;f&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)&&(typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",x=f):typeof f=="string"?(g["Content-Type"]="text/plain",x=f):typeof FormData<"u"&&f instanceof FormData?x=f:(g["Content-Type"]="application/json",x=JSON.stringify(f)));const b=yield this.fetch(v.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),u),body:x}).catch(E=>{throw new qy(E)}),S=b.headers.get("x-relay-error");if(S&&S==="true")throw new Mm(b);if(!b.ok)throw new Dm(b);let T=((l=b.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),O;return T==="application/json"?O=yield b.json():T==="application/octet-stream"?O=yield b.blob():T==="text/event-stream"?O=b:T==="multipart/form-data"?O=yield b.formData():O=yield b.text(),{data:O,error:null,response:b}}catch(u){return{data:null,error:u,response:u instanceof Dm||u instanceof Mm?u.context:void 0}}})}}var lt={},_n={},Sn={},Nn={},kn={},Tn={},Gy=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ln=Gy();const Vy=Ln.fetch,S0=Ln.fetch.bind(Ln),N0=Ln.Headers,Yy=Ln.Request,Ky=Ln.Response,zn=Object.freeze(Object.defineProperty({__proto__:null,Headers:N0,Request:Yy,Response:Ky,default:S0,fetch:Vy},Symbol.toStringTag,{value:"Module"})),Qy=ev(zn);var cl={},Lm;function k0(){if(Lm)return cl;Lm=1,Object.defineProperty(cl,"__esModule",{value:!0});class o extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return cl.default=o,cl}var Um;function T0(){if(Um)return Tn;Um=1;var o=Tn&&Tn.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Tn,"__esModule",{value:!0});const n=o(Qy),r=o(k0());class l{constructor(h){var f,g;this.shouldThrowOnError=!1,this.method=h.method,this.url=h.url,this.headers=new Headers(h.headers),this.schema=h.schema,this.body=h.body,this.shouldThrowOnError=(f=h.shouldThrowOnError)!==null&&f!==void 0?f:!1,this.signal=h.signal,this.isMaybeSingle=(g=h.isMaybeSingle)!==null&&g!==void 0?g:!1,h.fetch?this.fetch=h.fetch:typeof fetch>"u"?this.fetch=n.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(h,f){return this.headers=new Headers(this.headers),this.headers.set(h,f),this}then(h,f){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const g=this.fetch;let p=g(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async v=>{var x,b,S,T;let O=null,E=null,w=null,P=v.status,H=v.statusText;if(v.ok){if(this.method!=="HEAD"){const I=await v.text();I===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((x=this.headers.get("Accept"))===null||x===void 0)&&x.includes("application/vnd.pgrst.plan+text"))?E=I:E=JSON.parse(I))}const Q=(b=this.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),X=(S=v.headers.get("content-range"))===null||S===void 0?void 0:S.split("/");Q&&X&&X.length>1&&(w=parseInt(X[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(O={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,w=null,P=406,H="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const Q=await v.text();try{O=JSON.parse(Q),Array.isArray(O)&&v.status===404&&(E=[],O=null,P=200,H="OK")}catch{v.status===404&&Q===""?(P=204,H="No Content"):O={message:Q}}if(O&&this.isMaybeSingle&&(!((T=O?.details)===null||T===void 0)&&T.includes("0 rows"))&&(O=null,P=200,H="OK"),O&&this.shouldThrowOnError)throw new r.default(O)}return{error:O,data:E,count:w,status:P,statusText:H}});return this.shouldThrowOnError||(p=p.catch(v=>{var x,b,S;return{error:{message:`${(x=v?.name)!==null&&x!==void 0?x:"FetchError"}: ${v?.message}`,details:`${(b=v?.stack)!==null&&b!==void 0?b:""}`,hint:"",code:`${(S=v?.code)!==null&&S!==void 0?S:""}`},data:null,count:null,status:0,statusText:""}})),p.then(h,f)}returns(){return this}overrideTypes(){return this}}return Tn.default=l,Tn}var zm;function E0(){if(zm)return kn;zm=1;var o=kn&&kn.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(kn,"__esModule",{value:!0});const n=o(T0());class r extends n.default{select(u){let h=!1;const f=(u??"*").split("").map(g=>/\s/.test(g)&&!h?"":(g==='"'&&(h=!h),g)).join("");return this.url.searchParams.set("select",f),this.headers.append("Prefer","return=representation"),this}order(u,{ascending:h=!0,nullsFirst:f,foreignTable:g,referencedTable:p=g}={}){const v=p?`${p}.order`:"order",x=this.url.searchParams.get(v);return this.url.searchParams.set(v,`${x?`${x},`:""}${u}.${h?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(u,{foreignTable:h,referencedTable:f=h}={}){const g=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(g,`${u}`),this}range(u,h,{foreignTable:f,referencedTable:g=f}={}){const p=typeof g>"u"?"offset":`${g}.offset`,v=typeof g>"u"?"limit":`${g}.limit`;return this.url.searchParams.set(p,`${u}`),this.url.searchParams.set(v,`${h-u+1}`),this}abortSignal(u){return this.signal=u,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:u=!1,verbose:h=!1,settings:f=!1,buffers:g=!1,wal:p=!1,format:v="text"}={}){var x;const b=[u?"analyze":null,h?"verbose":null,f?"settings":null,g?"buffers":null,p?"wal":null].filter(Boolean).join("|"),S=(x=this.headers.get("Accept"))!==null&&x!==void 0?x:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${v}; for="${S}"; options=${b};`),v==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(u){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${u}`),this}}return kn.default=r,kn}var Bm;function yu(){if(Bm)return Nn;Bm=1;var o=Nn&&Nn.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Nn,"__esModule",{value:!0});const n=o(E0());class r extends n.default{eq(u,h){return this.url.searchParams.append(u,`eq.${h}`),this}neq(u,h){return this.url.searchParams.append(u,`neq.${h}`),this}gt(u,h){return this.url.searchParams.append(u,`gt.${h}`),this}gte(u,h){return this.url.searchParams.append(u,`gte.${h}`),this}lt(u,h){return this.url.searchParams.append(u,`lt.${h}`),this}lte(u,h){return this.url.searchParams.append(u,`lte.${h}`),this}like(u,h){return this.url.searchParams.append(u,`like.${h}`),this}likeAllOf(u,h){return this.url.searchParams.append(u,`like(all).{${h.join(",")}}`),this}likeAnyOf(u,h){return this.url.searchParams.append(u,`like(any).{${h.join(",")}}`),this}ilike(u,h){return this.url.searchParams.append(u,`ilike.${h}`),this}ilikeAllOf(u,h){return this.url.searchParams.append(u,`ilike(all).{${h.join(",")}}`),this}ilikeAnyOf(u,h){return this.url.searchParams.append(u,`ilike(any).{${h.join(",")}}`),this}is(u,h){return this.url.searchParams.append(u,`is.${h}`),this}in(u,h){const f=Array.from(new Set(h)).map(g=>typeof g=="string"&&new RegExp("[,()]").test(g)?`"${g}"`:`${g}`).join(",");return this.url.searchParams.append(u,`in.(${f})`),this}contains(u,h){return typeof h=="string"?this.url.searchParams.append(u,`cs.${h}`):Array.isArray(h)?this.url.searchParams.append(u,`cs.{${h.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(h)}`),this}containedBy(u,h){return typeof h=="string"?this.url.searchParams.append(u,`cd.${h}`):Array.isArray(h)?this.url.searchParams.append(u,`cd.{${h.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(h)}`),this}rangeGt(u,h){return this.url.searchParams.append(u,`sr.${h}`),this}rangeGte(u,h){return this.url.searchParams.append(u,`nxl.${h}`),this}rangeLt(u,h){return this.url.searchParams.append(u,`sl.${h}`),this}rangeLte(u,h){return this.url.searchParams.append(u,`nxr.${h}`),this}rangeAdjacent(u,h){return this.url.searchParams.append(u,`adj.${h}`),this}overlaps(u,h){return typeof h=="string"?this.url.searchParams.append(u,`ov.${h}`):this.url.searchParams.append(u,`ov.{${h.join(",")}}`),this}textSearch(u,h,{config:f,type:g}={}){let p="";g==="plain"?p="pl":g==="phrase"?p="ph":g==="websearch"&&(p="w");const v=f===void 0?"":`(${f})`;return this.url.searchParams.append(u,`${p}fts${v}.${h}`),this}match(u){return Object.entries(u).forEach(([h,f])=>{this.url.searchParams.append(h,`eq.${f}`)}),this}not(u,h,f){return this.url.searchParams.append(u,`not.${h}.${f}`),this}or(u,{foreignTable:h,referencedTable:f=h}={}){const g=f?`${f}.or`:"or";return this.url.searchParams.append(g,`(${u})`),this}filter(u,h,f){return this.url.searchParams.append(u,`${h}.${f}`),this}}return Nn.default=r,Nn}var Hm;function A0(){if(Hm)return Sn;Hm=1;var o=Sn&&Sn.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Sn,"__esModule",{value:!0});const n=o(yu());class r{constructor(u,{headers:h={},schema:f,fetch:g}){this.url=u,this.headers=new Headers(h),this.schema=f,this.fetch=g}select(u,{head:h=!1,count:f}={}){const g=h?"HEAD":"GET";let p=!1;const v=(u??"*").split("").map(x=>/\s/.test(x)&&!p?"":(x==='"'&&(p=!p),x)).join("");return this.url.searchParams.set("select",v),f&&this.headers.append("Prefer",`count=${f}`),new n.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(u,{count:h,defaultToNull:f=!0}={}){var g;const p="POST";if(h&&this.headers.append("Prefer",`count=${h}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const v=u.reduce((x,b)=>x.concat(Object.keys(b)),[]);if(v.length>0){const x=[...new Set(v)].map(b=>`"${b}"`);this.url.searchParams.set("columns",x.join(","))}}return new n.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}upsert(u,{onConflict:h,ignoreDuplicates:f=!1,count:g,defaultToNull:p=!0}={}){var v;const x="POST";if(this.headers.append("Prefer",`resolution=${f?"ignore":"merge"}-duplicates`),h!==void 0&&this.url.searchParams.set("on_conflict",h),g&&this.headers.append("Prefer",`count=${g}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const b=u.reduce((S,T)=>S.concat(Object.keys(T)),[]);if(b.length>0){const S=[...new Set(b)].map(T=>`"${T}"`);this.url.searchParams.set("columns",S.join(","))}}return new n.default({method:x,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}update(u,{count:h}={}){var f;const g="PATCH";return h&&this.headers.append("Prefer",`count=${h}`),new n.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}delete({count:u}={}){var h;const f="DELETE";return u&&this.headers.append("Prefer",`count=${u}`),new n.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return Sn.default=r,Sn}var qm;function Xy(){if(qm)return _n;qm=1;var o=_n&&_n.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(_n,"__esModule",{value:!0});const n=o(A0()),r=o(yu());class l{constructor(h,{headers:f={},schema:g,fetch:p}={}){this.url=h,this.headers=new Headers(f),this.schemaName=g,this.fetch=p}from(h){const f=new URL(`${this.url}/${h}`);return new n.default(f,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(h){return new l(this.url,{headers:this.headers,schema:h,fetch:this.fetch})}rpc(h,f={},{head:g=!1,get:p=!1,count:v}={}){var x;let b;const S=new URL(`${this.url}/rpc/${h}`);let T;g||p?(b=g?"HEAD":"GET",Object.entries(f).filter(([E,w])=>w!==void 0).map(([E,w])=>[E,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([E,w])=>{S.searchParams.append(E,w)})):(b="POST",T=f);const O=new Headers(this.headers);return v&&O.set("Prefer",`count=${v}`),new r.default({method:b,url:S,headers:O,schema:this.schemaName,body:T,fetch:(x=this.fetch)!==null&&x!==void 0?x:fetch})}}return _n.default=l,_n}var Pm;function Jy(){if(Pm)return lt;Pm=1;var o=lt&&lt.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(lt,"__esModule",{value:!0}),lt.PostgrestError=lt.PostgrestBuilder=lt.PostgrestTransformBuilder=lt.PostgrestFilterBuilder=lt.PostgrestQueryBuilder=lt.PostgrestClient=void 0;const n=o(Xy());lt.PostgrestClient=n.default;const r=o(A0());lt.PostgrestQueryBuilder=r.default;const l=o(yu());lt.PostgrestFilterBuilder=l.default;const u=o(E0());lt.PostgrestTransformBuilder=u.default;const h=o(T0());lt.PostgrestBuilder=h.default;const f=o(k0());return lt.PostgrestError=f.default,lt.default={PostgrestClient:n.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:l.default,PostgrestTransformBuilder:u.default,PostgrestBuilder:h.default,PostgrestError:f.default},lt}var Zy=Jy();const Wy=s0(Zy),{PostgrestClient:Iy,PostgrestQueryBuilder:s1,PostgrestFilterBuilder:n1,PostgrestTransformBuilder:i1,PostgrestBuilder:r1,PostgrestError:l1}=Wy;class Fy{static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let r=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(r+=`

Suggested solution: ${n.workaround}`),new Error(r)}static createWebSocket(n,r){const l=this.getWebSocketConstructor();return new l(n,r)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const ex="2.15.4",tx=`realtime-js/${ex}`,ax="1.0.0",tu=1e4,sx=1e3,nx=100;var Bi;(function(o){o[o.connecting=0]="connecting",o[o.open=1]="open",o[o.closing=2]="closing",o[o.closed=3]="closed"})(Bi||(Bi={}));var et;(function(o){o.closed="closed",o.errored="errored",o.joined="joined",o.joining="joining",o.leaving="leaving"})(et||(et={}));var Jt;(function(o){o.close="phx_close",o.error="phx_error",o.join="phx_join",o.reply="phx_reply",o.leave="phx_leave",o.access_token="access_token"})(Jt||(Jt={}));var au;(function(o){o.websocket="websocket"})(au||(au={}));var Es;(function(o){o.Connecting="connecting",o.Open="open",o.Closing="closing",o.Closed="closed"})(Es||(Es={}));class ix{constructor(){this.HEADER_LENGTH=1}decode(n,r){return n.constructor===ArrayBuffer?r(this._binaryDecode(n)):r(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){const r=new DataView(n),l=new TextDecoder;return this._decodeBroadcast(n,r,l)}_decodeBroadcast(n,r,l){const u=r.getUint8(1),h=r.getUint8(2);let f=this.HEADER_LENGTH+2;const g=l.decode(n.slice(f,f+u));f=f+u;const p=l.decode(n.slice(f,f+h));f=f+h;const v=JSON.parse(l.decode(n.slice(f,n.byteLength)));return{ref:null,topic:g,event:p,payload:v}}}class O0{constructor(n,r){this.callback=n,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var He;(function(o){o.abstime="abstime",o.bool="bool",o.date="date",o.daterange="daterange",o.float4="float4",o.float8="float8",o.int2="int2",o.int4="int4",o.int4range="int4range",o.int8="int8",o.int8range="int8range",o.json="json",o.jsonb="jsonb",o.money="money",o.numeric="numeric",o.oid="oid",o.reltime="reltime",o.text="text",o.time="time",o.timestamp="timestamp",o.timestamptz="timestamptz",o.timetz="timetz",o.tsrange="tsrange",o.tstzrange="tstzrange"})(He||(He={}));const $m=(o,n,r={})=>{var l;const u=(l=r.skipTypes)!==null&&l!==void 0?l:[];return Object.keys(n).reduce((h,f)=>(h[f]=rx(f,o,n,u),h),{})},rx=(o,n,r,l)=>{const u=n.find(g=>g.name===o),h=u?.type,f=r[o];return h&&!l.includes(h)?C0(h,f):su(f)},C0=(o,n)=>{if(o.charAt(0)==="_"){const r=o.slice(1,o.length);return ux(n,r)}switch(o){case He.bool:return lx(n);case He.float4:case He.float8:case He.int2:case He.int4:case He.int8:case He.numeric:case He.oid:return ox(n);case He.json:case He.jsonb:return cx(n);case He.timestamp:return dx(n);case He.abstime:case He.date:case He.daterange:case He.int4range:case He.int8range:case He.money:case He.reltime:case He.text:case He.time:case He.timestamptz:case He.timetz:case He.tsrange:case He.tstzrange:return su(n);default:return su(n)}},su=o=>o,lx=o=>{switch(o){case"t":return!0;case"f":return!1;default:return o}},ox=o=>{if(typeof o=="string"){const n=parseFloat(o);if(!Number.isNaN(n))return n}return o},cx=o=>{if(typeof o=="string")try{return JSON.parse(o)}catch(n){return console.log(`JSON parse error: ${n}`),o}return o},ux=(o,n)=>{if(typeof o!="string")return o;const r=o.length-1,l=o[r];if(o[0]==="{"&&l==="}"){let h;const f=o.slice(1,r);try{h=JSON.parse("["+f+"]")}catch{h=f?f.split(","):[]}return h.map(g=>C0(n,g))}return o},dx=o=>typeof o=="string"?o.replace(" ","T"):o,R0=o=>{let n=o;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")+"/api/broadcast"};class $c{constructor(n,r,l={},u=tu){this.channel=n,this.event=r,this.payload=l,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,r){var l;return this._hasReceived(n)&&r((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:n,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:r}){this.recHooks.filter(l=>l.status===n).forEach(l=>l.callback(r))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Gm;(function(o){o.SYNC="sync",o.JOIN="join",o.LEAVE="leave"})(Gm||(Gm={}));class Hi{constructor(n,r){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},u=>{const{onJoin:h,onLeave:f,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Hi.syncState(this.state,u,h,f),this.pendingDiffs.forEach(p=>{this.state=Hi.syncDiff(this.state,p,h,f)}),this.pendingDiffs=[],g()}),this.channel._on(l.diff,{},u=>{const{onJoin:h,onLeave:f,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=Hi.syncDiff(this.state,u,h,f),g())}),this.onJoin((u,h,f)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:h,newPresences:f})}),this.onLeave((u,h,f)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:h,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,r,l,u){const h=this.cloneDeep(n),f=this.transformState(r),g={},p={};return this.map(h,(v,x)=>{f[v]||(p[v]=x)}),this.map(f,(v,x)=>{const b=h[v];if(b){const S=x.map(w=>w.presence_ref),T=b.map(w=>w.presence_ref),O=x.filter(w=>T.indexOf(w.presence_ref)<0),E=b.filter(w=>S.indexOf(w.presence_ref)<0);O.length>0&&(g[v]=O),E.length>0&&(p[v]=E)}else g[v]=x}),this.syncDiff(h,{joins:g,leaves:p},l,u)}static syncDiff(n,r,l,u){const{joins:h,leaves:f}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return l||(l=()=>{}),u||(u=()=>{}),this.map(h,(g,p)=>{var v;const x=(v=n[g])!==null&&v!==void 0?v:[];if(n[g]=this.cloneDeep(p),x.length>0){const b=n[g].map(T=>T.presence_ref),S=x.filter(T=>b.indexOf(T.presence_ref)<0);n[g].unshift(...S)}l(g,x,p)}),this.map(f,(g,p)=>{let v=n[g];if(!v)return;const x=p.map(b=>b.presence_ref);v=v.filter(b=>x.indexOf(b.presence_ref)<0),n[g]=v,u(g,v,p),v.length===0&&delete n[g]}),n}static map(n,r){return Object.getOwnPropertyNames(n).map(l=>r(l,n[l]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((r,l)=>{const u=n[l];return"metas"in u?r[l]=u.metas.map(h=>(h.presence_ref=h.phx_ref,delete h.phx_ref,delete h.phx_ref_prev,h)):r[l]=u,r},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Vm;(function(o){o.ALL="*",o.INSERT="INSERT",o.UPDATE="UPDATE",o.DELETE="DELETE"})(Vm||(Vm={}));var qi;(function(o){o.BROADCAST="broadcast",o.PRESENCE="presence",o.POSTGRES_CHANGES="postgres_changes",o.SYSTEM="system"})(qi||(qi={}));var ja;(function(o){o.SUBSCRIBED="SUBSCRIBED",o.TIMED_OUT="TIMED_OUT",o.CLOSED="CLOSED",o.CHANNEL_ERROR="CHANNEL_ERROR"})(ja||(ja={}));class xu{constructor(n,r={config:{}},l){this.topic=n,this.params=r,this.socket=l,this.bindings={},this.state=et.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new $c(this,Jt.join,this.params,this.timeout),this.rejoinTimer=new O0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=et.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=et.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Jt.reply,{},(u,h)=>{this._trigger(this._replyEventName(h),u)}),this.presence=new Hi(this),this.broadcastEndpointURL=R0(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(n,r=this.timeout){var l,u,h;if(this.socket.isConnected()||this.socket.connect(),this.state==et.closed){const{config:{broadcast:f,presence:g,private:p}}=this.params,v=(u=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(T=>T.filter))!==null&&u!==void 0?u:[],x=!!this.bindings[qi.PRESENCE]&&this.bindings[qi.PRESENCE].length>0||((h=this.params.config.presence)===null||h===void 0?void 0:h.enabled)===!0,b={},S={broadcast:f,presence:Object.assign(Object.assign({},g),{enabled:x}),postgres_changes:v,private:p};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(T=>n?.(ja.CHANNEL_ERROR,T)),this._onClose(()=>n?.(ja.CLOSED)),this.updateJoinPayload(Object.assign({config:S},b)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:T})=>{var O;if(this.socket.setAuth(),T===void 0){n?.(ja.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,w=(O=E?.length)!==null&&O!==void 0?O:0,P=[];for(let H=0;H<w;H++){const q=E[H],{filter:{event:Q,schema:X,table:I,filter:ie}}=q,oe=T&&T[H];if(oe&&oe.event===Q&&oe.schema===X&&oe.table===I&&oe.filter===ie)P.push(Object.assign(Object.assign({},q),{id:oe.id}));else{this.unsubscribe(),this.state=et.errored,n?.(ja.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=P,n&&n(ja.SUBSCRIBED);return}}).receive("error",T=>{this.state=et.errored,n?.(ja.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(T).join(", ")||"error")))}).receive("timeout",()=>{n?.(ja.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,r={}){return await this.send({type:"presence",event:"track",payload:n},r.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,r,l){return this.state===et.joined&&n===qi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(n,r,l)}async send(n,r={}){var l,u;if(!this._canPush()&&n.type==="broadcast"){const{event:h,payload:f}=n,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:h,payload:f,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(l=r.timeout)!==null&&l!==void 0?l:this.timeout);return await((u=v.body)===null||u===void 0?void 0:u.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(h=>{var f,g,p;const v=this._push(n.type,n,r.timeout||this.timeout);n.type==="broadcast"&&!(!((p=(g=(f=this.params)===null||f===void 0?void 0:f.config)===null||g===void 0?void 0:g.broadcast)===null||p===void 0)&&p.ack)&&h("ok"),v.receive("ok",()=>h("ok")),v.receive("error",()=>h("error")),v.receive("timeout",()=>h("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=et.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Jt.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(u=>{l=new $c(this,Jt.leave,{},n),l.receive("ok",()=>{r(),u("ok")}).receive("timeout",()=>{r(),u("timed out")}).receive("error",()=>{u("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=et.closed,this.bindings={}}async _fetchWithTimeout(n,r,l){const u=new AbortController,h=setTimeout(()=>u.abort(),l),f=await this.socket.fetch(n,Object.assign(Object.assign({},r),{signal:u.signal}));return clearTimeout(h),f}_push(n,r,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new $c(this,n,r,l);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>nx){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(n,r,l){return r}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,r,l){var u,h;const f=n.toLocaleLowerCase(),{close:g,error:p,leave:v,join:x}=Jt;if(l&&[g,p,v,x].indexOf(f)>=0&&l!==this._joinRef())return;let S=this._onMessage(f,r,l);if(r&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(T=>{var O,E,w;return((O=T.filter)===null||O===void 0?void 0:O.event)==="*"||((w=(E=T.filter)===null||E===void 0?void 0:E.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===f}).map(T=>T.callback(S,l)):(h=this.bindings[f])===null||h===void 0||h.filter(T=>{var O,E,w,P,H,q;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in T){const Q=T.id,X=(O=T.filter)===null||O===void 0?void 0:O.event;return Q&&((E=r.ids)===null||E===void 0?void 0:E.includes(Q))&&(X==="*"||X?.toLocaleLowerCase()===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const Q=(H=(P=T?.filter)===null||P===void 0?void 0:P.event)===null||H===void 0?void 0:H.toLocaleLowerCase();return Q==="*"||Q===((q=r?.event)===null||q===void 0?void 0:q.toLocaleLowerCase())}else return T.type.toLocaleLowerCase()===f}).map(T=>{if(typeof S=="object"&&"ids"in S){const O=S.data,{schema:E,table:w,commit_timestamp:P,type:H,errors:q}=O;S=Object.assign(Object.assign({},{schema:E,table:w,commit_timestamp:P,eventType:H,new:{},old:{},errors:q}),this._getPayloadRecords(O))}T.callback(S,l)})}_isClosed(){return this.state===et.closed}_isJoined(){return this.state===et.joined}_isJoining(){return this.state===et.joining}_isLeaving(){return this.state===et.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,r,l){const u=n.toLocaleLowerCase(),h={type:u,filter:r,callback:l};return this.bindings[u]?this.bindings[u].push(h):this.bindings[u]=[h],this}_off(n,r){const l=n.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(u=>{var h;return!(((h=u.type)===null||h===void 0?void 0:h.toLocaleLowerCase())===l&&xu.isEqual(u.filter,r))})),this}static isEqual(n,r){if(Object.keys(n).length!==Object.keys(r).length)return!1;for(const l in n)if(n[l]!==r[l])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Jt.close,{},n)}_onError(n){this._on(Jt.error,{},r=>n(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=et.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const r={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(r.new=$m(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(r.old=$m(n.columns,n.old_record)),r}}const Gc=()=>{},ul={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},hx=[1e3,2e3,5e3,1e4],fx=1e4,mx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class gx{constructor(n,r){var l;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=tu,this.transport=null,this.heartbeatIntervalMs=ul.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Gc,this.ref=0,this.reconnectTimer=null,this.logger=Gc,this.conn=null,this.sendBuffer=[],this.serializer=new ix,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=u=>{let h;return u?h=u:typeof fetch>"u"?h=(...f)=>Yi(async()=>{const{default:g}=await Promise.resolve().then(()=>zn);return{default:g}},void 0).then(({default:g})=>g(...f)).catch(g=>{throw new Error(`Failed to load @supabase/node-fetch: ${g.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):h=fetch,(...f)=>h(...f)},!(!((l=r?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${n}/${au.websocket}`,this.httpEndpoint=R0(n),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Fy.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const r=n.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ax}))}disconnect(n,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},n?this.conn.close(n,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const r=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const n=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,r,l){this.logger(n,r,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Bi.connecting:return Es.Connecting;case Bi.open:return Es.Open;case Bi.closing:return Es.Closing;default:return Es.Closed}}isConnected(){return this.connectionState()===Es.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,r={config:{}}){const l=`realtime:${n}`,u=this.getChannels().find(h=>h.topic===l);if(u)return u;{const h=new xu(`realtime:${n}`,r,this);return this.channels.push(h),h}}push(n){const{topic:r,event:l,payload:u,ref:h}=n,f=()=>{this.encode(n,g=>{var p;(p=this.conn)===null||p===void 0||p.send(g)})};this.log("push",`${r} ${l} (${h})`,u),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(sx,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ul.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let r=this.channels.find(l=>l.topic===n&&(l._isJoined()||l._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${n}"`),r.unsubscribe())}_remove(n){this.channels=this.channels.filter(r=>r.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(v){this.log("error","error in heartbeat callback",v)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:l,event:u,payload:h,ref:f}=r,g=f?`(${f})`:"",p=h.status||"";this.log("receive",`${p} ${l} ${u} ${g}`.trim(),h),this.channels.filter(v=>v._isMember(l)).forEach(v=>v._trigger(u,h,f)),this._triggerStateCallbacks("message",r)})}_clearTimer(n){var r;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var r;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(Jt.error))}_appendParams(n,r){if(Object.keys(r).length===0)return n;const l=n.match(/\?/)?"&":"?",u=new URLSearchParams(r);return`${n}${l}${u}`}_workerObjectUrl(n){let r;if(n)r=n;else{const l=new Blob([mx],{type:"application/javascript"});r=URL.createObjectURL(l)}return r}_setConnectionState(n,r=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(n=null){let r;n?r=n:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(l=>{const u={access_token:r,version:tx};r&&l.updateJoinPayload(u),l.joinedOnce&&l._isJoined()&&l._push(Jt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${n}`,r)})}_triggerStateCallbacks(n,r){try{this.stateChangeCallbacks[n].forEach(l=>{try{l(r)}catch(u){this.log("error",`error in ${n} callback`,u)}})}catch(l){this.log("error",`error triggering ${n} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new O0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ul.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var r,l,u,h,f,g,p,v,x;if(this.transport=(r=n?.transport)!==null&&r!==void 0?r:null,this.timeout=(l=n?.timeout)!==null&&l!==void 0?l:tu,this.heartbeatIntervalMs=(u=n?.heartbeatIntervalMs)!==null&&u!==void 0?u:ul.HEARTBEAT_INTERVAL,this.worker=(h=n?.worker)!==null&&h!==void 0?h:!1,this.accessToken=(f=n?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(g=n?.heartbeatCallback)!==null&&g!==void 0?g:Gc,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=n?.reconnectAfterMs)!==null&&p!==void 0?p:(b=>hx[b-1]||fx),this.encode=(v=n?.encode)!==null&&v!==void 0?v:((b,S)=>S(JSON.stringify(b))),this.decode=(x=n?.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}class bu extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function tt(o){return typeof o=="object"&&o!==null&&"__isStorageError"in o}class px extends bu{constructor(n,r,l){super(n),this.name="StorageApiError",this.status=r,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class nu extends bu{constructor(n,r){super(n),this.name="StorageUnknownError",this.originalError=r}}var vx=function(o,n,r,l){function u(h){return h instanceof r?h:new r(function(f){f(h)})}return new(r||(r=Promise))(function(h,f){function g(x){try{v(l.next(x))}catch(b){f(b)}}function p(x){try{v(l.throw(x))}catch(b){f(b)}}function v(x){x.done?h(x.value):u(x.value).then(g,p)}v((l=l.apply(o,n||[])).next())})};const M0=o=>{let n;return o?n=o:typeof fetch>"u"?n=(...r)=>Yi(async()=>{const{default:l}=await Promise.resolve().then(()=>zn);return{default:l}},void 0).then(({default:l})=>l(...r)):n=fetch,(...r)=>n(...r)},yx=()=>vx(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Yi(()=>Promise.resolve().then(()=>zn),void 0)).Response:Response}),iu=o=>{if(Array.isArray(o))return o.map(r=>iu(r));if(typeof o=="function"||o!==Object(o))return o;const n={};return Object.entries(o).forEach(([r,l])=>{const u=r.replace(/([-_][a-z])/gi,h=>h.toUpperCase().replace(/[-_]/g,""));n[u]=iu(l)}),n},xx=o=>{if(typeof o!="object"||o===null)return!1;const n=Object.getPrototypeOf(o);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in o)&&!(Symbol.iterator in o)};var Cs=function(o,n,r,l){function u(h){return h instanceof r?h:new r(function(f){f(h)})}return new(r||(r=Promise))(function(h,f){function g(x){try{v(l.next(x))}catch(b){f(b)}}function p(x){try{v(l.throw(x))}catch(b){f(b)}}function v(x){x.done?h(x.value):u(x.value).then(g,p)}v((l=l.apply(o,n||[])).next())})};const Vc=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),bx=(o,n,r)=>Cs(void 0,void 0,void 0,function*(){const l=yield yx();o instanceof l&&!r?.noResolveJson?o.json().then(u=>{const h=o.status||500,f=u?.statusCode||h+"";n(new px(Vc(u),h,f))}).catch(u=>{n(new nu(Vc(u),u))}):n(new nu(Vc(o),o))}),jx=(o,n,r,l)=>{const u={method:o,headers:n?.headers||{}};return o==="GET"||!l?u:(xx(l)?(u.headers=Object.assign({"Content-Type":"application/json"},n?.headers),u.body=JSON.stringify(l)):u.body=l,n?.duplex&&(u.duplex=n.duplex),Object.assign(Object.assign({},u),r))};function Ki(o,n,r,l,u,h){return Cs(this,void 0,void 0,function*(){return new Promise((f,g)=>{o(r,jx(n,l,u,h)).then(p=>{if(!p.ok)throw p;return l?.noResolveJson?p:p.json()}).then(p=>f(p)).catch(p=>bx(p,g,l))})})}function vl(o,n,r,l){return Cs(this,void 0,void 0,function*(){return Ki(o,"GET",n,r,l)})}function sa(o,n,r,l,u){return Cs(this,void 0,void 0,function*(){return Ki(o,"POST",n,l,u,r)})}function ru(o,n,r,l,u){return Cs(this,void 0,void 0,function*(){return Ki(o,"PUT",n,l,u,r)})}function wx(o,n,r,l){return Cs(this,void 0,void 0,function*(){return Ki(o,"HEAD",n,Object.assign(Object.assign({},r),{noResolveJson:!0}),l)})}function D0(o,n,r,l,u){return Cs(this,void 0,void 0,function*(){return Ki(o,"DELETE",n,l,u,r)})}var yt=function(o,n,r,l){function u(h){return h instanceof r?h:new r(function(f){f(h)})}return new(r||(r=Promise))(function(h,f){function g(x){try{v(l.next(x))}catch(b){f(b)}}function p(x){try{v(l.throw(x))}catch(b){f(b)}}function v(x){x.done?h(x.value):u(x.value).then(g,p)}v((l=l.apply(o,n||[])).next())})};const _x={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ym={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Sx{constructor(n,r={},l,u){this.url=n,this.headers=r,this.bucketId=l,this.fetch=M0(u)}uploadOrUpdate(n,r,l,u){return yt(this,void 0,void 0,function*(){try{let h;const f=Object.assign(Object.assign({},Ym),u);let g=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(f.upsert)});const p=f.metadata;typeof Blob<"u"&&l instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),p&&h.append("metadata",this.encodeMetadata(p)),h.append("",l)):typeof FormData<"u"&&l instanceof FormData?(h=l,h.append("cacheControl",f.cacheControl),p&&h.append("metadata",this.encodeMetadata(p))):(h=l,g["cache-control"]=`max-age=${f.cacheControl}`,g["content-type"]=f.contentType,p&&(g["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),u?.headers&&(g=Object.assign(Object.assign({},g),u.headers));const v=this._removeEmptyFolders(r),x=this._getFinalPath(v),b=yield(n=="PUT"?ru:sa)(this.fetch,`${this.url}/object/${x}`,h,Object.assign({headers:g},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:v,id:b.Id,fullPath:b.Key},error:null}}catch(h){if(tt(h))return{data:null,error:h};throw h}})}upload(n,r,l){return yt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,r,l)})}uploadToSignedUrl(n,r,l,u){return yt(this,void 0,void 0,function*(){const h=this._removeEmptyFolders(n),f=this._getFinalPath(h),g=new URL(this.url+`/object/upload/sign/${f}`);g.searchParams.set("token",r);try{let p;const v=Object.assign({upsert:Ym.upsert},u),x=Object.assign(Object.assign({},this.headers),{"x-upsert":String(v.upsert)});typeof Blob<"u"&&l instanceof Blob?(p=new FormData,p.append("cacheControl",v.cacheControl),p.append("",l)):typeof FormData<"u"&&l instanceof FormData?(p=l,p.append("cacheControl",v.cacheControl)):(p=l,x["cache-control"]=`max-age=${v.cacheControl}`,x["content-type"]=v.contentType);const b=yield ru(this.fetch,g.toString(),p,{headers:x});return{data:{path:h,fullPath:b.Key},error:null}}catch(p){if(tt(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(n,r){return yt(this,void 0,void 0,function*(){try{let l=this._getFinalPath(n);const u=Object.assign({},this.headers);r?.upsert&&(u["x-upsert"]="true");const h=yield sa(this.fetch,`${this.url}/object/upload/sign/${l}`,{},{headers:u}),f=new URL(this.url+h.url),g=f.searchParams.get("token");if(!g)throw new bu("No token returned by API");return{data:{signedUrl:f.toString(),path:n,token:g},error:null}}catch(l){if(tt(l))return{data:null,error:l};throw l}})}update(n,r,l){return yt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,r,l)})}move(n,r,l){return yt(this,void 0,void 0,function*(){try{return{data:yield sa(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:r,destinationBucket:l?.destinationBucket},{headers:this.headers}),error:null}}catch(u){if(tt(u))return{data:null,error:u};throw u}})}copy(n,r,l){return yt(this,void 0,void 0,function*(){try{return{data:{path:(yield sa(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:r,destinationBucket:l?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(u){if(tt(u))return{data:null,error:u};throw u}})}createSignedUrl(n,r,l){return yt(this,void 0,void 0,function*(){try{let u=this._getFinalPath(n),h=yield sa(this.fetch,`${this.url}/object/sign/${u}`,Object.assign({expiresIn:r},l?.transform?{transform:l.transform}:{}),{headers:this.headers});const f=l?.download?`&download=${l.download===!0?"":l.download}`:"";return h={signedUrl:encodeURI(`${this.url}${h.signedURL}${f}`)},{data:h,error:null}}catch(u){if(tt(u))return{data:null,error:u};throw u}})}createSignedUrls(n,r,l){return yt(this,void 0,void 0,function*(){try{const u=yield sa(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:n},{headers:this.headers}),h=l?.download?`&download=${l.download===!0?"":l.download}`:"";return{data:u.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${h}`):null})),error:null}}catch(u){if(tt(u))return{data:null,error:u};throw u}})}download(n,r){return yt(this,void 0,void 0,function*(){const u=typeof r?.transform<"u"?"render/image/authenticated":"object",h=this.transformOptsToQueryString(r?.transform||{}),f=h?`?${h}`:"";try{const g=this._getFinalPath(n);return{data:yield(yield vl(this.fetch,`${this.url}/${u}/${g}${f}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(g){if(tt(g))return{data:null,error:g};throw g}})}info(n){return yt(this,void 0,void 0,function*(){const r=this._getFinalPath(n);try{const l=yield vl(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:iu(l),error:null}}catch(l){if(tt(l))return{data:null,error:l};throw l}})}exists(n){return yt(this,void 0,void 0,function*(){const r=this._getFinalPath(n);try{return yield wx(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(l){if(tt(l)&&l instanceof nu){const u=l.originalError;if([400,404].includes(u?.status))return{data:!1,error:l}}throw l}})}getPublicUrl(n,r){const l=this._getFinalPath(n),u=[],h=r?.download?`download=${r.download===!0?"":r.download}`:"";h!==""&&u.push(h);const g=typeof r?.transform<"u"?"render/image":"object",p=this.transformOptsToQueryString(r?.transform||{});p!==""&&u.push(p);let v=u.join("&");return v!==""&&(v=`?${v}`),{data:{publicUrl:encodeURI(`${this.url}/${g}/public/${l}${v}`)}}}remove(n){return yt(this,void 0,void 0,function*(){try{return{data:yield D0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(r){if(tt(r))return{data:null,error:r};throw r}})}list(n,r,l){return yt(this,void 0,void 0,function*(){try{const u=Object.assign(Object.assign(Object.assign({},_x),r),{prefix:n||""});return{data:yield sa(this.fetch,`${this.url}/object/list/${this.bucketId}`,u,{headers:this.headers},l),error:null}}catch(u){if(tt(u))return{data:null,error:u};throw u}})}listV2(n,r){return yt(this,void 0,void 0,function*(){try{const l=Object.assign({},n);return{data:yield sa(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,l,{headers:this.headers},r),error:null}}catch(l){if(tt(l))return{data:null,error:l};throw l}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const r=[];return n.width&&r.push(`width=${n.width}`),n.height&&r.push(`height=${n.height}`),n.resize&&r.push(`resize=${n.resize}`),n.format&&r.push(`format=${n.format}`),n.quality&&r.push(`quality=${n.quality}`),r.join("&")}}const Nx="2.11.0",kx={"X-Client-Info":`storage-js/${Nx}`};var En=function(o,n,r,l){function u(h){return h instanceof r?h:new r(function(f){f(h)})}return new(r||(r=Promise))(function(h,f){function g(x){try{v(l.next(x))}catch(b){f(b)}}function p(x){try{v(l.throw(x))}catch(b){f(b)}}function v(x){x.done?h(x.value):u(x.value).then(g,p)}v((l=l.apply(o,n||[])).next())})};class Tx{constructor(n,r={},l,u){const h=new URL(n);u?.useNewHostname&&/supabase\.(co|in|red)$/.test(h.hostname)&&!h.hostname.includes("storage.supabase.")&&(h.hostname=h.hostname.replace("supabase.","storage.supabase.")),this.url=h.href,this.headers=Object.assign(Object.assign({},kx),r),this.fetch=M0(l)}listBuckets(){return En(this,void 0,void 0,function*(){try{return{data:yield vl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(tt(n))return{data:null,error:n};throw n}})}getBucket(n){return En(this,void 0,void 0,function*(){try{return{data:yield vl(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(r){if(tt(r))return{data:null,error:r};throw r}})}createBucket(n,r={public:!1}){return En(this,void 0,void 0,function*(){try{return{data:yield sa(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(tt(l))return{data:null,error:l};throw l}})}updateBucket(n,r){return En(this,void 0,void 0,function*(){try{return{data:yield ru(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(tt(l))return{data:null,error:l};throw l}})}emptyBucket(n){return En(this,void 0,void 0,function*(){try{return{data:yield sa(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(tt(r))return{data:null,error:r};throw r}})}deleteBucket(n){return En(this,void 0,void 0,function*(){try{return{data:yield D0(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(r){if(tt(r))return{data:null,error:r};throw r}})}}class Ex extends Tx{constructor(n,r={},l,u){super(n,r,l,u)}from(n){return new Sx(this.url,this.headers,n,this.fetch)}}const Ax="2.56.1";let zi="";typeof Deno<"u"?zi="deno":typeof document<"u"?zi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?zi="react-native":zi="node";const Ox={"X-Client-Info":`supabase-js-${zi}/${Ax}`},Cx={headers:Ox},Rx={schema:"public"},Mx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Dx={};var Lx=function(o,n,r,l){function u(h){return h instanceof r?h:new r(function(f){f(h)})}return new(r||(r=Promise))(function(h,f){function g(x){try{v(l.next(x))}catch(b){f(b)}}function p(x){try{v(l.throw(x))}catch(b){f(b)}}function v(x){x.done?h(x.value):u(x.value).then(g,p)}v((l=l.apply(o,n||[])).next())})};const Ux=o=>{let n;return o?n=o:typeof fetch>"u"?n=S0:n=fetch,(...r)=>n(...r)},zx=()=>typeof Headers>"u"?N0:Headers,Bx=(o,n,r)=>{const l=Ux(r),u=zx();return(h,f)=>Lx(void 0,void 0,void 0,function*(){var g;const p=(g=yield n())!==null&&g!==void 0?g:o;let v=new u(f?.headers);return v.has("apikey")||v.set("apikey",o),v.has("Authorization")||v.set("Authorization",`Bearer ${p}`),l(h,Object.assign(Object.assign({},f),{headers:v}))})};var Hx=function(o,n,r,l){function u(h){return h instanceof r?h:new r(function(f){f(h)})}return new(r||(r=Promise))(function(h,f){function g(x){try{v(l.next(x))}catch(b){f(b)}}function p(x){try{v(l.throw(x))}catch(b){f(b)}}function v(x){x.done?h(x.value):u(x.value).then(g,p)}v((l=l.apply(o,n||[])).next())})};function qx(o){return o.endsWith("/")?o:o+"/"}function Px(o,n){var r,l;const{db:u,auth:h,realtime:f,global:g}=o,{db:p,auth:v,realtime:x,global:b}=n,S={db:Object.assign(Object.assign({},p),u),auth:Object.assign(Object.assign({},v),h),realtime:Object.assign(Object.assign({},x),f),storage:{},global:Object.assign(Object.assign(Object.assign({},b),g),{headers:Object.assign(Object.assign({},(r=b?.headers)!==null&&r!==void 0?r:{}),(l=g?.headers)!==null&&l!==void 0?l:{})}),accessToken:()=>Hx(this,void 0,void 0,function*(){return""})};return o.accessToken?S.accessToken=o.accessToken:delete S.accessToken,S}const L0="2.71.1",Mn=30*1e3,lu=3,Yc=lu*Mn,$x="http://localhost:9999",Gx="supabase.auth.token",Vx={"X-Client-Info":`gotrue-js/${L0}`},ou="X-Supabase-Api-Version",U0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Yx=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Kx=600*1e3;class ju extends Error{constructor(n,r,l){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=l}}function pe(o){return typeof o=="object"&&o!==null&&"__isAuthError"in o}class Qx extends ju{constructor(n,r,l){super(n,r,l),this.name="AuthApiError",this.status=r,this.code=l}}function Xx(o){return pe(o)&&o.name==="AuthApiError"}class z0 extends ju{constructor(n,r){super(n),this.name="AuthUnknownError",this.originalError=r}}class ts extends ju{constructor(n,r,l,u){super(n,l,u),this.name=r,this.status=l}}class Xa extends ts{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Jx(o){return pe(o)&&o.name==="AuthSessionMissingError"}class dl extends ts{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class hl extends ts{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class fl extends ts{constructor(n,r=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Zx(o){return pe(o)&&o.name==="AuthImplicitGrantRedirectError"}class Km extends ts{constructor(n,r=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class cu extends ts{constructor(n,r){super(n,"AuthRetryableFetchError",r,void 0)}}function Kc(o){return pe(o)&&o.name==="AuthRetryableFetchError"}class Qm extends ts{constructor(n,r,l){super(n,"AuthWeakPasswordError",r,"weak_password"),this.reasons=l}}class uu extends ts{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const yl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Xm=` 	
\r=`.split(""),Wx=(()=>{const o=new Array(128);for(let n=0;n<o.length;n+=1)o[n]=-1;for(let n=0;n<Xm.length;n+=1)o[Xm[n].charCodeAt(0)]=-2;for(let n=0;n<yl.length;n+=1)o[yl[n].charCodeAt(0)]=n;return o})();function Jm(o,n,r){if(o!==null)for(n.queue=n.queue<<8|o,n.queuedBits+=8;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;r(yl[l]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;r(yl[l]),n.queuedBits-=6}}function B0(o,n,r){const l=Wx[o];if(l>-1)for(n.queue=n.queue<<6|l,n.queuedBits+=6;n.queuedBits>=8;)r(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(o)}"`)}}function Zm(o){const n=[],r=f=>{n.push(String.fromCodePoint(f))},l={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},h=f=>{eb(f,l,r)};for(let f=0;f<o.length;f+=1)B0(o.charCodeAt(f),u,h);return n.join("")}function Ix(o,n){if(o<=127){n(o);return}else if(o<=2047){n(192|o>>6),n(128|o&63);return}else if(o<=65535){n(224|o>>12),n(128|o>>6&63),n(128|o&63);return}else if(o<=1114111){n(240|o>>18),n(128|o>>12&63),n(128|o>>6&63),n(128|o&63);return}throw new Error(`Unrecognized Unicode codepoint: ${o.toString(16)}`)}function Fx(o,n){for(let r=0;r<o.length;r+=1){let l=o.charCodeAt(r);if(l>55295&&l<=56319){const u=(l-55296)*1024&65535;l=(o.charCodeAt(r+1)-56320&65535|u)+65536,r+=1}Ix(l,n)}}function eb(o,n,r){if(n.utf8seq===0){if(o<=127){r(o);return}for(let l=1;l<6;l+=1)if((o>>7-l&1)===0){n.utf8seq=l;break}if(n.utf8seq===2)n.codepoint=o&31;else if(n.utf8seq===3)n.codepoint=o&15;else if(n.utf8seq===4)n.codepoint=o&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(o<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|o&63,n.utf8seq-=1,n.utf8seq===0&&r(n.codepoint)}}function tb(o){const n=[],r={queue:0,queuedBits:0},l=u=>{n.push(u)};for(let u=0;u<o.length;u+=1)B0(o.charCodeAt(u),r,l);return new Uint8Array(n)}function ab(o){const n=[];return Fx(o,r=>n.push(r)),new Uint8Array(n)}function sb(o){const n=[],r={queue:0,queuedBits:0},l=u=>{n.push(u)};return o.forEach(u=>Jm(u,r,l)),Jm(null,r,l),n.join("")}function nb(o){return Math.round(Date.now()/1e3)+o}function ib(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){const n=Math.random()*16|0;return(o=="x"?n:n&3|8).toString(16)})}const Xt=()=>typeof window<"u"&&typeof document<"u",Ns={tested:!1,writable:!1},H0=()=>{if(!Xt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ns.tested)return Ns.writable;const o=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(o,o),globalThis.localStorage.removeItem(o),Ns.tested=!0,Ns.writable=!0}catch{Ns.tested=!0,Ns.writable=!1}return Ns.writable};function rb(o){const n={},r=new URL(o);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((u,h)=>{n[h]=u})}catch{}return r.searchParams.forEach((l,u)=>{n[u]=l}),n}const q0=o=>{let n;return o?n=o:typeof fetch>"u"?n=(...r)=>Yi(async()=>{const{default:l}=await Promise.resolve().then(()=>zn);return{default:l}},void 0).then(({default:l})=>l(...r)):n=fetch,(...r)=>n(...r)},lb=o=>typeof o=="object"&&o!==null&&"status"in o&&"ok"in o&&"json"in o&&typeof o.json=="function",Dn=async(o,n,r)=>{await o.setItem(n,JSON.stringify(r))},ks=async(o,n)=>{const r=await o.getItem(n);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Qa=async(o,n)=>{await o.removeItem(n)};class bl{constructor(){this.promise=new bl.promiseConstructor((n,r)=>{this.resolve=n,this.reject=r})}}bl.promiseConstructor=Promise;function Qc(o){const n=o.split(".");if(n.length!==3)throw new uu("Invalid JWT structure");for(let l=0;l<n.length;l++)if(!Yx.test(n[l]))throw new uu("JWT not in base64url format");return{header:JSON.parse(Zm(n[0])),payload:JSON.parse(Zm(n[1])),signature:tb(n[2]),raw:{header:n[0],payload:n[1]}}}async function ob(o){return await new Promise(n=>{setTimeout(()=>n(null),o)})}function cb(o,n){return new Promise((l,u)=>{(async()=>{for(let h=0;h<1/0;h++)try{const f=await o(h);if(!n(h,null,f)){l(f);return}}catch(f){if(!n(h,f)){u(f);return}}})()})}function ub(o){return("0"+o.toString(16)).substr(-2)}function db(){const n=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=r.length;let u="";for(let h=0;h<56;h++)u+=r.charAt(Math.floor(Math.random()*l));return u}return crypto.getRandomValues(n),Array.from(n,ub).join("")}async function hb(o){const r=new TextEncoder().encode(o),l=await crypto.subtle.digest("SHA-256",r),u=new Uint8Array(l);return Array.from(u).map(h=>String.fromCharCode(h)).join("")}async function fb(o){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),o;const r=await hb(o);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function An(o,n,r=!1){const l=db();let u=l;r&&(u+="/PASSWORD_RECOVERY"),await Dn(o,`${n}-code-verifier`,u);const h=await fb(l);return[h,l===h?"plain":"s256"]}const mb=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function gb(o){const n=o.headers.get(ou);if(!n||!n.match(mb))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function pb(o){if(!o)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(o<=n)throw new Error("JWT has expired")}function vb(o){switch(o){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const yb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function On(o){if(!yb.test(o))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Xc(){const o={};return new Proxy(o,{get:(n,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const l=r.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Wm(o){return JSON.parse(JSON.stringify(o))}var xb=function(o,n){var r={};for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&n.indexOf(l)<0&&(r[l]=o[l]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(o);u<l.length;u++)n.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(o,l[u])&&(r[l[u]]=o[l[u]]);return r};const Ts=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),bb=[502,503,504];async function Im(o){var n;if(!lb(o))throw new cu(Ts(o),0);if(bb.includes(o.status))throw new cu(Ts(o),o.status);let r;try{r=await o.json()}catch(h){throw new z0(Ts(h),h)}let l;const u=gb(o);if(u&&u.getTime()>=U0["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?l=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(l=r.error_code),l){if(l==="weak_password")throw new Qm(Ts(r),o.status,((n=r.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(l==="session_not_found")throw new Xa}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((h,f)=>h&&typeof f=="string",!0))throw new Qm(Ts(r),o.status,r.weak_password.reasons);throw new Qx(Ts(r),o.status||500,l)}const jb=(o,n,r,l)=>{const u={method:o,headers:n?.headers||{}};return o==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),u.body=JSON.stringify(l),Object.assign(Object.assign({},u),r))};async function _e(o,n,r,l){var u;const h=Object.assign({},l?.headers);h[ou]||(h[ou]=U0["2024-01-01"].name),l?.jwt&&(h.Authorization=`Bearer ${l.jwt}`);const f=(u=l?.query)!==null&&u!==void 0?u:{};l?.redirectTo&&(f.redirect_to=l.redirectTo);const g=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",p=await wb(o,n,r+g,{headers:h,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(p):{data:Object.assign({},p),error:null}}async function wb(o,n,r,l,u,h){const f=jb(n,l,u,h);let g;try{g=await o(r,Object.assign({},f))}catch(p){throw console.error(p),new cu(Ts(p),0)}if(g.ok||await Im(g),l?.noResolveJson)return g;try{return await g.json()}catch(p){await Im(p)}}function ba(o){var n;let r=null;kb(o)&&(r=Object.assign({},o),o.expires_at||(r.expires_at=nb(o.expires_in)));const l=(n=o.user)!==null&&n!==void 0?n:o;return{data:{session:r,user:l},error:null}}function Fm(o){const n=ba(o);return!n.error&&o.weak_password&&typeof o.weak_password=="object"&&Array.isArray(o.weak_password.reasons)&&o.weak_password.reasons.length&&o.weak_password.message&&typeof o.weak_password.message=="string"&&o.weak_password.reasons.reduce((r,l)=>r&&typeof l=="string",!0)&&(n.data.weak_password=o.weak_password),n}function Ja(o){var n;return{data:{user:(n=o.user)!==null&&n!==void 0?n:o},error:null}}function _b(o){return{data:o,error:null}}function Sb(o){const{action_link:n,email_otp:r,hashed_token:l,redirect_to:u,verification_type:h}=o,f=xb(o,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:n,email_otp:r,hashed_token:l,redirect_to:u,verification_type:h},p=Object.assign({},f);return{data:{properties:g,user:p},error:null}}function Nb(o){return o}function kb(o){return o.access_token&&o.refresh_token&&o.expires_in}const Jc=["global","local","others"];var Tb=function(o,n){var r={};for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&n.indexOf(l)<0&&(r[l]=o[l]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(o);u<l.length;u++)n.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(o,l[u])&&(r[l[u]]=o[l[u]]);return r};class Eb{constructor({url:n="",headers:r={},fetch:l}){this.url=n,this.headers=r,this.fetch=q0(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(n,r=Jc[0]){if(Jc.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Jc.join(", ")}`);try{return await _e(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(l){if(pe(l))return{data:null,error:l};throw l}}async inviteUserByEmail(n,r={}){try{return await _e(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ja})}catch(l){if(pe(l))return{data:{user:null},error:l};throw l}}async generateLink(n){try{const{options:r}=n,l=Tb(n,["options"]),u=Object.assign(Object.assign({},l),r);return"newEmail"in l&&(u.new_email=l?.newEmail,delete u.newEmail),await _e(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:Sb,redirectTo:r?.redirectTo})}catch(r){if(pe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(n){try{return await _e(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Ja})}catch(r){if(pe(r))return{data:{user:null},error:r};throw r}}async listUsers(n){var r,l,u,h,f,g,p;try{const v={nextPage:null,lastPage:0,total:0},x=await _e(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(r=n?.page)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:"",per_page:(h=(u=n?.perPage)===null||u===void 0?void 0:u.toString())!==null&&h!==void 0?h:""},xform:Nb});if(x.error)throw x.error;const b=await x.json(),S=(f=x.headers.get("x-total-count"))!==null&&f!==void 0?f:0,T=(p=(g=x.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&p!==void 0?p:[];return T.length>0&&(T.forEach(O=>{const E=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(O.split(";")[1].split("=")[1]);v[`${w}Page`]=E}),v.total=parseInt(S)),{data:Object.assign(Object.assign({},b),v),error:null}}catch(v){if(pe(v))return{data:{users:[]},error:v};throw v}}async getUserById(n){On(n);try{return await _e(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Ja})}catch(r){if(pe(r))return{data:{user:null},error:r};throw r}}async updateUserById(n,r){On(n);try{return await _e(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:r,headers:this.headers,xform:Ja})}catch(l){if(pe(l))return{data:{user:null},error:l};throw l}}async deleteUser(n,r=!1){On(n);try{return await _e(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ja})}catch(l){if(pe(l))return{data:{user:null},error:l};throw l}}async _listFactors(n){On(n.userId);try{const{data:r,error:l}=await _e(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:r,error:l}}catch(r){if(pe(r))return{data:null,error:r};throw r}}async _deleteFactor(n){On(n.userId),On(n.id);try{return{data:await _e(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}}}function e0(o={}){return{getItem:n=>o[n]||null,setItem:(n,r)=>{o[n]=r},removeItem:n=>{delete o[n]}}}function Ab(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Cn={debug:!!(globalThis&&H0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class P0 extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class Ob extends P0{}async function Cb(o,n,r){Cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",o,n);const l=new globalThis.AbortController;return n>0&&setTimeout(()=>{l.abort(),Cn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",o)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(o,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async u=>{if(u){Cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",o,u.name);try{return await r()}finally{Cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",o,u.name)}}else{if(n===0)throw Cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",o),new Ob(`Acquiring an exclusive Navigator LockManager lock "${o}" immediately failed`);if(Cn.debug)try{const h=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(h,null,"  "))}catch(h){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",h)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Ab();const Rb={url:$x,storageKey:Gx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Vx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function t0(o,n,r){return await r()}const Rn={};class Gi{constructor(n){var r,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Gi.nextInstanceID,Gi.nextInstanceID+=1,this.instanceID>0&&Xt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const u=Object.assign(Object.assign({},Rb),n);if(this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.persistSession=u.persistSession,this.storageKey=u.storageKey,this.autoRefreshToken=u.autoRefreshToken,this.admin=new Eb({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=q0(u.fetch),this.lock=u.lock||t0,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,u.lock?this.lock=u.lock:Xt()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=Cb:this.lock=t0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:H0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=e0(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=e0(this.memoryStorage)),Xt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h),await this._notifyAllSubscribers(h.data.event,h.data.session,!1)})}this.initialize()}get jwks(){var n,r;return(r=(n=Rn[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){Rn[this.storageKey]=Object.assign(Object.assign({},Rn[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=Rn[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Rn[this.storageKey]=Object.assign(Object.assign({},Rn[this.storageKey]),{cachedAt:n})}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${L0}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{const r=rb(window.location.href);let l="none";if(this._isImplicitGrantCallback(r)?l="implicit":await this._isPKCECallback(r)&&(l="pkce"),Xt()&&this.detectSessionInUrl&&l!=="none"){const{data:u,error:h}=await this._getSessionFromURL(r,l);if(h){if(this._debug("#_initialize()","error detecting session from URL",h),Zx(h)){const p=(n=h.details)===null||n===void 0?void 0:n.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:h}}return await this._removeSession(),{error:h}}const{session:f,redirectType:g}=u;return this._debug("#_initialize()","detected session in URL",f,"redirect type",g),await this._saveSession(f),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return pe(r)?{error:r}:{error:new z0("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var r,l,u;try{const h=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(u=n?.options)===null||u===void 0?void 0:u.captchaToken}},xform:ba}),{data:f,error:g}=h;if(g||!f)return{data:{user:null,session:null},error:g};const p=f.session,v=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:v,session:p},error:null}}catch(h){if(pe(h))return{data:{user:null,session:null},error:h};throw h}}async signUp(n){var r,l,u;try{let h;if("email"in n){const{email:x,password:b,options:S}=n;let T=null,O=null;this.flowType==="pkce"&&([T,O]=await An(this.storage,this.storageKey)),h=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S?.emailRedirectTo,body:{email:x,password:b,data:(r=S?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:S?.captchaToken},code_challenge:T,code_challenge_method:O},xform:ba})}else if("phone"in n){const{phone:x,password:b,options:S}=n;h=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:b,data:(l=S?.data)!==null&&l!==void 0?l:{},channel:(u=S?.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:S?.captchaToken}},xform:ba})}else throw new hl("You must provide either an email or phone number and a password");const{data:f,error:g}=h;if(g||!f)return{data:{user:null,session:null},error:g};const p=f.session,v=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:v,session:p},error:null}}catch(h){if(pe(h))return{data:{user:null,session:null},error:h};throw h}}async signInWithPassword(n){try{let r;if("email"in n){const{email:h,password:f,options:g}=n;r=await _e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:h,password:f,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:Fm})}else if("phone"in n){const{phone:h,password:f,options:g}=n;r=await _e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:h,password:f,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:Fm})}else throw new hl("You must provide either an email or phone number and a password");const{data:l,error:u}=r;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new dl}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:u})}catch(r){if(pe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(n){var r,l,u,h;return await this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(l=n.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=n.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(h=n.options)===null||h===void 0?void 0:h.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:r}=n;if(r==="solana")return await this.signInWithSolana(n);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(n){var r,l,u,h,f,g,p,v,x,b,S,T;let O,E;if("message"in n)O=n.message,E=n.signature;else{const{chain:w,wallet:P,statement:H,options:q}=n;let Q;if(Xt())if(typeof P=="object")Q=P;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))Q=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof P!="object"||!q?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Q=P}const X=new URL((r=q?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in Q&&Q.signIn){const I=await Q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},q?.signInWithSolana),{version:"1",domain:X.host,uri:X.href}),H?{statement:H}:null));let ie;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")ie=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)ie=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ie&&"signature"in ie&&(typeof ie.signedMessage=="string"||ie.signedMessage instanceof Uint8Array)&&ie.signature instanceof Uint8Array)O=typeof ie.signedMessage=="string"?ie.signedMessage:new TextDecoder().decode(ie.signedMessage),E=ie.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Q)||typeof Q.signMessage!="function"||!("publicKey"in Q)||typeof Q!="object"||!Q.publicKey||!("toBase58"in Q.publicKey)||typeof Q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");O=[`${X.host} wants you to sign in with your Solana account:`,Q.publicKey.toBase58(),...H?["",H,""]:[""],"Version: 1",`URI: ${X.href}`,`Issued At: ${(u=(l=q?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((h=q?.signInWithSolana)===null||h===void 0)&&h.notBefore?[`Not Before: ${q.signInWithSolana.notBefore}`]:[],...!((f=q?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${q.signInWithSolana.expirationTime}`]:[],...!((g=q?.signInWithSolana)===null||g===void 0)&&g.chainId?[`Chain ID: ${q.signInWithSolana.chainId}`]:[],...!((p=q?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${q.signInWithSolana.nonce}`]:[],...!((v=q?.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${q.signInWithSolana.requestId}`]:[],...!((b=(x=q?.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||b===void 0)&&b.length?["Resources",...q.signInWithSolana.resources.map(ie=>`- ${ie}`)]:[]].join(`
`);const I=await Q.signMessage(new TextEncoder().encode(O),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=I}}try{const{data:w,error:P}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:O,signature:sb(E)},!((S=n.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(T=n.options)===null||T===void 0?void 0:T.captchaToken}}:null),xform:ba});if(P)throw P;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new dl}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:P})}catch(w){if(pe(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(n){const r=await ks(this.storage,`${this.storageKey}-code-verifier`),[l,u]=(r??"").split("/");try{const{data:h,error:f}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:l},xform:ba});if(await Qa(this.storage,`${this.storageKey}-code-verifier`),f)throw f;return!h||!h.session||!h.user?{data:{user:null,session:null,redirectType:null},error:new dl}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:Object.assign(Object.assign({},h),{redirectType:u??null}),error:f})}catch(h){if(pe(h))return{data:{user:null,session:null,redirectType:null},error:h};throw h}}async signInWithIdToken(n){try{const{options:r,provider:l,token:u,access_token:h,nonce:f}=n,g=await _e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:u,access_token:h,nonce:f,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:ba}),{data:p,error:v}=g;return v?{data:{user:null,session:null},error:v}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new dl}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:v})}catch(r){if(pe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(n){var r,l,u,h,f;try{if("email"in n){const{email:g,options:p}=n;let v=null,x=null;this.flowType==="pkce"&&([v,x]=await An(this.storage,this.storageKey));const{error:b}=await _e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(r=p?.data)!==null&&r!==void 0?r:{},create_user:(l=p?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:v,code_challenge_method:x},redirectTo:p?.emailRedirectTo});return{data:{user:null,session:null},error:b}}if("phone"in n){const{phone:g,options:p}=n,{data:v,error:x}=await _e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(u=p?.data)!==null&&u!==void 0?u:{},create_user:(h=p?.shouldCreateUser)!==null&&h!==void 0?h:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(f=p?.channel)!==null&&f!==void 0?f:"sms"}});return{data:{user:null,session:null,messageId:v?.message_id},error:x}}throw new hl("You must provide either an email or phone number.")}catch(g){if(pe(g))return{data:{user:null,session:null},error:g};throw g}}async verifyOtp(n){var r,l;try{let u,h;"options"in n&&(u=(r=n.options)===null||r===void 0?void 0:r.redirectTo,h=(l=n.options)===null||l===void 0?void 0:l.captchaToken);const{data:f,error:g}=await _e(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:h}}),redirectTo:u,xform:ba});if(g)throw g;if(!f)throw new Error("An error occurred on token verification.");const p=f.session,v=f.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:v,session:p},error:null}}catch(u){if(pe(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithSSO(n){var r,l,u;try{let h=null,f=null;return this.flowType==="pkce"&&([h,f]=await An(this.storage,this.storageKey)),await _e(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(l=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&l!==void 0?l:void 0}),!((u=n?.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:f}),headers:this.headers,xform:_b})}catch(h){if(pe(h))return{data:null,error:h};throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:r},error:l}=n;if(l)throw l;if(!r)throw new Xa;const{error:u}=await _e(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:u}})}catch(n){if(pe(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{const r=`${this.url}/resend`;if("email"in n){const{email:l,type:u,options:h}=n,{error:f}=await _e(this.fetch,"POST",r,{headers:this.headers,body:{email:l,type:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},redirectTo:h?.emailRedirectTo});return{data:{user:null,session:null},error:f}}else if("phone"in n){const{phone:l,type:u,options:h}=n,{data:f,error:g}=await _e(this.fetch,"POST",r,{headers:this.headers,body:{phone:l,type:u,gotrue_meta_security:{captcha_token:h?.captchaToken}}});return{data:{user:null,session:null,messageId:f?.message_id},error:g}}throw new hl("You must provide either an email or phone number and a type")}catch(r){if(pe(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(n,r){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await l,await r()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=r();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await n(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const r=await ks(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const l=n.expires_at?n.expires_at*1e3-Date.now()<Yc:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",n.expires_at),!l){if(this.userStorage){const f=await ks(this.userStorage,this.storageKey+"-user");f?.user?n.user=f.user:n.user=Xc()}if(this.storage.isServer&&n.user){let f=this.suppressGetSessionWarning;n=new Proxy(n,{get:(p,v,x)=>(!f&&v==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),f=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,v,x))})}return{data:{session:n},error:null}}const{session:u,error:h}=await this._callRefreshToken(n.refresh_token);return h?{data:{session:null},error:h}:{data:{session:u},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await _e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Ja}):await this._useSession(async r=>{var l,u,h;const{data:f,error:g}=r;if(g)throw g;return!(!((l=f.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Xa}:await _e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(h=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0,xform:Ja})})}catch(r){if(pe(r))return Jx(r)&&(await this._removeSession(),await Qa(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(n,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,r))}async _updateUser(n,r={}){try{return await this._useSession(async l=>{const{data:u,error:h}=l;if(h)throw h;if(!u.session)throw new Xa;const f=u.session;let g=null,p=null;this.flowType==="pkce"&&n.email!=null&&([g,p]=await An(this.storage,this.storageKey));const{data:v,error:x}=await _e(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:g,code_challenge_method:p}),jwt:f.access_token,xform:Ja});if(x)throw x;return f.user=v.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),{data:{user:f.user},error:null}})}catch(l){if(pe(l))return{data:{user:null},error:l};throw l}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Xa;const r=Date.now()/1e3;let l=r,u=!0,h=null;const{payload:f}=Qc(n.access_token);if(f.exp&&(l=f.exp,u=l<=r),u){const{session:g,error:p}=await this._callRefreshToken(n.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!g)return{data:{user:null,session:null},error:null};h=g}else{const{data:g,error:p}=await this._getUser(n.access_token);if(p)throw p;h={access_token:n.access_token,refresh_token:n.refresh_token,user:g.user,token_type:"bearer",expires_in:l-r,expires_at:l},await this._saveSession(h),await this._notifyAllSubscribers("SIGNED_IN",h)}return{data:{user:h.user,session:h},error:null}}catch(r){if(pe(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async r=>{var l;if(!n){const{data:f,error:g}=r;if(g)throw g;n=(l=f.session)!==null&&l!==void 0?l:void 0}if(!n?.refresh_token)throw new Xa;const{session:u,error:h}=await this._callRefreshToken(n.refresh_token);return h?{data:{user:null,session:null},error:h}:u?{data:{user:u.user,session:u},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(pe(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(n,r){try{if(!Xt())throw new fl("No browser detected.");if(n.error||n.error_description||n.error_code)throw new fl(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Km("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new fl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Km("No code detected.");const{data:H,error:q}=await this._exchangeCodeForSession(n.code);if(q)throw q;const Q=new URL(window.location.href);return Q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Q.toString()),{data:{session:H.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:u,access_token:h,refresh_token:f,expires_in:g,expires_at:p,token_type:v}=n;if(!h||!g||!f||!v)throw new fl("No session defined in URL");const x=Math.round(Date.now()/1e3),b=parseInt(g);let S=x+b;p&&(S=parseInt(p));const T=S-x;T*1e3<=Mn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${T}s, should have been closer to ${b}s`);const O=S-b;x-O>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",O,S,x):x-O<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",O,S,x);const{data:E,error:w}=await this._getUser(h);if(w)throw w;const P={provider_token:l,provider_refresh_token:u,access_token:h,expires_in:b,expires_at:S,refresh_token:f,token_type:v,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:P,redirectType:n.type},error:null}}catch(l){if(pe(l))return{data:{session:null,redirectType:null},error:l};throw l}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const r=await ks(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async r=>{var l;const{data:u,error:h}=r;if(h)return{error:h};const f=(l=u.session)===null||l===void 0?void 0:l.access_token;if(f){const{error:g}=await this.admin.signOut(f,n);if(g&&!(Xx(g)&&(g.status===404||g.status===401||g.status===403)))return{error:g}}return n!=="others"&&(await this._removeSession(),await Qa(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(n){const r=ib(),l={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:l}}}async _emitInitialSession(n){return await this._useSession(async r=>{var l,u;try{const{data:{session:h},error:f}=r;if(f)throw f;await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",h)),this._debug("INITIAL_SESSION","callback id",n,"session",h)}catch(h){await((u=this.stateChangeEmitters.get(n))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",h),console.error(h)}})}async resetPasswordForEmail(n,r={}){let l=null,u=null;this.flowType==="pkce"&&([l,u]=await An(this.storage,this.storageKey,!0));try{return await _e(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:l,code_challenge_method:u,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(h){if(pe(h))return{data:null,error:h};throw h}}async getUserIdentities(){var n;try{const{data:r,error:l}=await this.getUser();if(l)throw l;return{data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}}async linkIdentity(n){var r;try{const{data:l,error:u}=await this._useSession(async h=>{var f,g,p,v,x;const{data:b,error:S}=h;if(S)throw S;const T=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(g=n.options)===null||g===void 0?void 0:g.scopes,queryParams:(p=n.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await _e(this.fetch,"GET",T,{headers:this.headers,jwt:(x=(v=b.session)===null||v===void 0?void 0:v.access_token)!==null&&x!==void 0?x:void 0})});if(u)throw u;return Xt()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(l?.url),{data:{provider:n.provider,url:l?.url},error:null}}catch(l){if(pe(l))return{data:{provider:n.provider,url:null},error:l};throw l}}async unlinkIdentity(n){try{return await this._useSession(async r=>{var l,u;const{data:h,error:f}=r;if(f)throw f;return await _e(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(u=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})})}catch(r){if(pe(r))return{data:null,error:r};throw r}}async _refreshAccessToken(n){const r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{const l=Date.now();return await cb(async u=>(u>0&&await ob(200*Math.pow(2,u-1)),this._debug(r,"refreshing attempt",u),await _e(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:ba})),(u,h)=>{const f=200*Math.pow(2,u);return h&&Kc(h)&&Date.now()+f-l<Mn})}catch(l){if(this._debug(r,"error",l),pe(l))return{data:{session:null,user:null},error:l};throw l}finally{this._debug(r,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,r){const l=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",l),Xt()&&!r.skipBrowserRedirect&&window.location.assign(l),{data:{provider:n,url:l},error:null}}async _recoverAndRefresh(){var n,r;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const u=await ks(this.storage,this.storageKey);if(u&&this.userStorage){let f=await ks(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:u.user},await Dn(this.userStorage,this.storageKey+"-user",f)),u.user=(n=f?.user)!==null&&n!==void 0?n:Xc()}else if(u&&!u.user&&!u.user){const f=await ks(this.storage,this.storageKey+"-user");f&&f?.user?(u.user=f.user,await Qa(this.storage,this.storageKey+"-user"),await Dn(this.storage,this.storageKey,u)):u.user=Xc()}if(this._debug(l,"session from storage",u),!this._isValidSession(u)){this._debug(l,"session is not valid"),u!==null&&await this._removeSession();return}const h=((r=u.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Yc;if(this._debug(l,`session has${h?"":" not"} expired with margin of ${Yc}s`),h){if(this.autoRefreshToken&&u.refresh_token){const{error:f}=await this._callRefreshToken(u.refresh_token);f&&(console.error(f),Kc(f)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:g}=await this._getUser(u.access_token);!g&&f?.user?(u.user=f.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(l,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(l,"error",u),console.error(u);return}finally{this._debug(l,"end")}}async _callRefreshToken(n){var r,l;if(!n)throw new Xa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new bl;const{data:h,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!h.session)throw new Xa;await this._saveSession(h.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",h.session);const g={session:h.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(h){if(this._debug(u,"error",h),pe(h)){const f={session:null,error:h};return Kc(h)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(f),f}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(h),h}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(n,r,l=!0){const u=`#_notifyAllSubscribers(${n})`;this._debug(u,"begin",r,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:n,session:r});const h=[],f=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(n,r)}catch(p){h.push(p)}});if(await Promise.all(f),h.length>0){for(let g=0;g<h.length;g+=1)console.error(h[g]);throw h[0]}}finally{this._debug(u,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;const r=Object.assign({},n),l=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&r.user&&await Dn(this.userStorage,this.storageKey+"-user",{user:r.user});const u=Object.assign({},r);delete u.user;const h=Wm(u);await Dn(this.storage,this.storageKey,h)}else{const u=Wm(r);await Dn(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),await Qa(this.storage,this.storageKey),await Qa(this.storage,this.storageKey+"-code-verifier"),await Qa(this.storage,this.storageKey+"-user"),this.userStorage&&await Qa(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&Xt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Mn);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async r=>{const{data:{session:l}}=r;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((l.expires_at*1e3-n)/Mn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${Mn}ms, refresh threshold is ${lu} ticks`),u<=lu&&await this._callRefreshToken(l.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof P0)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Xt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,r,l){const u=[`provider=${encodeURIComponent(r)}`];if(l?.redirectTo&&u.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&u.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[h,f]=await An(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(h)}`,code_challenge_method:`${encodeURIComponent(f)}`});u.push(g.toString())}if(l?.queryParams){const h=new URLSearchParams(l.queryParams);u.push(h.toString())}return l?.skipBrowserRedirect&&u.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${n}?${u.join("&")}`}async _unenroll(n){try{return await this._useSession(async r=>{var l;const{data:u,error:h}=r;return h?{data:null,error:h}:await _e(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token})})}catch(r){if(pe(r))return{data:null,error:r};throw r}}async _enroll(n){try{return await this._useSession(async r=>{var l,u;const{data:h,error:f}=r;if(f)return{data:null,error:f};const g=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:{issuer:n.issuer}),{data:p,error:v}=await _e(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(l=h?.session)===null||l===void 0?void 0:l.access_token});return v?{data:null,error:v}:(n.factorType==="totp"&&(!((u=p?.totp)===null||u===void 0)&&u.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(r){if(pe(r))return{data:null,error:r};throw r}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var l;const{data:u,error:h}=r;if(h)return{data:null,error:h};const{data:f,error:g}=await _e(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token});return g?{data:null,error:g}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:g})})}catch(r){if(pe(r))return{data:null,error:r};throw r}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var l;const{data:u,error:h}=r;return h?{data:null,error:h}:await _e(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:{channel:n.channel},headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token})})}catch(r){if(pe(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(n){const{data:r,error:l}=await this._challenge({factorId:n.factorId});return l?{data:null,error:l}:await this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})}async _listFactors(){const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const l=n?.factors||[],u=l.filter(f=>f.factor_type==="totp"&&f.status==="verified"),h=l.filter(f=>f.factor_type==="phone"&&f.status==="verified");return{data:{all:l,totp:u,phone:h},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async n=>{var r,l;const{data:{session:u},error:h}=n;if(h)return{data:null,error:h};if(!u)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=Qc(u.access_token);let g=null;f.aal&&(g=f.aal);let p=g;((l=(r=u.user.factors)===null||r===void 0?void 0:r.filter(b=>b.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(p="aal2");const x=f.amr||[];return{data:{currentLevel:g,nextLevel:p,currentAuthenticationMethods:x},error:null}}))}async fetchJwk(n,r={keys:[]}){let l=r.keys.find(g=>g.kid===n);if(l)return l;const u=Date.now();if(l=this.jwks.keys.find(g=>g.kid===n),l&&this.jwks_cached_at+Kx>u)return l;const{data:h,error:f}=await _e(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!h.keys||h.keys.length===0||(this.jwks=h,this.jwks_cached_at=u,l=h.keys.find(g=>g.kid===n),!l)?null:l}async getClaims(n,r={}){try{let l=n;if(!l){const{data:T,error:O}=await this.getSession();if(O||!T.session)return{data:null,error:O};l=T.session.access_token}const{header:u,payload:h,signature:f,raw:{header:g,payload:p}}=Qc(l);r?.allowExpired||pb(h.exp);const v=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!v){const{error:T}=await this.getUser(l);if(T)throw T;return{data:{claims:h,header:u,signature:f},error:null}}const x=vb(u.alg),b=await crypto.subtle.importKey("jwk",v,x,!0,["verify"]);if(!await crypto.subtle.verify(x,b,f,ab(`${g}.${p}`)))throw new uu("Invalid JWT signature");return{data:{claims:h,header:u,signature:f},error:null}}catch(l){if(pe(l))return{data:null,error:l};throw l}}}Gi.nextInstanceID=0;const Mb=Gi;class Db extends Mb{constructor(n){super(n)}}var Lb=function(o,n,r,l){function u(h){return h instanceof r?h:new r(function(f){f(h)})}return new(r||(r=Promise))(function(h,f){function g(x){try{v(l.next(x))}catch(b){f(b)}}function p(x){try{v(l.throw(x))}catch(b){f(b)}}function v(x){x.done?h(x.value):u(x.value).then(g,p)}v((l=l.apply(o,n||[])).next())})};class Ub{constructor(n,r,l){var u,h,f;if(this.supabaseUrl=n,this.supabaseKey=r,!n)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const g=qx(n),p=new URL(g);this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const v=`sb-${p.hostname.split(".")[0]}-auth-token`,x={db:Rx,realtime:Dx,auth:Object.assign(Object.assign({},Mx),{storageKey:v}),global:Cx},b=Px(l??{},x);this.storageKey=(u=b.auth.storageKey)!==null&&u!==void 0?u:"",this.headers=(h=b.global.headers)!==null&&h!==void 0?h:{},b.accessToken?(this.accessToken=b.accessToken,this.auth=new Proxy({},{get:(S,T)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(T)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((f=b.auth)!==null&&f!==void 0?f:{},this.headers,b.global.fetch),this.fetch=Bx(r,this._getAccessToken.bind(this),b.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},b.realtime)),this.rest=new Iy(new URL("rest/v1",p).href,{headers:this.headers,schema:b.db.schema,fetch:this.fetch}),this.storage=new Ex(this.storageUrl.href,this.headers,this.fetch,l?.storage),b.accessToken||this._listenForAuthEvents()}get functions(){return new $y(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,r={},l={}){return this.rest.rpc(n,r,l)}channel(n,r={config:{}}){return this.realtime.channel(n,r)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,r;return Lb(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:l}=yield this.auth.getSession();return(r=(n=l.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:r,detectSessionInUrl:l,storage:u,storageKey:h,flowType:f,lock:g,debug:p},v,x){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Db({url:this.authUrl.href,headers:Object.assign(Object.assign({},b),v),storageKey:h,autoRefreshToken:n,persistSession:r,detectSessionInUrl:l,storage:u,flowType:f,lock:g,debug:p,fetch:x,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(n){return new gx(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,l)=>{this._handleTokenChanged(r,"CLIENT",l?.access_token)})}_handleTokenChanged(n,r,l){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==l?this.changedAccessToken=l:n==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const zb=(o,n,r)=>new Ub(o,n,r);function Bb(){if(typeof window<"u"||typeof process>"u")return!1;const o=process.version;if(o==null)return!1;const n=o.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}Bb()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Hb="https://oxsoiybopcjodqfejscg.supabase.co",qb="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im94c29peWJvcGNqb2RxZmVqc2NnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI5OTkwNzYsImV4cCI6MjA2ODU3NTA3Nn0.EomX4POMfFpyo9X8B0oPo7oaVBKHXusJPPkKA4kY-cY",Ve=zb(Hb,qb),Pb=["Babakan Madang","Bojonggede","Cariu","Ciampea","Cibinong","Cisarua","Citeureup","Dramaga","Gunung Putri","Gunung Sindur","Jasinga","Jonggol","Kemang","Klapanunggal","Leuwiliang","Leuwisadeng","Megamendung","Nanggung","Pamijahan","Parung","Parung Panjang","Rancabungur","Sukajaya","Sukamakmur","Sukaraja","Tajurhalang","Tamansari","Tanjungsari","Tenjo","Tenjolaya","Cigombong","Cigudeg","Cijeruk","Cileungsi","Ciomas","Cibungbulang","Cihideung","Ciseeng","Kelapa Nunggal","Rumpin"];function $b(){const{user:o}=Gt(),n=St(),[r,l]=_.useState({service_id:"",location_id:"",service_date:"",notes:"",volume:1,schedule_slot:""}),[u,h]=_.useState([]),[f,g]=_.useState([]),[p,v]=_.useState(!1),[x,b]=_.useState(""),[S,T]=_.useState([]),[O,E]=_.useState({}),[w,P]=_.useState(!1);function H(z){if(!z)return!1;const L=z.toLowerCase();return Pb.some(F=>L.includes(F.toLowerCase()))}_.useEffect(()=>{q(),Q(),X()},[]),_.useEffect(()=>{r.service_date&&I(r.service_date)},[r.service_date]);const q=async()=>{const{data:z,error:L}=await Ve.from("services").select("*").eq("is_active",!0);L||h(z)},Q=async()=>{const{data:z,error:L}=await Ve.from("user_locations").select("*").eq("user_id",o.id);L||g(z)},X=async()=>{const{data:z,error:L}=await Ve.from("schedule_slots").select("*").eq("is_active",!0).order("id",{ascending:!0});!L&&z&&T(z.map(F=>F.slot))},I=async z=>{P(!0);const L={};await Promise.all(S.map(async F=>{try{const me=await(await fetch(`https://settled-modern-stinkbug.ngrok-free.app/api/reservations/availability?service_date=${encodeURIComponent(z)}&schedule_slot=${encodeURIComponent(F)}`,{headers:{"ngrok-skip-browser-warning":"true"}})).json();L[F]=me.available}catch{L[F]=!0}})),E(L),r.schedule_slot&&L[r.schedule_slot]===!1&&l(F=>({...F,schedule_slot:""})),P(!1)},ie=()=>{if(!fe)return 0;const z=parseInt(r.volume,10)||1,L=Math.ceil(z/3);return fe.price*L},oe=z=>{const{name:L,value:F}=z.target;if(L==="location_id"){const de=f.find(me=>me.id===F);if(de){const me=H(de.address);let M=null;me?M=u.find(J=>J.name.toLowerCase().includes("kabu")):M=u.find(J=>J.name.toLowerCase().includes("kota")),l(J=>({...J,location_id:F,service_id:M?M.id:J.service_id}));return}}if(L==="service_date"){l({...r,[L]:F,schedule_slot:""});return}l({...r,[L]:F})},Te=async z=>{z.preventDefault(),v(!0),b("");try{const L=await fetch("https://settled-modern-stinkbug.ngrok-free.app/api/reservations",{method:"POST",headers:{"Content-Type":"application/json","ngrok-skip-browser-warning":"true"},body:JSON.stringify({user_id:o.id,service_id:r.service_id,location_id:r.location_id,service_date:r.service_date,notes:r.notes,volume:r.volume,schedule_slot:r.schedule_slot})}),F=await L.json();if(L.ok){const de=F.redirect_url.split("/"),me=de[de.length-1];window.snap&&me?window.snap.pay(me,{onSuccess:function(M){n("/riwayat")},onPending:function(M){n("/riwayat")},onError:function(M){b("Pembayaran gagal. Silakan coba lagi.")},onClose:function(){n("/riwayat")}}):window.location.href=F.redirect_url}else b(F.error||"Gagal membuat reservasi")}catch{b("Terjadi kesalahan saat membuat reservasi")}v(!1)},fe=u.find(z=>z.id===r.service_id);return i.jsxs("div",{className:"min-h-screen bg-secondary-50",children:[i.jsx(wa,{}),i.jsxs("div",{className:"max-w-4xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Buat Reservasi Baru"}),i.jsx("p",{className:"text-secondary-600 mt-1",children:"Buat reservasi layanan pengolahan air limbah dengan mudah"})]}),i.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[i.jsx("div",{className:"lg:col-span-2",children:i.jsx("div",{className:"card p-6",children:i.jsxs("form",{onSubmit:Te,className:"space-y-6",children:[x&&i.jsx("div",{className:"bg-danger-50 border border-danger-200 rounded-lg p-4 animate-slide-down",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("svg",{className:"w-5 h-5 text-danger-600 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.96-.833-2.73 0L3.084 16.5c-.77.833.192 2.5 1.732 2.5z"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-danger-800",children:"Gagal Membuat Reservasi"}),i.jsx("p",{className:"text-sm text-danger-700 mt-1",children:x})]})]})}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Lokasi *"}),i.jsxs("select",{name:"location_id",required:!0,className:"input-primary pr-10 appearance-none",value:r.location_id,onChange:oe,children:[i.jsx("option",{value:"",children:"Pilih Lokasi"}),f.map(z=>i.jsxs("option",{value:z.id,children:[z.label," - ",z.address]},z.id))]}),f.length===0&&i.jsxs("p",{className:"mt-1 text-sm text-danger-600",children:["Anda belum memiliki lokasi tersimpan."," ",i.jsx(We,{to:"/profile",className:"text-primary-600 underline hover:text-primary-800",children:"Tambah lokasi terlebih dahulu."})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Jenis Layanan"}),i.jsxs("div",{className:"bg-secondary-100 rounded-lg px-4 py-3 border border-secondary-200",children:[i.jsx("div",{className:"font-semibold text-secondary-900",children:fe?fe.name:"Pilih lokasi terlebih dahulu"}),fe&&i.jsxs("div",{className:"text-sm text-secondary-600",children:["Rp ",fe.price?.toLocaleString()," ",fe.unit]})]}),i.jsx("div",{className:"text-xs text-secondary-500 mt-2",children:"Jenis layanan dipilih otomatis berdasarkan alamat lokasi Anda."}),i.jsx("input",{type:"hidden",name:"service_id",value:r.service_id})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Volume (m) *"}),i.jsx("input",{name:"volume",type:"number",min:1,required:!0,className:"input-primary",value:r.volume,onChange:oe})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Tanggal Layanan *"}),i.jsx("input",{name:"service_date",type:"date",required:!0,className:"input-primary",value:r.service_date,onChange:oe,min:new Date().toISOString().split("T")[0]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Pilih Slot Waktu *"}),w&&r.service_date&&i.jsx("div",{className:"flex items-center justify-center py-8 mb-4",children:i.jsx("span",{className:"text-sm text-primary-600",children:"Mengecek ketersediaan slot..."})}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:S.map(z=>{const L=O[z]===!1,F=L||!r.service_date||w;return i.jsx("button",{type:"button",className:`px-3 py-2 rounded-lg border font-medium transition-all duration-200 ${r.schedule_slot===z?"bg-primary-600 text-white border-primary-600":F?"bg-secondary-200 text-secondary-400 border-secondary-300 cursor-not-allowed":"bg-white text-secondary-900 border-secondary-200 hover:bg-primary-50 hover:border-primary-300"}`,disabled:F,onClick:()=>!F&&l(de=>({...de,schedule_slot:z})),title:w?"Sedang mengecek ketersediaan...":r.service_date?L?"Sudah di-booking":"Klik untuk memilih slot ini":"Isi tanggal layanan terlebih dahulu",children:z},z)})}),!w&&!r.schedule_slot&&i.jsx("p",{className:"text-xs text-secondary-500 mt-2",children:r.service_date?r.service_date&&S.length>0&&S.every(z=>O[z]===!1)?`Maaf, semua slot sudah terisi pada tanggal ${new Date(r.service_date).toLocaleDateString("id-ID")}. Silakan pilih tanggal lain.`:"Pilih slot waktu yang tersedia.":"Pilih tanggal layanan terlebih dahulu untuk melihat slot yang tersedia."}),w&&r.service_date&&i.jsxs("p",{className:"text-xs text-primary-600 mt-2",children:["Mohon tunggu, sedang mengecek ketersediaan slot untuk tanggal"," ",new Date(r.service_date).toLocaleDateString("id-ID"),"..."]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Catatan Tambahan"}),i.jsx("textarea",{name:"notes",rows:4,className:"input-primary resize-none",placeholder:"Catatan khusus untuk reservasi ini (kondisi lokasi, akses jalan, dll)",value:r.notes,onChange:oe})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-6",children:[i.jsx("button",{type:"button",onClick:()=>n("/dashboard"),className:"btn-secondary flex-1 sm:flex-none order-2 sm:order-1",children:"Batal"}),i.jsx("button",{type:"submit",disabled:p||w||f.length===0||!r.service_id||!r.location_id||!r.service_date||!r.volume||!r.schedule_slot,className:`btn-primary flex-1 sm:flex-none order-1 sm:order-2 ${p||w||f.length===0||!r.service_id||!r.location_id||!r.service_date||!r.volume||!r.schedule_slot?"bg-gray-300 text-gray-500 border-gray-300 cursor-not-allowed hover:bg-gray-300":""}`,children:p?i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Membuat Reservasi..."]}):w?i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Mengecek Slot..."]}):"Buat Reservasi & Bayar"})]})]})})}),i.jsx("div",{className:"lg:col-span-1",children:i.jsxs("div",{className:"card p-8 w-full lg:w-96 mx-auto sticky top-8",children:[" ",i.jsx("h3",{className:"text-lg font-semibold text-secondary-900 mb-4",children:"Ringkasan Reservasi"}),i.jsxs("div",{className:"space-y-4",children:[r.service_id&&fe&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-secondary-600",children:"Layanan:"}),i.jsx("span",{className:"font-medium text-secondary-900",children:fe.name})]}),r.volume&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-secondary-600",children:"Volume:"}),i.jsxs("span",{className:"font-medium text-secondary-900",children:[r.volume," m"]})]}),r.service_date&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-secondary-600",children:"Tanggal:"}),i.jsx("span",{className:"font-medium text-secondary-900",children:new Date(r.service_date).toLocaleDateString("id-ID")})]}),r.schedule_slot&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-secondary-600",children:"Slot Waktu:"}),i.jsx("span",{className:"font-medium text-secondary-900",children:r.schedule_slot})]}),fe&&i.jsx("div",{className:"border-t border-secondary-200 pt-4",children:i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-lg font-semibold text-secondary-900",children:"Total Biaya:"}),i.jsxs("span",{className:"text-lg font-bold text-primary-600",children:["Rp ",ie().toLocaleString()]})]})}),i.jsx("div",{className:"bg-primary-50 rounded-lg p-4 mt-4",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx("svg",{className:"w-5 h-5 text-primary-600 mt-0.5 mr-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.jsxs("div",{className:"text-sm text-primary-800",children:[i.jsx("p",{className:"font-medium mb-1",children:"Informasi Pembayaran:"}),i.jsxs("ul",{className:"space-y-1 text-primary-700",children:[i.jsx("li",{children:" Pembayaran melalui Midtrans"}),i.jsx("li",{children:" Mendukung berbagai metode pembayaran"}),i.jsx("li",{children:" Konfirmasi otomatis setelah pembayaran"})]})]})]})}),i.jsxs("div",{className:"bg-secondary-50 rounded-lg p-4 mt-4 border border-secondary-200",children:[i.jsx("div",{className:"mb-2 font-semibold text-secondary-900",children:i.jsx("span",{children:" Kartu Percobaan Midtrans (Sandbox)"})}),i.jsxs("div",{className:"flex flex-col gap-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Card Number:"})," ",i.jsx("span",{style:{userSelect:"all",cursor:"pointer"},onClick:()=>navigator.clipboard.writeText("4811 1111 1111 1114"),className:"bg-white px-2 py-1 rounded border border-secondary-200 cursor-pointer hover:bg-primary-50",title:"Klik untuk copy",children:"4811 1111 1111 1114"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Expiry Date:"})," ",i.jsx("span",{className:"bg-white px-2 py-1 rounded border border-secondary-200",children:"Bebas (misal: 12/25)"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"CVV:"})," ",i.jsx("span",{style:{userSelect:"all",cursor:"pointer"},onClick:()=>navigator.clipboard.writeText("123"),className:"bg-white px-2 py-1 rounded border border-secondary-200 cursor-pointer hover:bg-primary-50",title:"Klik untuk copy",children:"123"})]})]}),i.jsx("div",{className:"text-xs text-secondary-500 mt-2",children:"Klik pada nomor kartu atau CVV untuk copy ke clipboard."})]})]})]})})]})]})]})}function Gb(){const{user:o,token:n}=Gt(),r=St(),[l,u]=_.useState({name:o?.name||"Pengguna"}),[h,f]=_.useState({total:0,pending:0,paid:0,failed:0}),[g,p]=_.useState([]),[v,x]=_.useState(!0),[b,S]=_.useState(!1),[T,O]=_.useState({notify_reservation:!0,notify_information:!0}),[E,w]=_.useState(!1),[P,H]=_.useState({message:"",type:"success"});_.useEffect(()=>{o&&n&&(async()=>{if(n)try{const L=await fetch("https://settled-modern-stinkbug.ngrok-free.app/api/auth/me",{method:"GET",headers:{Authorization:`Bearer ${n}`,"ngrok-skip-browser-warning":"true"}}),F=await L.json();if(!L.ok||!F.role){r("/login");return}if(F.role!=="user"){r("/admin");return}I(),q()}catch{r("/login")}})()},[o,n]);const q=async()=>{if(!o?.id)return;if(!localStorage.getItem(`notif_modal_seen_${o.id}`)){const{data:L}=await Ve.from("users").select("notify_reservation, notify_information").eq("id",o.id).single();L&&O({notify_reservation:L.notify_reservation??!0,notify_information:L.notify_information??!0}),S(!0)}},Q=async()=>{w(!0);try{(await fetch("https://settled-modern-stinkbug.ngrok-free.app/api/auth/update-notification-preference",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`,"ngrok-skip-browser-warning":"true"},body:JSON.stringify(T)})).ok?(localStorage.setItem(`notif_modal_seen_${o.id}`,"true"),S(!1),H({message:"Preferensi notifikasi berhasil disimpan!",type:"success"})):H({message:"Gagal menyimpan preferensi notifikasi",type:"error"})}catch{H({message:"Terjadi kesalahan saat menyimpan preferensi",type:"error"})}finally{w(!1)}},X=()=>{localStorage.setItem(`notif_modal_seen_${o.id}`,"true"),S(!1)},I=async()=>{if(!o)return;const{data:z,error:L}=await Ve.from("reservations").select(`
        *,
        services(name, price, unit),
        user_locations(label, address),
        assignments(
          id,
          assigned_at,
          assignment_staffs(
            users:staff_id(id, name, phone)
          )
        )
      `).eq("user_id",o.id).order("created_at",{ascending:!1}).limit(5);if(!L&&z){p(z);const F={total:z.length,pending:z.filter(de=>de.status==="pending").length,paid:z.filter(de=>de.status==="paid").length,failed:z.filter(de=>de.status==="failed").length};f(F)}x(!1)},ie=z=>({pending:"bg-warning-100 text-warning-800 border-warning-200",paid:"bg-success-100 text-success-800 border-success-200",assigned:"bg-blue-100 text-blue-800 border-blue-200",failed:"bg-danger-100 text-danger-800 border-danger-200",canceled:"bg-danger-100 text-danger-800 border-danger-200"})[z]||"bg-secondary-100 text-secondary-800 border-secondary-200",oe=z=>({pending:"Menunggu Pembayaran",paid:"Lunas",assigned:"Sudah Ditugaskan",failed:"Gagal",canceled:"Dibatalkan"})[z]||z,Te=z=>{if(!z.services?.price||!z.volume)return 0;const L=parseInt(z.volume,10)||1,F=Math.ceil(L/3);return z.services.price*F},fe=async z=>{try{const{data:L,error:F}=await Ve.from("payments").select("redirect_url").eq("reservation_id",z).single();if(F||!L?.redirect_url){P("Link pembayaran tidak ditemukan");return}const de=L.redirect_url.split("/"),me=de[de.length-1];window.snap&&me?window.snap.pay(me,{onSuccess:function(M){I()},onPending:function(M){I()},onError:function(M){P("Pembayaran gagal. Silakan coba lagi.")},onClose:function(){I()}}):window.open(L.redirect_url,"_blank")}catch(L){console.error("Error:",L),P("Gagal membuka pembayaran")}};return v?i.jsxs("div",{className:"min-h-screen bg-secondary-50",children:[i.jsx(wa,{}),i.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})]}):i.jsxs("div",{className:"min-h-screen bg-secondary-50",children:[i.jsx(wa,{}),i.jsx(Vi,{message:P.message,type:P.type,onClose:()=>H({message:"",type:"success"})}),b&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6 animate-fade-in",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("svg",{className:"w-8 h-8 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})})}),i.jsx("h3",{className:"text-xl font-bold text-secondary-900 mb-2",children:"Notifikasi WhatsApp"}),i.jsx("p",{className:"text-sm text-secondary-600",children:"Dapatkan update terbaru tentang reservasi dan informasi penting langsung ke WhatsApp Anda"})]}),i.jsxs("div",{className:"space-y-4 mb-6",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 bg-secondary-50 rounded-lg",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium text-secondary-900 mb-1",children:"Notifikasi Reservasi"}),i.jsx("p",{className:"text-xs text-secondary-600",children:"Update status pembayaran, penugasan staff, dan jadwal layanan"})]}),i.jsx("button",{onClick:()=>O(z=>({...z,notify_reservation:!z.notify_reservation})),className:`ml-4 relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${T.notify_reservation?"bg-primary-600":"bg-secondary-300"}`,children:i.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${T.notify_reservation?"translate-x-6":"translate-x-1"}`})})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 bg-secondary-50 rounded-lg",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium text-secondary-900 mb-1",children:"Notifikasi Informasi"}),i.jsx("p",{className:"text-xs text-secondary-600",children:"Berita, pengumuman, dan informasi penting lainnya"})]}),i.jsx("button",{onClick:()=>O(z=>({...z,notify_information:!z.notify_information})),className:`ml-4 relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${T.notify_information?"bg-primary-600":"bg-secondary-300"}`,children:i.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${T.notify_information?"translate-x-6":"translate-x-1"}`})})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[i.jsx("button",{onClick:X,className:"flex-1 px-4 py-2 border border-secondary-300 text-secondary-700 rounded-lg hover:bg-secondary-50 transition font-medium",disabled:E,children:"Lewati"}),i.jsx("button",{onClick:Q,className:"flex-1 btn-primary",disabled:E,children:E?"Menyimpan...":"Simpan Preferensi"})]}),i.jsx("p",{className:"text-xs text-center text-secondary-500 mt-4",children:"Anda bisa mengubah preferensi ini kapan saja di halaman profil"})]})}),i.jsxs("div",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-3xl font-bold text-secondary-900",children:["Selamat datang, ",l?.name||"Pengguna","! "]}),i.jsx("p",{className:"text-secondary-600 mt-1",children:"Kelola reservasi pengolahan air limbah Anda dengan mudah"})]}),i.jsx("div",{className:"mt-4 lg:mt-0",children:i.jsxs(We,{to:"/reservasi/buat",className:"btn-primary inline-flex items-center",children:[i.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Buat Reservasi Baru"]})})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[i.jsx("div",{className:"card p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-secondary-600",children:"Total Reservasi"}),i.jsx("p",{className:"text-3xl font-bold text-secondary-900",children:h.total})]}),i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-500 to-primary-600 rounded-xl flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})})]})}),i.jsx("div",{className:"card p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-secondary-600",children:"Menunggu Pembayaran"}),i.jsx("p",{className:"text-3xl font-bold text-warning-600",children:h.pending})]}),i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-warning-500 to-warning-600 rounded-xl flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),i.jsx("div",{className:"card p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-secondary-600",children:"Lunas"}),i.jsx("p",{className:"text-3xl font-bold text-success-600",children:h.paid})]}),i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-success-500 to-success-600 rounded-xl flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]})}),i.jsx("div",{className:"card p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-secondary-600",children:"Gagal"}),i.jsx("p",{className:"text-3xl font-bold text-danger-600",children:h.failed})]}),i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-danger-500 to-danger-600 rounded-xl flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})]}),i.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[i.jsx("div",{className:"lg:col-span-1",children:i.jsxs("div",{className:"card p-6",children:[i.jsx("h2",{className:"text-lg font-semibold text-secondary-900 mb-4",children:"Aksi Cepat"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(We,{to:"/reservasi/buat",className:"flex items-center p-4 rounded-lg border border-secondary-200 hover:border-primary-300 hover:bg-primary-50 transition-all duration-200 group",children:[i.jsx("div",{className:"w-10 h-10 bg-primary-100 group-hover:bg-primary-200 rounded-lg flex items-center justify-center mr-3",children:i.jsx("svg",{className:"w-5 h-5 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-secondary-900",children:"Buat Reservasi"}),i.jsx("p",{className:"text-sm text-secondary-600",children:"Tambah reservasi baru"})]})]}),i.jsxs(We,{to:"/riwayat",className:"flex items-center p-4 rounded-lg border border-secondary-200 hover:border-primary-300 hover:bg-primary-50 transition-all duration-200 group",children:[i.jsx("div",{className:"w-10 h-10 bg-primary-100 group-hover:bg-primary-200 rounded-lg flex items-center justify-center mr-3",children:i.jsx("svg",{className:"w-5 h-5 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-secondary-900",children:"Lihat Riwayat"}),i.jsx("p",{className:"text-sm text-secondary-600",children:"Pantau status reservasi"})]})]}),i.jsxs(We,{to:"/profile",className:"flex items-center p-4 rounded-lg border border-secondary-200 hover:border-primary-300 hover:bg-primary-50 transition-all duration-200 group",children:[i.jsx("div",{className:"w-10 h-10 bg-primary-100 group-hover:bg-primary-200 rounded-lg flex items-center justify-center mr-3",children:i.jsx("svg",{className:"w-5 h-5 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-secondary-900",children:"Tambah Lokasi"}),i.jsx("p",{className:"text-sm text-secondary-600",children:"Kelola lokasi Anda"})]})]})]})]})}),i.jsx("div",{className:"lg:col-span-2",children:i.jsxs("div",{className:"card p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-lg font-semibold text-secondary-900",children:"Reservasi Terbaru"}),i.jsx(We,{to:"/riwayat",className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"Lihat Semua"})]}),g.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"w-16 h-16 bg-secondary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("svg",{className:"w-8 h-8 text-secondary-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),i.jsx("p",{className:"text-secondary-500",children:"Belum ada reservasi"}),i.jsx(We,{to:"/reservasi/buat",className:"text-primary-600 hover:text-primary-700 font-medium text-sm mt-2 inline-block",children:"Buat reservasi pertama Anda"})]}):i.jsx("div",{className:"grid gap-4",children:g.map(z=>i.jsxs("div",{className:"card p-4 border border-secondary-200 hover:shadow transition",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold border ${ie(z.status)}`,children:oe(z.status)}),z.schedule_slot&&i.jsx("span",{className:"text-xs text-secondary-500",children:z.schedule_slot})]}),i.jsxs("div",{className:"font-bold text-base text-secondary-900 flex items-center gap-2 mb-3",children:[z.services?.name,i.jsxs("span",{className:"text-primary-700 font-semibold text-sm",children:["- Rp ",Te(z).toLocaleString()]})]}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-xs text-secondary-700 mb-3",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Lokasi:"})," ",z.user_locations?.label," -"," ",z.user_locations?.address]}),i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("span",{children:[i.jsx("span",{className:"font-medium",children:"Tanggal:"})," ",new Date(z.service_date).toLocaleDateString("id-ID")]}),i.jsxs("span",{children:[i.jsx("span",{className:"font-medium",children:"Volume:"})," ",z.volume," m"]})]})]}),z.status==="pending"&&i.jsx("div",{className:"mt-3",children:i.jsxs("button",{onClick:()=>fe(z.id),className:"w-full btn-primary text-sm py-2 flex items-center justify-center",children:[i.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),"Bayar Sekarang"]})}),z.status==="assigned"&&z.assignments?.length>0&&i.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[i.jsxs("h4",{className:"text-sm font-semibold text-blue-900 mb-2 flex items-center",children:[i.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),"Tim yang Ditugaskan"]}),z.assignments.map(L=>i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"text-xs font-medium text-blue-800",children:["Staff (",L.assignment_staffs?.length||0," ","orang):"]}),L.assignment_staffs?.map((F,de)=>i.jsxs("div",{className:"flex items-center space-x-3 p-2 bg-white rounded-lg",children:[i.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:i.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-blue-900 text-sm",children:F.users?.name}),i.jsx("div",{className:"text-xs text-blue-700",children:F.users?.phone})]})]},de))]},L.id)),i.jsxs("div",{className:"text-xs text-blue-600 mt-2",children:["Ditugaskan pada:"," ",new Date(z.assignments[0].assigned_at).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})]})]})]},z.id))})]})})]})]})]})}const Vb=[{name:"Budi Santoso",role:"Warga Bogor Barat",text:"Pelayanan UPTD PAL sangat cepat dan profesional. Proses reservasi mudah dan petugas ramah.",photo:"https://randomuser.me/api/portraits/men/32.jpg"},{name:"Siti Aminah",role:"Ibu Rumah Tangga",text:"Saya sangat puas dengan layanan pengolahan air limbah. Hasilnya bersih dan tidak bau.",photo:"https://randomuser.me/api/portraits/women/44.jpg"},{name:"Andi Wijaya",role:"Pengusaha Kuliner",text:"Reservasi online sangat membantu usaha saya. Jadwal fleksibel dan harga terjangkau.",photo:"https://randomuser.me/api/portraits/men/65.jpg"},{name:"Budi Santoso",role:"Warga Bogor Barat",text:"Pelayanan UPTD PAL sangat cepat dan profesional. Proses reservasi mudah dan petugas ramah.",photo:"https://randomuser.me/api/portraits/men/32.jpg"},{name:"Siti Aminah",role:"Ibu Rumah Tangga",text:"Saya sangat puas dengan layanan pengolahan air limbah. Hasilnya bersih dan tidak bau.",photo:"https://randomuser.me/api/portraits/women/44.jpg"},{name:"Andi Wijaya",role:"Pengusaha Kuliner",text:"Reservasi online sangat membantu usaha saya. Jadwal fleksibel dan harga terjangkau.",photo:"https://randomuser.me/api/portraits/men/65.jpg"}];function Yb(){return i.jsx("section",{className:"py-20 bg-white",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("div",{className:"inline-flex items-center bg-primary-100 text-primary-800 px-4 py-2 rounded-full text-sm font-medium mb-4",children:"Testimoni Pelanggan"}),i.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-secondary-900 mb-4",children:"Apa Kata Mereka?"}),i.jsx("p",{className:"text-lg text-secondary-600 max-w-2xl mx-auto",children:"Pengalaman pelanggan kami yang telah menggunakan layanan UPTD PAL Kota Bogor."})]}),i.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:Vb.map((o,n)=>i.jsxs("div",{className:"card p-8 text-center card-hover flex flex-col items-center",children:[i.jsx("img",{src:o.photo,alt:o.name,className:"w-16 h-16 rounded-full object-cover mb-4 border-2 border-primary-200",loading:"lazy"}),i.jsxs("p",{className:"text-secondary-700 italic mb-4",children:['"',o.text,'"']}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold text-secondary-900",children:o.name}),i.jsx("div",{className:"text-sm text-secondary-500",children:o.role})]})]},n))})]})})}function Kb(){const{user:o}=Gt();return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-secondary-50 to-primary-50",children:[i.jsx("nav",{className:"bg-white/80 backdrop-blur-md shadow-soft border-b border-secondary-200/50 sticky top-0 z-50",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex justify-between items-center h-16",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-600 to-primary-700 rounded-lg flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.781 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 8.172V5L8 4z"})})})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl font-bold text-secondary-900",children:"UPTD PAL"}),i.jsx("p",{className:"text-xs text-secondary-600",children:"Kota Bogor"})]})]}),i.jsx("div",{className:"flex items-center space-x-3",children:o?i.jsx(We,{to:"/dashboard",className:"btn-primary text-sm",children:"Dashboard"}):i.jsxs(i.Fragment,{children:[i.jsx(We,{to:"/login",className:"text-secondary-600 hover:text-primary-600 px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200",children:"Masuk"}),i.jsx(We,{to:"/register",className:"btn-primary text-sm",children:"Daftar"})]})})]})})}),i.jsx("section",{className:"relative overflow-hidden",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 lg:py-32",children:i.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[i.jsxs("div",{className:"animate-fade-in",children:[i.jsxs("div",{className:"inline-flex items-center bg-primary-100 text-primary-800 px-4 py-2 rounded-full text-sm font-medium mb-6",children:[i.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Layanan Pengelolaan Air Limbah Terdepan"]}),i.jsxs("h1",{className:"text-4xl lg:text-6xl font-bold text-secondary-900 mb-6 leading-tight",children:["Sistem Reservasi"," ",i.jsx("span",{className:"text-gradient",children:"Pengelolaan Air Limbah"})," ","Kota Bogor"]}),i.jsx("p",{className:"text-lg text-secondary-600 mb-8 leading-relaxed",children:"Layanan reservasi pengolahan air limbah yang profesional, modern, dan terpercaya untuk menjaga kebersihan lingkungan Kota Bogor yang berkelanjutan."}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[i.jsxs(We,{to:"/register",className:"btn-primary text-base px-8 py-3 inline-flex items-center justify-center group",children:["Buat Reservasi",i.jsx("svg",{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]}),i.jsx(We,{to:"/login",className:"btn-secondary text-base px-8 py-3 inline-flex items-center justify-center",children:"Masuk ke Akun"})]})]}),i.jsx("div",{className:"relative animate-slide-up",children:i.jsxs("div",{className:"relative bg-gradient-to-br from-primary-500 to-primary-700 rounded-2xl p-8 shadow-large",children:[i.jsx("div",{className:"absolute -top-6 -right-6 w-24 h-24 bg-warning-400 rounded-full opacity-20"}),i.jsx("div",{className:"absolute -bottom-4 -left-4 w-16 h-16 bg-success-400 rounded-full opacity-20"}),i.jsxs("div",{className:"relative text-white",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-3xl font-bold",children:"1000+"}),i.jsx("div",{className:"text-primary-100 text-sm",children:"Pelanggan Aktif"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-3xl font-bold",children:"100%"}),i.jsx("div",{className:"text-primary-100 text-sm",children:"Kepuasan"})]})]}),i.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"Sistem Terintegrasi"}),i.jsx("div",{className:"text-primary-100 text-sm",children:"Monitoring real-time"})]})]})})]})]})})]})})}),i.jsx("section",{className:"py-20 bg-white",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"text-center mb-16",children:[i.jsx("div",{className:"inline-flex items-center bg-primary-100 text-primary-800 px-4 py-2 rounded-full text-sm font-medium mb-4",children:"Keunggulan Layanan"}),i.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-secondary-900 mb-4",children:"Mengapa Memilih UPTD PAL?"}),i.jsx("p",{className:"text-lg text-secondary-600 max-w-2xl mx-auto",children:"Kami menyediakan layanan pengolahan air limbah yang profesional dengan teknologi modern dan sistem reservasi yang mudah digunakan."})]}),i.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[i.jsxs("div",{className:"card p-8 text-center card-hover",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-500 to-primary-600 rounded-2xl flex items-center justify-center mx-auto mb-6",children:i.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),i.jsx("h3",{className:"text-xl font-semibold text-secondary-900 mb-3",children:"Layanan 24/7"}),i.jsx("p",{className:"text-secondary-600",children:"Sistem reservasi tersedia 24 jam dengan respons cepat untuk kebutuhan mendesak."})]}),i.jsxs("div",{className:"card p-8 text-center card-hover",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-success-500 to-success-600 rounded-2xl flex items-center justify-center mx-auto mb-6",children:i.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),i.jsx("h3",{className:"text-xl font-semibold text-secondary-900 mb-3",children:"Teknologi Modern"}),i.jsx("p",{className:"text-secondary-600",children:"Menggunakan teknologi pengolahan air limbah terdepan dengan standar lingkungan."})]}),i.jsxs("div",{className:"card p-8 text-center card-hover",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-warning-500 to-warning-600 rounded-2xl flex items-center justify-center mx-auto mb-6",children:i.jsxs("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),i.jsx("h3",{className:"text-xl font-semibold text-secondary-900 mb-3",children:"Jangkauan Luas"}),i.jsx("p",{className:"text-secondary-600",children:"Melayani seluruh wilayah Kota Bogor maupun Kabupaten Bogor dengan tim profesional berpengalaman."})]})]})]})}),i.jsx(Yb,{}),i.jsx("section",{className:"py-20 bg-gradient-to-br from-primary-600 to-primary-800",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"grid md:grid-cols-4 gap-8 text-center",children:[i.jsxs("div",{className:"text-white",children:[i.jsx("div",{className:"text-4xl font-bold mb-2",children:"15+"}),i.jsx("div",{className:"text-primary-100",children:"Tahun Pengalaman"})]}),i.jsxs("div",{className:"text-white",children:[i.jsx("div",{className:"text-4xl font-bold mb-2",children:"20K+"}),i.jsx("div",{className:"text-primary-100",children:"Liter per Hari"})]}),i.jsxs("div",{className:"text-white",children:[i.jsx("div",{className:"text-4xl font-bold mb-2",children:"1000+"}),i.jsx("div",{className:"text-primary-100",children:"Pelanggan"})]}),i.jsxs("div",{className:"text-white",children:[i.jsx("div",{className:"text-4xl font-bold mb-2",children:"100%"}),i.jsx("div",{className:"text-primary-100",children:"Uptime Sistem"})]})]})})}),i.jsx("section",{className:"py-20 bg-secondary-50",children:i.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[i.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-secondary-900 mb-6",children:"Siap Untuk Layanan Terbaik?"}),i.jsx("p",{className:"text-lg text-secondary-600 mb-8",children:"Bergabunglah dengan ribuan pelanggan yang telah mempercayai layanan pengolahan air limbah UPTD PAL Kota Bogor."}),i.jsxs(We,{to:"/register",className:"btn-primary text-lg px-8 py-4 inline-flex items-center group",children:["Mulai Sekarang",i.jsx("svg",{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})]})}),i.jsx("footer",{className:"bg-secondary-900 text-white py-12",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-600 to-primary-700 rounded-lg flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.781 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 8.172V5L8 4z"})})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-secondary-400 text-lg font-semibold",children:"UPTD PAL"}),i.jsx("p",{className:"text-secondary-400 text-sm",children:"Kota Bogor"})]})]}),i.jsx("p",{className:"text-secondary-400",children:"Unit Pelaksana Teknis Daerah Pengelolaan Air Limbah Kota Bogor, melayani dengan profesional dan teknologi modern."})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-4",children:"Kontak"}),i.jsxs("div",{className:"space-y-2 text-secondary-400",children:[i.jsx("p",{children:"Jl. Achmad Adnawijaya Blk B1 No. 11, Bantarjati, Bogor Utara,Kota Bogor , Jawa Barat"}),i.jsx("p",{children:"Telepon: (0251) 8373454"}),i.jsx("p",{children:"Email: uptdpal@gmail.com"})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-4",children:"Jam Operasional"}),i.jsxs("div",{className:"space-y-2 text-secondary-400",children:[i.jsx("p",{children:"Senin - Kamis: 08:00 - 16:00"}),i.jsx("p",{children:"Jum'at: 08:00 - 16:30"}),i.jsx("p",{children:"Sabtu - Minggu: Tutup"})]})]})]}),i.jsx("div",{className:"border-t border-secondary-800 mt-8 pt-8 text-center",children:i.jsx("p",{className:"text-secondary-400",children:" 2024 UPTD PAL Kota Bogor. Semua hak dilindungi."})})]})})]})}function Qb(){const[o,n]=_.useState(""),[r,l]=_.useState(""),[u,h]=_.useState(!1),[f,g]=_.useState(!1),[p,v]=_.useState(""),[x,b]=_.useState(!1),[S,T]=_.useState(""),[O,E]=_.useState(!1),[w,P]=_.useState(""),{user:H,signIn:q,loading:Q}=Gt(),X=St();if(_.useEffect(()=>{!Q&&H&&X("/dashboard")},[H,Q,X]),Q)return i.jsx("div",{className:"min-h-screen bg-secondary-50 flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});const I=fe=>{let z=fe.target.value;z.startsWith("0")&&(z="+62"+z.slice(1)),z.startsWith("8")&&(z="+62"+z.slice(1)),z.startsWith("62")&&(z="+6"+z.slice(1)),z=z.replace(/[^+\d]/g,""),n(z)},ie=async fe=>{fe.preventDefault(),g(!0),v("");const{error:z}=await q(o,r);z?z.message.includes("dinonaktifkan")?v("Akun Anda telah dinonaktifkan. Silakan daftar ulang menggunakan nomor HP yang sama untuk mengaktifkan kembali akun Anda."):v(z.message):X("/dashboard"),g(!1)},oe=async fe=>{fe.preventDefault(),E(!0),P("");try{const z=await fetch("https://settled-modern-stinkbug.ngrok-free.app/api/otp/forgot-password",{method:"POST",headers:{"Content-Type":"application/json","ngrok-skip-browser-warning":"true"},body:JSON.stringify({phone:S})}),L=await z.json();if(!z.ok){P(L.message||"Gagal mengirim OTP."),E(!1);return}b(!1),T(""),P(""),X(`/verify-otp?phone=${encodeURIComponent(S)}&forgot=1`)}catch{P("Gagal menghubungi server.")}E(!1)},Te=fe=>{let z=fe.target.value;z.startsWith("08")&&(z="+62"+z.slice(1)),z=z.replace(/[^+\d]/g,""),T(z)};return i.jsxs("div",{className:"min-h-screen flex flex-col justify-center bg-gray-50 py-12 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[i.jsx(We,{to:"/",className:"flex justify-center",children:i.jsx("h1",{className:"text-3xl font-bold text-blue-600",children:"UPTD PAL"})}),i.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Masuk ke Akun Anda"}),i.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Atau"," ",i.jsx(We,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-500",children:"daftar akun baru"})]})]}),i.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:i.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[i.jsxs("form",{className:"space-y-6",onSubmit:ie,children:[p&&i.jsx("div",{className:"rounded-md bg-red-50 p-4",children:i.jsxs("div",{className:"flex",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),i.jsxs("div",{className:"ml-3",children:[i.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Terjadi kesalahan"}),i.jsx("div",{className:"mt-2 text-sm text-red-700",children:p})]})]})}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Nomor HP"}),i.jsx("div",{className:"mt-1",children:i.jsx("input",{id:"phone",name:"phone",type:"tel",autoComplete:"tel",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Masukan No HP",value:o,onChange:I})})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),i.jsxs("div",{className:"mt-1 relative",children:[i.jsx("input",{id:"password",name:"password",type:u?"text":"password",autoComplete:"current-password",required:!0,className:"appearance-none block w-full px-3 py-2 pr-10 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Masukkan password",value:r,onChange:fe=>l(fe.target.value)}),i.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>h(!u),children:u?i.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 11-4.243-4.243m4.243 4.243L9.88 9.88"})}):i.jsxs("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]})]}),i.jsx("div",{children:i.jsxs("button",{type:"submit",disabled:f,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition duration-200",children:[f?i.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,f?"Masuk...":"Masuk"]})})]}),i.jsx("div",{className:"mt-4 text-center",children:i.jsx("button",{type:"button",className:"text-blue-600 hover:underline text-sm",onClick:()=>b(!0),children:"Lupa Password?"})})]})}),x&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-large w-full max-w-sm p-6 relative",children:[i.jsx("button",{onClick:()=>{b(!1),T(""),P("")},className:"absolute top-3 right-3 text-secondary-400 hover:text-secondary-600",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),i.jsx("h3",{className:"text-lg font-semibold text-secondary-900 mb-4",children:"Reset Password"}),i.jsxs("form",{onSubmit:oe,className:"space-y-4",children:[w&&i.jsx("div",{className:"bg-danger-50 border border-danger-200 rounded-lg p-3 text-danger-700 text-sm",children:w}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Masukkan nomor HP terdaftar"}),i.jsx("input",{type:"tel",className:"input-primary",value:S,onChange:Te,required:!0,placeholder:"+6281234567890"})]}),i.jsx("button",{type:"submit",disabled:O,className:"btn-primary w-full",children:O?"Mengirim OTP...":"Kirim OTP"})]})]})})]})}const Xb=({value:o,onChange:n})=>{const[,r]=_.useState(null),[l,u]=_.useState(o?.label||""),[h,f]=_.useState([]),[g,p]=_.useState(!1),[v,x]=_.useState(o||null),b=_.useRef(),S=_.useRef(null);_.useEffect(()=>{const E=async()=>{if(typeof window.L>"u"){const P=document.createElement("link");P.rel="stylesheet",P.href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css",document.head.appendChild(P);const H=document.createElement("script");H.src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js",H.onload=w,document.head.appendChild(H)}else w()},w=()=>{if(b.current){S.current&&(S.current.remove(),S.current=null),b.current.innerHTML="";try{const P=o?[o.lat,o.lng]:[-6.5976,106.7996],H=window.L.map(b.current,{zoomControl:!1,attributionControl:!1}).setView(P,o?15:13);window.L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:""}).addTo(H),o&&window.L.marker(P).addTo(H),H.on("click",q=>{const{lat:Q,lng:X}=q.latlng;H.eachLayer(I=>{I instanceof window.L.Marker&&H.removeLayer(I)}),window.L.marker([Q,X]).addTo(H),x({lat:Q,lng:X,label:`${Q.toFixed(6)}, ${X.toFixed(6)}`}),fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${Q}&lon=${X}`).then(I=>I.json()).then(I=>{const ie=I.display_name||`${Q.toFixed(6)}, ${X.toFixed(6)}`;n({location:ie,latitude:Q,longitude:X}),x({lat:Q,lng:X,label:ie}),u(ie)}).catch(()=>{n({location:`${Q.toFixed(6)}, ${X.toFixed(6)}`,latitude:Q,longitude:X})})}),r(H),S.current=H}catch{}}};return E(),()=>{if(S.current){try{S.current.remove()}catch{}S.current=null}r(null)}},[o]),_.useEffect(()=>{if(S.current&&o){const{lat:E,lng:w}=o;S.current.setView([E,w],15),S.current.eachLayer(P=>{P instanceof window.L.Marker&&S.current.removeLayer(P)}),window.L.marker([E,w]).addTo(S.current),x(o),u(o.label||"")}},[o]);const T=async E=>{if(u(E),E.length<3){f([]);return}p(!0);try{const P=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(E)}&limit=5&addressdetails=1`)).json();f(P)}catch{f([])}finally{p(!1)}},O=E=>{const w=parseFloat(E.lat),P=parseFloat(E.lon);S.current&&(S.current.setView([w,P],15),S.current.eachLayer(H=>{H instanceof window.L.Marker&&S.current.removeLayer(H)}),window.L.marker([w,P]).addTo(S.current)),x({lat:w,lng:P,label:E.display_name}),n({location:E.display_name,latitude:w,longitude:P}),f([]),u(E.display_name.split(",")[0])};return i.jsxs("div",{style:{position:"relative"},children:[i.jsxs("div",{style:{marginBottom:8},children:[i.jsx("input",{type:"text",placeholder:"Cari alamat atau tempat",value:l,onChange:E=>T(E.target.value),style:{width:"100%",padding:"8px 12px",border:"1px solid #e5e7eb",borderRadius:"4px",fontSize:"14px"}}),g&&i.jsx("span",{style:{marginLeft:8,fontSize:"smaller",color:"#666"},children:"Mencari"}),h.length>0&&i.jsx("div",{style:{position:"absolute",zIndex:1e3,background:"#fff",border:"1px solid #e5e7eb",borderRadius:6,maxHeight:160,width:"calc(100% - 2px)",overflowY:"auto",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},children:h.map((E,w)=>i.jsxs("div",{style:{padding:8,borderBottom:w<h.length-1?"1px solid #eee":void 0,cursor:"pointer"},onMouseDown:()=>O(E),onMouseEnter:P=>{P.target.style.backgroundColor="#f3f4f6"},onMouseLeave:P=>{P.target.style.backgroundColor="transparent"},children:[i.jsx("strong",{children:E.display_name.split(",")[0]}),i.jsx("div",{style:{fontSize:"smaller",color:"#666"},children:E.display_name})]},w))})]}),i.jsx("div",{ref:b,style:{width:"100%",height:"260px",borderRadius:8,border:"1px solid #eee",marginBottom:4}}),v&&i.jsxs("div",{style:{fontSize:12,marginTop:8,color:"#666"},children:[i.jsx("b",{children:"Lokasi terpilih:"}),i.jsx("br",{}),v.location||v.label,i.jsx("br",{}),"(",v.lat.toFixed(6),", ",v.lng.toFixed(6),")"]})]})};function wu(o){const n=o.length>=8,r=/[A-Z]/.test(o),l=/[a-z]/.test(o),u=/\d/.test(o),h=/[!@#$%^&*(),.?":{}|<>]/.test(o);return{minLength:n,hasUppercase:r,hasLowercase:l,hasNumber:u,hasSpecialChar:h,isValid:n&&r&&l&&u&&h}}function _u({password:o}){const n=wu(o);return o?i.jsxs("div",{className:"mt-2 space-y-1",children:[i.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Syarat password:"}),i.jsxs("div",{className:`text-xs flex items-center ${n.minLength?"text-green-600":"text-red-600"}`,children:[i.jsx("span",{className:"mr-1",children:n.minLength?"":""}),"Minimal 8 karakter"]}),i.jsxs("div",{className:`text-xs flex items-center ${n.hasUppercase?"text-green-600":"text-red-600"}`,children:[i.jsx("span",{className:"mr-1",children:n.hasUppercase?"":""}),"Huruf besar (A-Z)"]}),i.jsxs("div",{className:`text-xs flex items-center ${n.hasLowercase?"text-green-600":"text-red-600"}`,children:[i.jsx("span",{className:"mr-1",children:n.hasLowercase?"":""}),"Huruf kecil (a-z)"]}),i.jsxs("div",{className:`text-xs flex items-center ${n.hasNumber?"text-green-600":"text-red-600"}`,children:[i.jsx("span",{className:"mr-1",children:n.hasNumber?"":""}),"Angka (0-9)"]}),i.jsxs("div",{className:`text-xs flex items-center ${n.hasSpecialChar?"text-green-600":"text-red-600"}`,children:[i.jsx("span",{className:"mr-1",children:n.hasSpecialChar?"":""}),"Karakter khusus (!@#$%^&*)"]})]}):null}function Jb(){const{user:o,setUser:n}=Gt(),[r,l]=_.useState(null),[u,h]=_.useState(""),[f,g]=_.useState(""),[p,v]=_.useState(!1),[x,b]=_.useState(!1),[S,T]=_.useState(""),[O,E]=_.useState([]),[w,P]=_.useState(!1),[H,q]=_.useState({label:"",address:""}),[Q,X]=_.useState(!1),[I,ie]=_.useState(""),[oe,Te]=_.useState(null),[fe,z]=_.useState({message:"",type:"success"}),[L,F]=_.useState(""),[de,me]=_.useState(""),[M,J]=_.useState(!1),[ee,be]=_.useState(""),[N,G]=_.useState(""),[Z,W]=_.useState(!1),[K,ae]=_.useState(""),[te,Le]=_.useState(""),[B,le]=_.useState(!1),[ge,Ce]=_.useState(!1),[Ye,_a]=_.useState({notify_reservation:!1,notify_information:!1}),[Vt,as]=_.useState(!1),[ss,Ue]=_.useState(""),[Bn,Hn]=_.useState(!1),[qn,Zt]=_.useState(""),Qi=_.useRef(),Xi=St();_.useEffect(()=>{Ji(),Rs()},[o]);const Ji=async()=>{if(!o?.id)return;const{data:se}=await Ve.from("users").select("name, profile_picture, phone, notify_reservation, notify_information").eq("id",o.id).single();l(se),h(se?.name||""),g(se?.profile_picture||""),F(se?.phone||""),_a({notify_reservation:se?.notify_reservation||!1,notify_information:se?.notify_information||!1})},Rs=async()=>{if(!o?.id)return;const{data:se}=await Ve.from("user_locations").select("*").eq("user_id",o.id).order("created_at",{ascending:!1});E(se||[])},ns=se=>{q({...H,[se.target.name]:se.target.value})},gt=se=>{q({...H,address:se.location,latitude:se.latitude,longitude:se.longitude}),Te({lat:se.latitude,lng:se.longitude,label:se.location,address:se.location})};_.useEffect(()=>{(!w||typeof w!="string")&&Te(null)},[w]);const Wt=async se=>{if(se.preventDefault(),X(!0),ie(""),!H.label||!H.address||typeof H.latitude>"u"||typeof H.longitude>"u"){ie("Label, alamat, dan koordinat wajib diisi."),X(!1);return}if(!H.address.toLowerCase().includes("bogor")){ie("Alamat harus berada di wilayah Bogor."),X(!1);return}const{error:Se}=await Ve.from("user_locations").insert([{user_id:o.id,label:H.label,address:H.address,latitude:H.latitude,longitude:H.longitude}]);Se?ie(Se.message):(P(!1),q({label:"",address:""}),Rs(),z({message:"Lokasi berhasil ditambahkan!",type:"success"})),X(!1)},pt=se=>h(se.target.value),jl=async se=>{const Se=se.target.files?.[0];if(!Se)return;if(v(!0),T(""),f){const Us=f.split("/profile-picture/")[1];Us&&await Ve.storage.from("profile-picture").remove([Us])}const at=Se.name.split(".").pop(),Mt=`${o.id}_${Date.now()}.${at}`,{error:Wi}=await Ve.storage.from("profile-picture").upload(Mt,Se,{upsert:!1});if(Wi){T("Gagal upload foto profil: "+Wi.message),v(!1);return}const{data:Ii}=Ve.storage.from("profile-picture").getPublicUrl(Mt),Ls=Ii?.publicUrl;g(Ls),await Ve.from("users").update({profile_picture:Ls}).eq("id",o.id),n({...o,profile_picture:Ls}),v(!1)},wl=se=>{let Se=se.target.value;Se.startsWith("08")&&(Se="+62"+Se.slice(1)),Se=Se.replace(/[^+\d]/g,""),F(Se)},_l=async se=>{if(se.preventDefault(),b(!0),T(""),L!==r?.phone)try{const at=await fetch("https://settled-modern-stinkbug.ngrok-free.app/api/otp/send",{method:"POST",headers:{"Content-Type":"application/json","ngrok-skip-browser-warning":"true"},body:JSON.stringify({phone:L})}),Mt=await at.json();if(!at.ok){T(Mt.message||"Gagal mengirim OTP."),b(!1);return}b(!1),Xi(`/verify-otp?phone=${encodeURIComponent(L)}&changePhone=1`);return}catch{T("Gagal menghubungi server OTP."),b(!1);return}const{error:Se}=await Ve.from("users").update({name:u}).eq("id",o.id);Se?T(Se.message):(Ji(),z({message:"Profil berhasil diperbarui!",type:"success"})),b(!1)},Ms=async()=>{if(!w||typeof w!="string")return;X(!0),ie("");const se=w,{error:Se}=await Ve.from("user_locations").delete().eq("id",se);Se?ie(Se.message):(P(!1),q({label:"",address:""}),Te(null),Rs(),z({message:"Lokasi berhasil dihapus!",type:"success"})),X(!1)},Ds=async se=>{if(se.preventDefault(),X(!0),ie(""),!H.label||!H.address){ie("Label dan alamat wajib diisi."),X(!1);return}const Se=w,{error:at}=await Ve.from("user_locations").update({label:H.label,address:H.address,latitude:H.latitude,longitude:H.longitude}).eq("id",Se);at?ie(at.message):(P(!1),q({label:"",address:""}),Te(null),Rs(),z({message:"Lokasi berhasil diperbarui!",type:"success"})),X(!1)},na=async se=>{se.preventDefault(),W(!0),ae(""),Le("");try{const Se=await fetch("https://settled-modern-stinkbug.ngrok-free.app/api/auth/change-password",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`,"ngrok-skip-browser-warning":"true"},body:JSON.stringify({oldPassword:ee,newPassword:N})}),at=await Se.json();Se.ok?(Le("Password berhasil diganti."),be(""),G(""),setTimeout(()=>{J(!1)},1500)):ae(at.message||"Gagal mengganti password.")}catch{ae("Gagal menghubungi server.")}W(!1)},is=async se=>{try{const Se={...Ye,[se]:!Ye[se]},at=await fetch("https://settled-modern-stinkbug.ngrok-free.app/api/auth/update-notification-preference",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`,"ngrok-skip-browser-warning":"true"},body:JSON.stringify({[se]:Se[se]})});if(at.ok)_a(Se),z({message:"Preferensi notifikasi berhasil diperbarui!",type:"success"});else{const Mt=await at.json();z({message:Mt.message||"Gagal memperbarui preferensi notifikasi",type:"error"})}}catch{z({message:"Gagal memperbarui preferensi notifikasi",type:"error"})}},rs=async se=>{se.preventDefault(),Hn(!0),Zt("");try{const Se=await fetch("https://settled-modern-stinkbug.ngrok-free.app/api/auth/delete-account",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`,"ngrok-skip-browser-warning":"true"},body:JSON.stringify({password:ss})}),at=await Se.json();Se.ok?(z({message:"Akun berhasil dihapus. Anda akan dialihkan ke halaman utama.",type:"success"}),setTimeout(()=>{localStorage.removeItem("authToken"),localStorage.removeItem("authUser"),window.location.href="/"},2e3)):Zt(at.message||"Gagal menghapus akun.")}catch{Zt("Gagal menghubungi server.")}Hn(!1)},Zi=u!==(r?.name||"")||L!==(r?.phone||"");return i.jsxs("div",{className:"min-h-screen bg-secondary-50",children:[i.jsx(wa,{}),i.jsx(Vi,{message:fe.message,type:fe.type,onClose:()=>z({message:"",type:"success"})}),i.jsxs("div",{className:"max-w-4xl mx-auto py-10 px-4",children:[i.jsx("h1",{className:"text-2xl font-bold text-secondary-900 mb-6",children:"Profil Saya"}),i.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 items-start",children:[i.jsx("div",{className:"flex-1 min-w-0",children:i.jsx("div",{className:"card p-8",children:i.jsxs("form",{onSubmit:_l,className:"space-y-6",children:[S&&i.jsx("div",{className:"bg-danger-50 border border-danger-200 rounded-lg p-3 text-danger-700 text-sm",children:S}),i.jsxs("div",{className:"flex flex-col items-center gap-4",children:[i.jsxs("div",{className:"relative",children:[f?i.jsx("img",{src:f,alt:"Profile",className:"w-24 h-24 rounded-full object-cover border-2 border-primary-500"}):i.jsx("div",{className:"w-24 h-24 rounded-full bg-secondary-200 flex items-center justify-center text-secondary-500 font-bold text-3xl",children:u?.[0]||"U"}),i.jsx("button",{type:"button",className:"absolute bottom-0 right-0 bg-primary-600 text-white rounded-full p-2 shadow hover:bg-primary-700 transition",onClick:()=>Qi.current?.click(),disabled:p,title:"Ganti Foto Profil",children:i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),i.jsx("input",{type:"file",accept:"image/*",className:"hidden",ref:Qi,onChange:jl,disabled:p})]}),p&&i.jsx("div",{className:"text-primary-600 text-sm",children:"Mengunggah foto..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Nama Lengkap"}),i.jsx("input",{type:"text",className:"input-primary",value:u,onChange:pt,required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Nomor HP"}),i.jsx("input",{type:"tel",className:"input-primary",value:L,onChange:wl,required:!0,placeholder:r?.phone||"+6281234567890"})]}),i.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[i.jsx("button",{type:"button",className:"btn-secondary w-full sm:w-auto",onClick:()=>J(!0),children:"Ganti Password"}),i.jsx("button",{type:"submit",className:`btn-primary w-full sm:w-auto ${Zi?"":"bg-gray-300 text-gray-500 border-gray-300 cursor-not-allowed hover:bg-gray-300"}`,disabled:x||!Zi,children:x?"Menyimpan...":"Simpan Perubahan"})]})]})})}),i.jsxs("div",{className:"w-full lg:w-80 space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-lg font-semibold text-secondary-900",children:"Lokasi Anda"}),i.jsx("button",{onClick:()=>P(!0),className:"btn-primary px-3 py-1 text-xs",type:"button",children:"+ Lokasi"})]}),i.jsx("div",{className:"card p-4",children:O.length===0?i.jsx("div",{className:"bg-secondary-100 rounded-lg p-3 text-secondary-600 text-center text-sm",children:"Belum ada lokasi."}):i.jsx("div",{className:"flex gap-2 overflow-x-auto scrollbar-thin scrollbar-thumb-secondary-200 scrollbar-track-transparent pb-1",children:O.map(se=>i.jsx("button",{className:"px-4 py-2 rounded-lg bg-secondary-100 hover:bg-primary-100 text-secondary-900 font-medium text-sm whitespace-nowrap border border-secondary-200 transition",onClick:()=>{q({label:se.label,address:se.address,latitude:se.latitude,longitude:se.longitude}),Te({lat:se.latitude,lng:se.longitude,label:se.address,address:se.address}),P(se.id)},title:se.address,type:"button",children:se.label},se.id))})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h2",{className:"text-lg font-semibold text-secondary-900",children:"Notifikasi WhatsApp"}),i.jsx("div",{className:"card p-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium text-secondary-900",children:"Notifikasi Reservasi"}),i.jsx("p",{className:"text-xs text-secondary-500",children:"Status dan pembaruan reservasi"})]}),i.jsx("div",{className:"ml-4",children:i.jsx("button",{onClick:()=>is("notify_reservation"),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${Ye.notify_reservation?"bg-primary-600":"bg-secondary-200"}`,children:i.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${Ye.notify_reservation?"translate-x-6":"translate-x-1"}`})})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium text-secondary-900",children:"Notifikasi Informasi"}),i.jsx("p",{className:"text-xs text-secondary-500",children:"Berita dan informasi umum"})]}),i.jsx("div",{className:"ml-4",children:i.jsx("button",{onClick:()=>is("notify_information"),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${Ye.notify_information?"bg-primary-600":"bg-secondary-200"}`,children:i.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${Ye.notify_information?"translate-x-6":"translate-x-1"}`})})})]})]})})]}),i.jsx("div",{className:"space-y-2",children:i.jsx("div",{className:"card p-4 border-danger-200",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-bold text-danger-600 text-sm",children:"Hapus Akun"}),i.jsx("p",{className:"text-xs text-danger-600",children:"Menghapus akun akan menghilangkan akses login Anda. Data reservasi tetap tersimpan untuk keperluan riwayat."})]}),i.jsx("button",{onClick:()=>as(!0),className:"w-full px-4 py-2 bg-danger-600 text-white rounded-lg text-sm font-medium hover:bg-danger-700 transition-colors border border-danger-600",children:"Hapus Akun"})]})})})]})]}),w&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-large w-full max-w-md p-6 relative",children:[i.jsx("button",{onClick:()=>{P(!1),q({label:"",address:""}),ie(""),Te(null)},className:"absolute top-3 right-3 text-secondary-400 hover:text-secondary-600",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),i.jsx("h3",{className:"text-lg font-semibold text-secondary-900 mb-4",children:typeof w=="string"?"Detail Lokasi":"Tambah Lokasi Baru"}),i.jsxs("form",{onSubmit:typeof w=="string"?Ds:Wt,className:"space-y-4",autoComplete:"off",children:[I&&i.jsx("div",{className:"bg-danger-50 border border-danger-200 rounded-lg p-3 text-danger-700 text-sm",children:I}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:["Label Lokasi ",i.jsx("span",{className:"text-danger-600",children:"*"})]}),i.jsx("input",{name:"label",type:"text",className:"input-primary",placeholder:"Contoh: Rumah, Kantor, Gudang",value:H.label,onChange:ns,required:!0,disabled:!1})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:["Pilih Lokasi di Peta"," ",i.jsx("span",{className:"text-danger-600",children:"*"})]}),i.jsx(Xb,{value:oe,onChange:gt})]}),i.jsxs("div",{className:"flex justify-between gap-2 pt-2",children:[typeof w=="string"&&i.jsx("button",{type:"button",onClick:Ms,disabled:Q,className:"btn-secondary border border-danger-200 text-danger-700 hover:bg-danger-50",children:"Hapus"}),i.jsx("div",{className:"flex-1 flex justify-end",children:i.jsx("button",{type:"submit",disabled:Q,className:"btn-primary",children:Q?"Menyimpan...":typeof w=="string"?"Simpan Perubahan":"Simpan Lokasi"})})]})]})]})}),M&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-large w-full max-w-sm p-6 relative",children:[i.jsx("button",{onClick:()=>{J(!1),be(""),G(""),ae(""),Le(""),le(!1),Ce(!1)},className:"absolute top-3 right-3 text-secondary-400 hover:text-secondary-600",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),i.jsx("h3",{className:"text-lg font-semibold text-secondary-900 mb-4",children:"Ganti Password"}),i.jsxs("form",{onSubmit:na,className:"space-y-4",children:[K&&i.jsx("div",{className:"bg-danger-50 border border-danger-200 rounded-lg p-3 text-danger-700 text-sm",children:K}),te&&i.jsx("div",{className:"bg-success-50 border border-success-200 rounded-lg p-3 text-success-700 text-sm",children:te}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Password Lama"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:B?"text":"password",className:"input-primary pr-10",value:ee,onChange:se=>be(se.target.value),required:!0,autoFocus:!0,placeholder:"Masukkan password lama"}),i.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",tabIndex:-1,onClick:()=>le(se=>!se),children:B?i.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 11-4.243-4.243m4.243 4.243L9.88 9.88"})}):i.jsxs("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Password Baru"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:ge?"text":"password",className:"input-primary pr-10",value:N,onChange:se=>G(se.target.value),required:!0,placeholder:"Password baru"}),i.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",tabIndex:-1,onClick:()=>Ce(se=>!se),children:ge?i.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 11-4.243-4.243m4.243 4.243L9.88 9.88"})}):i.jsxs("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]}),i.jsx(_u,{password:N})]}),i.jsx("button",{type:"submit",className:"btn-primary w-full",disabled:Z,children:Z?"Menyimpan...":"Simpan Password"})]})]})}),Vt&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-large w-full max-w-md p-6 relative",children:[i.jsx("button",{onClick:()=>{as(!1),Ue(""),Zt("")},className:"absolute top-3 right-3 text-secondary-400 hover:text-secondary-600",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("div",{className:"w-16 h-16 bg-danger-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("svg",{className:"w-8 h-8 text-danger-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.96-.833-2.73 0L3.084 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),i.jsx("h3",{className:"text-xl font-bold text-danger-900 mb-2",children:"Hapus Akun"}),i.jsx("p",{className:"text-sm text-secondary-600",children:"Tindakan ini tidak dapat dibatalkan. Akun Anda akan dihapus secara permanen."})]}),i.jsxs("div",{className:"bg-danger-50 rounded-lg p-4 mb-6 border border-danger-200",children:[i.jsx("h4",{className:"font-medium text-danger-900 text-sm mb-2",children:"Yang akan terjadi:"}),i.jsxs("ul",{className:"text-xs text-danger-700 space-y-1",children:[i.jsx("li",{children:" Akses login akan dihapus permanen"}),i.jsx("li",{children:" Foto profil akan dihapus dari sistem"}),i.jsx("li",{children:" Data pribadi (nama, nomor HP, password) akan dihapus"}),i.jsx("li",{children:" Data reservasi tetap tersimpan untuk keperluan riwayat"}),i.jsx("li",{children:" Anda tidak dapat login lagi dengan akun ini"}),i.jsx("li",{children:" Akun tidak dapat diaktifkan kembali"})]})]}),i.jsxs("form",{onSubmit:rs,className:"space-y-4",children:[qn&&i.jsx("div",{className:"bg-danger-50 border border-danger-200 rounded-lg p-3 text-danger-700 text-sm",children:qn}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Masukkan password Anda untuk konfirmasi"}),i.jsx("input",{type:"password",className:"input-primary",value:ss,onChange:se=>Ue(se.target.value),required:!0,placeholder:"Password Anda",autoFocus:!0})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[i.jsx("button",{type:"button",onClick:()=>{as(!1),Ue(""),Zt("")},className:"flex-1 px-4 py-2 border border-secondary-300 text-secondary-700 rounded-lg hover:bg-secondary-50 transition font-medium",disabled:Bn,children:"Batal"}),i.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-danger-600 text-white rounded-lg hover:bg-danger-700 transition font-medium disabled:opacity-50",disabled:Bn||!ss,children:Bn?"Menghapus...":"Hapus Akun"})]})]}),i.jsx("p",{className:"text-xs text-center text-secondary-500 mt-4",children:"Pastikan Anda benar-benar ingin menghapus akun ini"})]})})]})]})}function Zb(){const[o,n]=_.useState({name:"",phone:"",password:""}),[r,l]=_.useState(!1),[u,h]=_.useState(!1),[f,g]=_.useState(""),[p,v]=_.useState(""),x=St(),b=wu(o.password),S=async O=>{O.preventDefault(),h(!0),g(""),v("");try{const E=await fetch("https://settled-modern-stinkbug.ngrok-free.app/api/auth/check-phone",{method:"POST",headers:{"Content-Type":"application/json","ngrok-skip-browser-warning":"true"},body:JSON.stringify({phone:o.phone})}),w=await E.json();if(!E.ok){g(w.message||"Gagal memeriksa nomor HP."),h(!1);return}w.available||g("Nomor HP sudah terdaftar. Jika akun Anda dinonaktifkan, Anda dapat mengaktifkannya kembali.");const P=await fetch("https://settled-modern-stinkbug.ngrok-free.app/api/otp/send",{method:"POST",headers:{"Content-Type":"application/json","ngrok-skip-browser-warning":"true"},body:JSON.stringify({phone:o.phone})}),H=await P.json();if(!P.ok){g(H.message||"Gagal mengirim OTP."),h(!1);return}x(`/verify-otp?phone=${encodeURIComponent(o.phone)}&name=${encodeURIComponent(o.name)}&password=${encodeURIComponent(o.password)}&register=1`)}catch{g("Gagal menghubungi server.")}h(!1)},T=O=>{let{name:E,value:w}=O.target;E==="phone"&&(w.startsWith("0")&&(w="+62"+w.slice(1)),w.startsWith("8")&&(w="+62"+w.slice(1)),w.startsWith("62")&&(w="+6"+w.slice(1)),w=w.replace(/[^+\d]/g,"")),n({...o,[E]:w})};return i.jsxs("div",{className:"min-h-screen flex flex-col justify-center bg-gray-50 py-12 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[i.jsx(We,{to:"/",className:"flex justify-center",children:i.jsx("h1",{className:"text-3xl font-bold text-blue-600",children:"UPTD PAL"})}),i.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Daftar Akun Baru"}),i.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Atau"," ",i.jsx(We,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"masuk ke akun yang sudah ada"})]})]}),i.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:i.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:i.jsxs("form",{className:"space-y-6",onSubmit:S,children:[f&&i.jsx("div",{className:"rounded-md bg-red-50 p-4 text-red-700 text-sm",children:f}),p&&i.jsx("div",{className:"rounded-md bg-green-50 p-4 text-green-700 text-sm",children:p}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nama Lengkap"}),i.jsx("div",{className:"mt-1",children:i.jsx("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Masukkan nama lengkap",value:o.name,onChange:T})})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Nomor HP"}),i.jsx("div",{className:"mt-1",children:i.jsx("input",{id:"phone",name:"phone",type:"tel",autoComplete:"tel",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Masukan No HP",value:o.phone,onChange:T})}),o.phone&&i.jsxs("div",{className:"mt-2 text-xs text-gray-600",children:["Nomor HP harus aktif dan terdaftar di"," ",i.jsx("span",{className:"text-green-600 font-semibold",children:"Whatsapp"}),". Verifikasi OTP akan dikirim ke"," ",i.jsx("span",{className:"text-green-600 font-semibold",children:"Whatsapp"})," ","nomor ini."]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),i.jsxs("div",{className:"mt-1 relative",children:[i.jsx("input",{id:"password",name:"password",type:r?"text":"password",autoComplete:"new-password",required:!0,className:"appearance-none block w-full px-3 py-2 pr-10 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Minimal 8 karakter",value:o.password,onChange:T}),i.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>l(!r),children:r?i.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 11-4.243-4.243m4.243 4.243L9.88 9.88"})}):i.jsxs("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]}),i.jsx(_u,{password:o.password})]}),i.jsx("div",{children:i.jsxs("button",{type:"submit",disabled:u||!b.isValid,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition duration-200",children:[u?i.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,u?"Mendaftar...":"Daftar Sekarang"]})})]})})})]})}function Wb(){const{user:o}=Gt(),[n,r]=_.useState([]),[l,u]=_.useState(null),[h,f]=_.useState(!0),[g,p]=_.useState("all");_.useEffect(()=>{v()},[o]);const v=async()=>{if(!o)return;const{data:E,error:w}=await Ve.from("reservations").select(`
        *,
        services(name, price, unit),
        user_locations(label, address),
        assignments(
          id,
          assigned_at,
          assignment_staffs(
            users:staff_id(id, name, phone)
          )
        )
      `).eq("user_id",o.id).order("created_at",{ascending:!1});!w&&E&&r(E),f(!1)},x=E=>({pending:"bg-warning-100 text-warning-800 border-warning-200",paid:"bg-success-100 text-success-800 border-success-200",assigned:"bg-blue-100 text-blue-800 border-blue-200",failed:"bg-danger-100 text-danger-800 border-danger-200",canceled:"bg-danger-100 text-danger-800 border-danger-200"})[E]||"bg-secondary-100 text-secondary-800 border-secondary-200",b=E=>({pending:"Menunggu Pembayaran",paid:"Lunas",assigned:"Sudah Ditugaskan",failed:"Gagal",canceled:"Dibatalkan"})[E]||E,S=E=>{if(!E.services?.price||!E.volume)return 0;const w=parseInt(E.volume,10)||1,P=Math.ceil(w/3);return E.services.price*P},T=async E=>{try{const{data:w,error:P}=await Ve.from("payments").select("redirect_url").eq("reservation_id",E).single();if(P||!w?.redirect_url){alert("Link pembayaran tidak ditemukan");return}const H=w.redirect_url.split("/"),q=H[H.length-1];window.snap&&q?window.snap.pay(q,{onSuccess:function(){v()},onPending:function(){v()},onError:function(){alert("Pembayaran gagal. Silakan coba lagi.")},onClose:function(){v()}}):window.open(w.redirect_url,"_blank")}catch(w){console.error("Error:",w),alert("Gagal membuka pembayaran")}},O=n.filter(E=>g==="all"?!0:E.status===g);return h?i.jsxs("div",{className:"min-h-screen bg-secondary-50",children:[i.jsx(wa,{}),i.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})]}):i.jsxs("div",{className:"min-h-screen bg-secondary-50",children:[i.jsx(wa,{}),i.jsxs("div",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Riwayat Reservasi"}),i.jsx("p",{className:"text-secondary-600 mt-1",children:"Pantau status dan kelola semua reservasi Anda"})]}),i.jsx("div",{children:i.jsxs("select",{value:g,onChange:E=>p(E.target.value),className:"input-primary w-full md:w-auto",children:[i.jsx("option",{value:"all",children:"Semua Status"}),i.jsx("option",{value:"pending",children:"Menunggu Pembayaran"}),i.jsx("option",{value:"paid",children:"Lunas"}),i.jsx("option",{value:"failed",children:"Gagal"}),i.jsx("option",{value:"canceled",children:"Dibatalkan"})]})})]})}),O.length===0?i.jsxs("div",{className:"card p-12 text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-secondary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("svg",{className:"w-8 h-8 text-secondary-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),i.jsx("h3",{className:"text-lg font-medium text-secondary-900 mb-2",children:g==="all"?"Belum ada reservasi":`Tidak ada reservasi dengan status "${b(g)}"`}),i.jsx("p",{className:"text-secondary-600",children:"Mulai dengan membuat reservasi pertama Anda"})]}):i.jsx("div",{className:"grid gap-6",children:O.map(E=>i.jsxs("div",{className:"card p-6 border border-secondary-200",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold border ${x(E.status)}`,children:b(E.status)}),E.schedule_slot&&i.jsx("span",{className:"text-sm text-secondary-600",children:E.schedule_slot})]}),i.jsx("div",{className:"text-sm text-secondary-500",children:new Date(E.created_at).toLocaleDateString("id-ID")})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:E.services?.name}),i.jsxs("div",{className:"flex items-center justify-between mt-2",children:[i.jsxs("div",{className:"text-sm text-secondary-600",children:[i.jsxs("div",{children:[" ",E.user_locations?.label," -"," ",E.user_locations?.address]}),i.jsxs("div",{className:"mt-1",children:[""," ",new Date(E.service_date).toLocaleDateString("id-ID")," ","  ",E.volume," m"]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-lg font-bold text-primary-600",children:["Rp ",S(E).toLocaleString()]}),i.jsx("div",{className:"text-xs text-secondary-500",children:E.services?.unit})]})]})]}),E.status==="pending"&&i.jsx("div",{className:"mb-4",children:i.jsxs("button",{onClick:()=>T(E.id),className:"w-full btn-primary text-sm py-2 flex items-center justify-center",children:[i.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),"Bayar Sekarang"]})}),E.status==="assigned"&&E.assignments?.length>0&&i.jsxs("div",{className:"mb-4 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[i.jsxs("h4",{className:"text-sm font-semibold text-blue-900 mb-3 flex items-center",children:[i.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),"Tim yang Ditugaskan"]}),E.assignments.map(w=>i.jsx("div",{className:"space-y-3",children:i.jsxs("div",{children:[i.jsxs("div",{className:"text-xs font-medium text-blue-800 mb-2",children:["Tim Staff (",w.assignment_staffs?.length||0," ","orang):"]}),i.jsx("div",{className:"grid md:grid-cols-2 gap-2",children:w.assignment_staffs?.map((P,H)=>i.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white rounded-lg",children:[i.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:i.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-blue-900",children:P.users?.name}),i.jsxs("div",{className:"text-xs text-blue-700",children:["Staff  ",P.users?.phone]})]})]},H))})]})},w.id)),i.jsxs("div",{className:"text-xs text-blue-600 mt-3 p-2 bg-blue-100 rounded",children:[i.jsx("strong",{children:"Ditugaskan pada:"})," ",new Date(E.assignments[0].assigned_at).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})]})]}),E.notes&&i.jsxs("div",{className:"text-sm text-secondary-600 bg-secondary-50 p-3 rounded-lg",children:[i.jsx("strong",{children:"Catatan:"})," ",E.notes]})]},E.id))}),l&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 overflow-y-auto h-full w-full z-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"relative bg-white rounded-xl shadow-large w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[i.jsx("div",{className:"sticky top-0 bg-white border-b border-secondary-200 px-6 py-4 rounded-t-xl",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h3",{className:"text-xl font-semibold text-secondary-900",children:"Detail Reservasi"}),i.jsx("button",{onClick:()=>u(null),className:"text-secondary-400 hover:text-secondary-600 transition-colors",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Layanan"}),i.jsx("div",{className:"font-semibold text-secondary-900",children:l.services?.name})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Status"}),i.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${x(l.status)}`,children:b(l.status)})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Lokasi"}),i.jsx("div",{className:"font-semibold text-secondary-900",children:l.user_locations?.label}),i.jsx("div",{className:"text-sm text-secondary-600",children:l.user_locations?.address})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Jadwal"}),i.jsx("div",{className:"font-semibold text-secondary-900",children:new Date(l.service_date).toLocaleDateString("id-ID")}),l.schedule_slot&&i.jsxs("div",{className:"text-sm text-secondary-600",children:["Slot: ",l.schedule_slot]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Volume"}),i.jsxs("div",{className:"font-semibold text-secondary-900",children:[l.volume," m"]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Biaya Total"}),i.jsxs("div",{className:"font-bold text-primary-700 text-lg",children:["Rp ",S(l).toLocaleString()]})]})]}),l.payments?.[0]&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Metode Pembayaran"}),i.jsx("div",{className:"font-semibold text-secondary-900",children:l.payments[0].payment_type||"Belum dipilih"}),l.payments[0].transaction_time&&i.jsx("div",{className:"text-sm text-secondary-600",children:new Date(l.payments[0].transaction_time).toLocaleDateString("id-ID")})]}),l.notes&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Catatan"}),i.jsx("div",{className:"bg-secondary-50 rounded-lg p-3",children:i.jsx("p",{className:"text-secondary-900",children:l.notes})})]})]})]})})]})]})}function Ib(){const[o]=m0(),n=o.get("phone")||"",[r,l]=_.useState(""),[u,h]=_.useState(""),[f,g]=_.useState(!1),[p,v]=_.useState(""),[x,b]=_.useState(""),[S,T]=_.useState(!1),[O,E]=_.useState(!1),w=St(),P=wu(r),H=async q=>{if(q.preventDefault(),v(""),b(""),!P.isValid){v("Password tidak memenuhi syarat.");return}if(r!==u){v("Password tidak sama.");return}g(!0);try{const Q=await fetch("https://settled-modern-stinkbug.ngrok-free.app/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json","ngrok-skip-browser-warning":"true"},body:JSON.stringify({phone:n,password:r})}),X=await Q.json();if(!Q.ok){v(X.message||"Gagal reset password."),g(!1);return}b("Password berhasil diubah. Silakan login."),setTimeout(()=>{w("/login")},2e3)}catch{v("Gagal menghubungi server.")}g(!1)};return i.jsxs("div",{className:"min-h-screen flex flex-col justify-center bg-gray-50 py-12 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[i.jsx("h2",{className:"mt-6 text-center text-2xl font-bold text-gray-900",children:"Buat Password Baru"}),i.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Untuk nomor ",i.jsx("b",{children:n})]})]}),i.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:i.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:i.jsxs("form",{className:"space-y-6",onSubmit:H,children:[p&&i.jsx("div",{className:"rounded-md bg-red-50 p-4 text-red-700 text-sm",children:p}),x&&i.jsx("div",{className:"rounded-md bg-green-50 p-4 text-green-700 text-sm",children:x}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password Baru"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:S?"text":"password",className:"input-primary",value:r,onChange:q=>l(q.target.value),required:!0,placeholder:"Password baru"}),i.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>T(q=>!q),tabIndex:-1,children:S?i.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 11-4.243-4.243m4.243 4.243L9.88 9.88"})}):i.jsxs("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]}),i.jsx(_u,{password:r})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ulangi Password Baru"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:O?"text":"password",className:"input-primary",value:u,onChange:q=>h(q.target.value),required:!0,placeholder:"Ulangi password"}),i.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>E(q=>!q),tabIndex:-1,children:O?i.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 11-4.243-4.243m4.243 4.243L9.88 9.88"})}):i.jsxs("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]})]}),i.jsx("button",{type:"submit",disabled:f||!P.isValid,className:"btn-primary w-full",children:f?"Menyimpan...":"Simpan Password"})]})})})]})}const a0=[{key:"users",label:"Users"},{key:"services",label:"Services"},{key:"user_locations",label:"User Locations"},{key:"reservations",label:"Reservations"},{key:"payments",label:"Payments"},{key:"assignments",label:"Assignments"},{key:"assignment_staffs",label:"Assignment Staffs"},{key:"schedule_slots",label:"Schedule Slots"},{key:"notification_templates",label:"Notification Templates"}];function Fb(){const{token:o}=Gt(),n=St(),[r,l]=_.useState("users"),[u,h]=_.useState([]),[f,g]=_.useState(!1),[p,v]=_.useState(null),[x,b]=_.useState(!1),[S,T]=_.useState({}),[O,E]=_.useState(""),[w,P]=_.useState(1),[H,q]=_.useState(10),[Q,X]=_.useState({key:"created_at",direction:"desc"}),[I,ie]=_.useState({message:"",type:"success"}),oe=(B,le)=>{ie({message:le,type:B})};_.useEffect(()=>{Te()},[o]),_.useEffect(()=>{r&&(fe(),P(1),E(""))},[r]);const Te=async()=>{if(!o){n("/login");return}try{const B=await fetch("https://settled-modern-stinkbug.ngrok-free.app/api/auth/me",{headers:{Authorization:`Bearer ${o}`,"ngrok-skip-browser-warning":"true"}}),le=await B.json();if(!B.ok||le.role!=="admin"){n("/admin");return}}catch{n("/login")}},fe=async()=>{g(!0);try{const le=await(await fetch(`https://settled-modern-stinkbug.ngrok-free.app/api/admin/${r}`,{headers:{Authorization:`Bearer ${o}`,"ngrok-skip-browser-warning":"true"}})).json();h(le||[])}catch(B){console.error("Failed to fetch table data:",B)}g(!1)},z=async B=>{B.preventDefault();try{(await fetch(`https://settled-modern-stinkbug.ngrok-free.app/api/admin/${r}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`,"ngrok-skip-browser-warning":"true"},body:JSON.stringify(S)})).ok?(await fe(),b(!1),T({}),oe("success","Data berhasil ditambahkan!")):oe("error","Gagal menambahkan data!")}catch(le){console.error("Failed to create:",le),oe("error","Terjadi kesalahan saat menambahkan data!")}},L=async B=>{B.preventDefault();try{(await fetch(`https://settled-modern-stinkbug.ngrok-free.app/api/admin/${r}/${p.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`,"ngrok-skip-browser-warning":"true"},body:JSON.stringify(S)})).ok?(await fe(),v(null),T({}),oe("success","Data berhasil diupdate!")):oe("error","Gagal mengupdate data!")}catch(le){console.error("Failed to update:",le),oe("error","Terjadi kesalahan saat mengupdate data!")}},F=async B=>{if(confirm("Yakin ingin menghapus data ini?"))try{(await fetch(`https://settled-modern-stinkbug.ngrok-free.app/api/admin/${r}/${B}`,{method:"DELETE",headers:{Authorization:`Bearer ${o}`,"ngrok-skip-browser-warning":"true"}})).ok?(await fe(),oe("success","Data berhasil dihapus!")):oe("error","Gagal menghapus data!")}catch(le){console.error("Failed to delete:",le),oe("error","Terjadi kesalahan saat menghapus data!")}},de=()=>u.length===0?[]:Object.keys(u[0]).filter(B=>B!=="password_hash"),me=B=>B==null?"-":typeof B=="boolean"?B?"":"":typeof B=="string"&&B.length>50?B.substring(0,50)+"...":String(B),M=B=>{v(B),T({...B})},J=()=>{b(!0),T({})},ee=(B=!1)=>{const le=de();return i.jsxs("form",{onSubmit:B?L:z,className:"space-y-4",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:le.map(ge=>ge==="id"||ge==="created_at"||ge==="updated_at"?null:i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:ge.replace(/_/g," ").replace(/\b\w/g,Ce=>Ce.toUpperCase())}),i.jsx("input",{type:"text",className:"input-primary",value:S[ge]||"",onChange:Ce=>T({...S,[ge]:Ce.target.value})})]},ge))}),i.jsxs("div",{className:"flex justify-end space-x-3",children:[i.jsx("button",{type:"button",onClick:()=>{b(!1),v(null),T({})},className:"btn-secondary",children:"Batal"}),i.jsx("button",{type:"submit",className:"btn-primary",children:B?"Update":"Tambah"})]})]})},be=()=>{let B=u;return O.trim()&&(B=B.filter(le=>Object.values(le).some(ge=>ge==null?!1:String(ge).toLowerCase().includes(O.toLowerCase())))),Q.key&&(B=[...B].sort((le,ge)=>{const Ce=le[Q.key],Ye=ge[Q.key];return Ce==null?1:Ye==null?-1:Ce<Ye?Q.direction==="asc"?-1:1:Ce>Ye?Q.direction==="asc"?1:-1:0})),B},N=B=>{X(le=>({key:B,direction:le.key===B&&le.direction==="asc"?"desc":"asc"}))},G=be(),Z=Math.ceil(G.length/H),W=(w-1)*H,K=W+H,ae=G.slice(W,K),te=()=>{const B=[];if(Z<=5)for(let ge=1;ge<=Z;ge++)B.push(ge);else if(w<=3){for(let ge=1;ge<=4;ge++)B.push(ge);B.push("..."),B.push(Z)}else if(w>=Z-2){B.push(1),B.push("...");for(let ge=Z-3;ge<=Z;ge++)B.push(ge)}else B.push(1),B.push("..."),B.push(w-1),B.push(w),B.push(w+1),B.push("..."),B.push(Z);return B},Le=()=>{if(G.length===0){oe("error","Tidak ada data untuk diexport!");return}const B=de();let le="data:text/csv;charset=utf-8,";le+=B.map(Vt=>`"${Vt.replace(/_/g," ").toUpperCase()}"`).join(",")+`
`,G.forEach(Vt=>{const as=B.map(ss=>{let Ue=Vt[ss];return Ue==null?Ue="":typeof Ue=="boolean"?Ue=Ue?"TRUE":"FALSE":typeof Ue=="object"?Ue=JSON.stringify(Ue):Ue=String(Ue),`"${Ue.replace(/"/g,'""')}"`});le+=as.join(",")+`
`});const ge=encodeURI(le),Ce=document.createElement("a");Ce.setAttribute("href",ge);const Ye=new Date().toISOString().slice(0,10),_a=a0.find(Vt=>Vt.key===r)?.label||r;Ce.setAttribute("download",`${_a}_${Ye}.csv`),document.body.appendChild(Ce),Ce.click(),document.body.removeChild(Ce),oe("success","Data berhasil diexport!")};return i.jsxs("div",{className:"min-h-screen bg-secondary-50",children:[i.jsx(wa,{}),i.jsx(Vi,{message:I.message,type:I.type,onClose:()=>ie({message:"",type:"success"})}),i.jsxs("div",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Database Tables Management"}),i.jsx("p",{className:"text-secondary-600 mt-1",children:"Kelola semua data database dengan mudah"})]}),i.jsxs("div",{className:"card p-6",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[i.jsx("select",{value:r,onChange:B=>l(B.target.value),className:"input-primary max-w-xs",children:a0.map(B=>i.jsx("option",{value:B.key,children:B.label},B.key))}),i.jsx("div",{className:"flex-1 max-w-md mx-4",children:i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",placeholder:"Search...",value:O,onChange:B=>{E(B.target.value),P(1)},className:"input-primary pl-10 pr-4"}),i.jsx("svg",{className:"w-5 h-5 text-secondary-400 absolute left-3 top-1/2 transform -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs("button",{onClick:J,className:"btn-primary text-sm flex items-center",children:[i.jsx(x0,{className:"w-4 h-4 mr-1"}),"Tambah"]}),i.jsxs("button",{onClick:fe,className:"btn-secondary text-sm flex items-center",disabled:f,children:[i.jsx(_0,{className:`w-4 h-4 mr-1 ${f?"animate-spin":""}`}),"Refresh"]})]})]}),i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("label",{className:"text-sm text-secondary-600",children:"Show:"}),i.jsxs("select",{value:H,onChange:B=>{q(Number(B.target.value)),P(1)},className:"input-primary py-1 px-2 text-sm",children:[i.jsx("option",{value:5,children:"5"}),i.jsx("option",{value:10,children:"10"}),i.jsx("option",{value:25,children:"25"}),i.jsx("option",{value:50,children:"50"}),i.jsx("option",{value:100,children:"100"})]}),i.jsx("span",{className:"text-sm text-secondary-600",children:"entries"})]}),i.jsxs("div",{className:"text-sm text-secondary-600",children:["Showing ",G.length===0?0:W+1," to"," ",Math.min(K,G.length)," of ",G.length," ","entries",O&&` (filtered from ${u.length} total)`]})]}),x&&i.jsxs("div",{className:"mb-6 p-4 bg-primary-50 rounded-lg border border-primary-200",children:[i.jsx("h3",{className:"text-lg font-medium text-primary-900 mb-4",children:"Tambah Data Baru"}),ee(!1)]}),p&&i.jsxs("div",{className:"mb-6 p-4 bg-warning-50 rounded-lg border border-warning-200",children:[i.jsx("h3",{className:"text-lg font-medium text-warning-900 mb-4",children:"Edit Data"}),ee(!0)]}),f?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"}),i.jsx("p",{className:"text-secondary-500 mt-2",children:"Loading..."})]}):ae.length===0?i.jsx("div",{className:"text-center py-8",children:i.jsx("p",{className:"text-secondary-500",children:O?"No matching data found":"Tidak ada data"})}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-secondary-200",children:[i.jsx("thead",{className:"bg-secondary-50",children:i.jsxs("tr",{children:[de().map(B=>i.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider ${B==="created_at"||B==="updated_at"?"cursor-pointer select-none hover:bg-secondary-100":""}`,onClick:()=>{(B==="created_at"||B==="updated_at")&&N(B)},children:i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("span",{children:B.replace(/_/g," ")}),(B==="created_at"||B==="updated_at")&&i.jsxs("div",{className:"flex flex-col",children:[i.jsx("svg",{className:`w-3 h-3 ${Q.key===B&&Q.direction==="asc"?"text-primary-600":"text-secondary-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M5.293 9.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 7.414V15a1 1 0 11-2 0V7.414L6.707 9.707a1 1 0 01-1.414 0z"})}),i.jsx("svg",{className:`w-3 h-3 -mt-1 ${Q.key===B&&Q.direction==="desc"?"text-primary-600":"text-secondary-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M14.707 10.293a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 111.414-1.414L9 12.586V5a1 1 0 012 0v7.586l2.293-2.293a1 1 0 011.414 0z"})})]})]})},B)),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-500 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-secondary-200",children:ae.map((B,le)=>i.jsxs("tr",{className:"hover:bg-secondary-50",children:[de().map(ge=>i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900",children:me(B[ge])},ge)),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx("button",{onClick:()=>M(B),className:"text-primary-600 hover:text-primary-900",title:"Edit",children:i.jsx(j0,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>F(B.id),className:"text-danger-600 hover:text-danger-900",title:"Delete",children:i.jsx(y0,{className:"w-4 h-4"})})]})})]},B.id||le))})]})}),i.jsx("div",{className:"mt-4 flex justify-end",children:i.jsxs("button",{onClick:Le,className:"btn-primary text-sm flex items-center",disabled:f||G.length===0,children:[i.jsx(ky,{className:"w-4 h-4 mr-2"}),"Export to Excel (",G.length," rows)"]})}),Z>1&&i.jsxs("div",{className:"flex items-center justify-center space-x-2 mt-6",children:[i.jsx("button",{onClick:()=>P(B=>Math.max(1,B-1)),disabled:w===1,className:"px-3 py-1 rounded-lg text-sm font-medium text-secondary-600 hover:text-primary-600 hover:bg-secondary-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),te().map((B,le)=>B==="..."?i.jsx("span",{className:"px-3 py-1 text-secondary-400",children:"..."},`ellipsis-${le}`):i.jsx("button",{onClick:()=>P(B),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${w===B?"bg-primary-600 text-white":"text-secondary-600 hover:text-primary-600 hover:bg-secondary-50"}`,children:B},B)),i.jsx("button",{onClick:()=>P(B=>Math.min(Z,B+1)),disabled:w===Z,className:"px-3 py-1 rounded-lg text-sm font-medium text-secondary-600 hover:text-primary-600 hover:bg-secondary-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})]})]})]})}function e1(){const[o]=m0(),n=o.get("phone")||"",r=o.get("email")||"",l=o.get("name")||"",u=o.get("password")||"",h=o.get("full_name")||"",f=o.get("id_number")||"",g=o.get("profileUpdate")==="1",p=o.get("forgot")==="1",v=o.get("register")==="1",x=o.get("changePhone")==="1",{token:b,setUser:S}=Gt(),[T,O]=_.useState(["","","","","",""]),[E,w]=_.useState(!1),[P,H]=_.useState(""),[q,Q]=_.useState(""),X=St(),I=_.useRef([]),ie=(z,L)=>{const F=z.target.value.replace(/[^0-9]/g,"");if(!F){O(de=>{const me=[...de];return me[L]="",me});return}O(de=>{const me=[...de];return me[L]=F[0],me}),F&&L<5&&I.current[L+1]?.focus()},oe=(z,L)=>{z.key==="Backspace"&&!T[L]&&L>0&&I.current[L-1]?.focus()},Te=z=>{const L=z.clipboardData.getData("text").replace(/[^0-9]/g,"");L.length===6&&(O(L.split("")),setTimeout(()=>{I.current[5]?.focus()},10),z.preventDefault())},fe=async z=>{z.preventDefault();const L=T.join("");if(L.length!==6){Q("Kode OTP harus 6 digit.");return}w(!0),Q(""),H("");try{const de=await fetch("https://settled-modern-stinkbug.ngrok-free.app/api/otp/verify",{method:"POST",headers:{"Content-Type":"application/json","ngrok-skip-browser-warning":"true"},body:JSON.stringify({phone:n,code:L})}),me=await de.json();if(de.ok){if(x){const M=await fetch("https://settled-modern-stinkbug.ngrok-free.app/api/auth/change-phone",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${b}`,"ngrok-skip-browser-warning":"true"},body:JSON.stringify({newPhone:n})}),J=await M.json();if(!M.ok){Q(J.message||"Gagal mengganti nomor HP."),w(!1);return}H("Nomor HP berhasil diganti!"),S(ee=>({...ee,phone:n})),setTimeout(()=>{X("/profile")},1500),w(!1);return}if(p){H("OTP terverifikasi. Silakan buat password baru."),setTimeout(()=>{X(`/set-new-password?phone=${encodeURIComponent(n)}`)},1500),w(!1);return}if(v){const M=await fetch("https://settled-modern-stinkbug.ngrok-free.app/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json","ngrok-skip-browser-warning":"true"},body:JSON.stringify({name:l,phone:n,password:u})}),J=await M.json();if(!M.ok){Q(J.message||"Gagal mendaftar."),w(!1);return}J.message?.includes("diaktifkan kembali")?H("Akun berhasil diaktifkan kembali! Silakan login."):H("Registrasi berhasil! Silakan login."),setTimeout(()=>{X("/login")},1500),w(!1);return}if(g){let M=null;const{data:J}=await Ve.auth.getSession();if(M=J?.session?.user?.id,M||(M=(JSON.parse(localStorage.getItem("sb-user"))||{}).id),!M){Q("User tidak ditemukan. Silakan logout dan login ulang."),w(!1);return}const{error:ee}=await Ve.from("users").update({phone_number:n,full_name:h}).eq("id",M);ee?Q(ee.message):(H("Nomor HP berhasil diperbarui!"),setTimeout(()=>{X("/profile")},2e3))}else{const{data:M,error:J}=await Ve.auth.signUp({email:r,password:u,options:{data:{full_name:h,phone_number:n,id_number:f}}});if(J)Q(J.message);else{let ee=M?.user?.id;!ee&&M?.user&&(ee=M.user.id),!ee&&M?.session?.user?.id&&(ee=M.session.user.id),ee&&await Ve.from("users").update({phone_number:n}).eq("id",ee),H("Verifikasi berhasil! Silakan login."),setTimeout(()=>{X("/login")},2e3)}}}else Q(me.message||"Kode OTP salah atau kedaluwarsa.")}catch{Q("Gagal menghubungi server.")}w(!1)};return i.jsxs("div",{className:"min-h-screen flex flex-col justify-center bg-gray-50 py-12 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[i.jsx(We,{to:"/",className:"flex justify-center",children:i.jsx("h1",{className:"text-3xl font-bold text-blue-600",children:"UPTD PAL"})}),i.jsx("h2",{className:"mt-6 text-center text-2xl font-bold text-gray-900",children:"Verifikasi OTP"}),i.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Masukkan kode OTP yang dikirim ke WhatsApp ",i.jsx("b",{children:n}),p&&i.jsx("span",{className:"block text-danger-600 mt-1",children:"(Reset Password)"})]})]}),i.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:i.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:i.jsxs("form",{className:"space-y-6",onSubmit:fe,children:[q&&i.jsx("div",{className:"rounded-md bg-red-50 p-4 text-red-700 text-sm",children:q}),P&&i.jsx("div",{className:"rounded-md bg-green-50 p-4 text-green-700 text-sm",children:P}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kode OTP"}),i.jsx("div",{className:"flex gap-2 justify-center",onPaste:Te,children:T.map((z,L)=>i.jsx("input",{ref:F=>I.current[L]=F,type:"text",inputMode:"numeric",maxLength:1,className:"w-12 h-12 text-center text-xl border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",value:z,onChange:F=>ie(F,L),onKeyDown:F=>oe(F,L),autoFocus:L===0},L))})]}),i.jsx("button",{type:"submit",disabled:E,className:"w-full btn-primary",children:E?"Memverifikasi...":"Verifikasi"})]})})})]})}function t1(){const{token:o}=Gt(),n=St(),[r,l]=_.useState(!0),[u,h]=_.useState([]),[f,g]=_.useState([]),[p,v]=_.useState(null),[x,b]=_.useState({template:"",active:!0}),[S,T]=_.useState({message:"",type:"success"}),[O,E]=_.useState("notifications"),[w,P]=_.useState({show:!1,template:null}),[H,q]=_.useState([]),[Q]=_.useState(!1);_.useEffect(()=>{I()},[o]),_.useEffect(()=>{if(o){ie();const L=setInterval(ie,1e4);return()=>clearInterval(L)}},[o]);const X=(L,F)=>{T({message:F,type:L})},I=async()=>{if(!o){n("/login");return}try{const L=await fetch("https://settled-modern-stinkbug.ngrok-free.app/api/auth/me",{headers:{Authorization:`Bearer ${o}`,"ngrok-skip-browser-warning":"true"}}),F=await L.json();if(!L.ok||F.role!=="admin"){n("/dashboard");return}l(!1)}catch{n("/login")}},ie=async()=>{try{const[L,F,de]=await Promise.all([fetch("https://settled-modern-stinkbug.ngrok-free.app/api/admin/notifications",{headers:{Authorization:`Bearer ${o}`,"ngrok-skip-browser-warning":"true"}}),fetch("https://settled-modern-stinkbug.ngrok-free.app/api/admin/notification_templates",{headers:{Authorization:`Bearer ${o}`,"ngrok-skip-browser-warning":"true"}}),fetch("https://settled-modern-stinkbug.ngrok-free.app/api/admin/users",{headers:{Authorization:`Bearer ${o}`,"ngrok-skip-browser-warning":"true"}})]),[me,M,J]=await Promise.all([L.json(),F.json(),de.json()]);h(Array.isArray(me)?me:[]),g(Array.isArray(M)?M:[]),q(Array.isArray(J)?J.filter(ee=>ee.role==="user"&&ee.notify_information):[])}catch(L){console.error("Failed to fetch data:",L),h([]),g([]),q([])}},oe=L=>{v(L),b({template:L.template,active:L.active})},Te=async L=>{L.preventDefault();try{(await fetch(`https://settled-modern-stinkbug.ngrok-free.app/api/admin/notification_templates/${p.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`,"ngrok-skip-browser-warning":"true"},body:JSON.stringify(x)})).ok?(await ie(),v(null),b({template:"",active:!0}),X("success","Template berhasil diupdate!")):X("error","Gagal mengupdate template!")}catch(F){console.error("Failed to update template:",F),X("error","Terjadi kesalahan saat mengupdate template!")}},fe=async()=>{if(!w.template){X("error","Template tidak ditemukan!");return}if(H.length===0){X("error","Tidak ada user yang mengaktifkan notifikasi information!");return}P({show:!1,template:null}),X("success",`Broadcast dimulai untuk ${H.length} user. Proses berjalan di background.`);try{fetch("https://settled-modern-stinkbug.ngrok-free.app/api/admin/send-information-broadcast",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`,"ngrok-skip-browser-warning":"true"},body:JSON.stringify({template_type:w.template.type,variables:{}})}),setTimeout(()=>ie(),1e4)}catch(L){console.error("Failed to start broadcast:",L)}},z=L=>{const F={sent:{color:"bg-success-100 text-success-800 border-success-200",icon:_y},failed:{color:"bg-danger-100 text-danger-800 border-danger-200",icon:Ny},pending:{color:"bg-warning-100 text-warning-800 border-warning-200",icon:b0}};return F[L]||F.pending};return r?i.jsx("div",{className:"min-h-screen bg-secondary-50 flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):i.jsxs("div",{className:"min-h-screen bg-secondary-50",children:[i.jsx(wa,{}),i.jsx(Vi,{message:S.message,type:S.type,onClose:()=>T({message:"",type:"success"})}),i.jsxs("div",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[w.show&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[i.jsxs("h3",{className:"text-lg font-semibold text-secondary-900 mb-4",children:["Broadcast Notifikasi: ",w.template?.type]}),i.jsxs("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[i.jsx("p",{className:"text-sm font-medium text-blue-900 mb-2",children:" Broadcast Information"}),i.jsxs("p",{className:"text-xs text-blue-700",children:["Pesan akan dikirim ke"," ",i.jsxs("span",{className:"font-bold",children:[H.length," user"]})," yang mengaktifkan notifikasi information."]}),i.jsxs("p",{className:"text-xs text-blue-600 mt-2",children:[" Estimasi waktu: ~",Math.ceil(H.length*10/60)," ","menit (10 detik/user)"]})]}),i.jsxs("div",{className:"mb-4 p-3 bg-secondary-50 rounded-lg",children:[i.jsx("p",{className:"text-xs font-medium text-secondary-600 mb-2",children:"Preview Pesan:"}),i.jsx("pre",{className:"text-sm text-secondary-700 whitespace-pre-wrap font-sans",children:w.template?.template})]}),Q&&i.jsx("div",{className:"mb-4 p-3 bg-warning-50 border border-warning-200 rounded-lg",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-warning-600"}),i.jsx("p",{className:"text-sm text-warning-800",children:"Sedang mengirim broadcast... Harap tunggu."})]})}),i.jsxs("div",{className:"flex justify-end space-x-3",children:[i.jsx("button",{onClick:()=>{Q||P({show:!1,template:null})},className:"btn-secondary",disabled:Q,children:Q?"Mengirim...":"Batal"}),i.jsx("button",{onClick:fe,className:"btn-primary flex items-center",disabled:Q||H.length===0,children:Q?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Mengirim..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Cm,{className:"w-4 h-4 mr-2"}),"Kirim Broadcast"]})})]})]})}),i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"WhatsApp Notifier"}),i.jsx("p",{className:"text-secondary-600 mt-1",children:"Kelola notifikasi WhatsApp dan template pesan"})]}),i.jsx("div",{className:"mb-6 border-b border-secondary-200",children:i.jsxs("div",{className:"flex space-x-8",children:[i.jsxs("button",{onClick:()=>E("notifications"),className:`pb-4 px-1 border-b-2 font-medium text-sm transition-colors ${O==="notifications"?"border-primary-600 text-primary-600":"border-transparent text-secondary-500 hover:text-secondary-700 hover:border-secondary-300"}`,children:["Riwayat Notifikasi (",u.length,")"]}),i.jsxs("button",{onClick:()=>E("templates"),className:`pb-4 px-1 border-b-2 font-medium text-sm transition-colors ${O==="templates"?"border-primary-600 text-primary-600":"border-transparent text-secondary-500 hover:text-secondary-700 hover:border-secondary-300"}`,children:["Template Pesan (",f.length,")"]})]})}),O==="notifications"&&i.jsxs("div",{className:"card p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h2",{className:"text-lg font-semibold text-secondary-900",children:"Riwayat Notifikasi WhatsApp"}),i.jsxs("button",{onClick:ie,className:"btn-secondary text-sm flex items-center",children:[i.jsx(_0,{className:"w-4 h-4 mr-2"}),"Refresh"]})]}),u.length===0?i.jsx("div",{className:"text-center py-12",children:i.jsx("p",{className:"text-secondary-500",children:"Belum ada notifikasi terkirim"})}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-secondary-200",children:[i.jsx("thead",{className:"bg-secondary-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider",children:"Tanggal"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider",children:"User"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider",children:"Tipe"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider",children:"Reservasi"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider",children:"Status"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-secondary-200",children:u.map(L=>{const F=z(L.status),de=F.icon;return i.jsxs("tr",{className:"hover:bg-secondary-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900",children:new Date(L.created_at).toLocaleString("id-ID")}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-secondary-900",children:L.users?.name}),i.jsx("div",{className:"text-secondary-500",children:L.users?.phone})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900",children:L.type}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:L.reservations?i.jsxs("div",{children:[i.jsx("div",{className:"text-secondary-900",children:L.reservations.services?.name}),i.jsx("div",{className:"text-xs text-secondary-500",children:new Date(L.reservations.service_date).toLocaleDateString("id-ID")})]}):"-"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${F.color}`,children:[i.jsx(de,{className:"w-4 h-4 mr-1"}),L.status]})})]},L.id)})})]})})]}),O==="templates"&&i.jsxs("div",{className:"space-y-6",children:[p&&i.jsxs("div",{className:"card p-6 border-2 border-primary-300 bg-primary-50",children:[i.jsxs("h3",{className:"text-lg font-semibold text-primary-900 mb-4",children:["Edit Template: ",p.type]}),i.jsxs("div",{className:"mb-6 p-4 bg-white rounded-lg border border-primary-200",children:[i.jsx("h4",{className:"font-medium text-secondary-900 mb-2",children:" Cara Menggunakan Variabel:"}),i.jsxs("p",{className:"text-sm text-secondary-600 mb-3",children:["Gunakan format"," ",i.jsx("code",{className:"bg-secondary-100 px-1 py-0.5 rounded",children:"{{nama_variabel}}"})," ","untuk menambahkan data dinamis ke template."]}),i.jsxs("div",{className:"text-sm text-secondary-700",children:[i.jsx("p",{className:"font-medium mb-2",children:"Variabel yang tersedia untuk template ini:"}),p.category==="information"?i.jsx("ul",{className:"list-disc list-inside space-y-1 ml-2",children:i.jsxs("li",{children:[i.jsx("code",{children:"{{name}}"})," - Nama user"]})}):i.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[i.jsxs("li",{children:[i.jsx("code",{children:"{{name}}"})," - Nama user"]}),i.jsxs("li",{children:[i.jsx("code",{children:"{{service_name}}"})," - Nama layanan"]}),i.jsxs("li",{children:[i.jsx("code",{children:"{{service_date}}"})," - Tanggal layanan"]}),i.jsxs("li",{children:[i.jsx("code",{children:"{{schedule_slot}}"})," - Slot waktu"]}),i.jsxs("li",{children:[i.jsx("code",{children:"{{address}}"})," - Alamat"]}),i.jsxs("li",{children:[i.jsx("code",{children:"{{staff_names}}"})," - Nama staff yang di-assign"]}),i.jsxs("li",{children:[i.jsx("code",{children:"{{volume}}"})," - Volume (m)"]})]})]})]}),i.jsxs("form",{onSubmit:Te,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Template Pesan"}),i.jsx("textarea",{value:x.template,onChange:L=>b({...x,template:L.target.value}),rows:8,className:"input-primary resize-none font-mono text-sm",placeholder:"Contoh: Halo {{name}}, reservasi Anda untuk {{service_name}} pada {{service_date}} telah di-assign ke {{staff_names}}."})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:"active",checked:x.active,onChange:L=>b({...x,active:L.target.checked}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-secondary-300 rounded"}),i.jsx("label",{htmlFor:"active",className:"ml-2 text-sm text-secondary-700",children:"Template Aktif"})]}),i.jsxs("div",{className:"flex justify-end space-x-3",children:[i.jsx("button",{type:"button",onClick:()=>{v(null),b({template:"",active:!0})},className:"btn-secondary",children:"Batal"}),i.jsx("button",{type:"submit",className:"btn-primary",children:"Simpan"})]})]})]}),i.jsx("div",{className:"grid gap-4",children:f.map(L=>i.jsxs("div",{className:`card p-6 ${L.active?"":"opacity-60 bg-secondary-50"}`,children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:L.type}),i.jsxs("p",{className:"text-sm text-secondary-600",children:["Kategori: ",L.category]})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[L.category==="information"&&i.jsxs("button",{onClick:()=>P({show:!0,template:L}),className:"px-3 py-1 bg-primary-600 text-white rounded-lg text-xs font-medium hover:bg-primary-700 transition-colors flex items-center",title:"Broadcast ke semua user",children:[i.jsx(Cm,{className:"w-3 h-3 mr-1"}),"Broadcast (",H.length,")"]}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${L.active?"bg-success-100 text-success-800":"bg-secondary-100 text-secondary-800"}`,children:L.active?"Aktif":"Nonaktif"}),i.jsx("button",{onClick:()=>oe(L),className:"text-primary-600 hover:text-primary-900",title:"Edit",children:i.jsx(j0,{className:"w-5 h-5"})})]})]}),i.jsx("div",{className:"bg-secondary-50 rounded-lg p-4",children:i.jsx("pre",{className:"text-sm text-secondary-700 whitespace-pre-wrap font-sans",children:L.template})})]},L.id))})]})]})]})}function a1(){return i.jsx(my,{children:i.jsx(uy,{children:i.jsxs(ay,{children:[i.jsx(Rt,{path:"/",element:i.jsx(Kb,{})}),i.jsx(Rt,{path:"/login",element:i.jsx(Qb,{})}),i.jsx(Rt,{path:"/register",element:i.jsx(Zb,{})}),i.jsx(Rt,{path:"/dashboard",element:i.jsx(Ss,{children:i.jsx(Gb,{})})}),i.jsx(Rt,{path:"/reservasi/buat",element:i.jsx(Ss,{children:i.jsx($b,{})})}),i.jsx(Rt,{path:"/riwayat",element:i.jsx(Ss,{children:i.jsx(Wb,{})})}),i.jsx(Rt,{path:"/profile",element:i.jsx(Ss,{children:i.jsx(Jb,{})})}),i.jsx(Rt,{path:"/admin",element:i.jsx(Ss,{children:i.jsx(Uy,{})})}),i.jsx(Rt,{path:"/admin/tables",element:i.jsx(Ss,{children:i.jsx(Fb,{})})}),i.jsx(Rt,{path:"/admin/whatsapp",element:i.jsx(Ss,{children:i.jsx(t1,{})})}),i.jsx(Rt,{path:"/verify-otp",element:i.jsx(e1,{})}),i.jsx(Rt,{path:"/set-new-password",element:i.jsx(Ib,{})})]})})})}uv.createRoot(document.getElementById("root")).render(i.jsx(_.StrictMode,{children:i.jsx(a1,{})}));
